
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b30ff90c-388e-5d97-8c65-7bde8020bd10")}catch(e){}}();
(()=>{/*! Copyright (c) 2025 Tutteo Ltd. */(self.webpackChunk_flat_flat=self.webpackChunk_flat_flat||[]).push([[27655],{11285:(f,y,r)=>{"use strict";r.d(y,{A:()=>Vs});var e=r(361744),i=r(538065),h=r(555381);const C=r.p+"img/4fdbf9e39f6d607b8593.svg",v=r.p+"img/0bddc072dc76dd3f34dc.svg",w=["aria-label"],H={key:0,class:"ddn-shr-basic"},E={class:"shr-header"},I={class:"title"},L={class:"shr-basic-options"},S={class:"shr-i"},m={key:0,class:"doneCheckmark"},c={key:1,class:"loader-circular",height:"20",width:"20",viewBox:"10 10 20 20"},p={key:2,inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},D={key:0,class:"o-title"},x={key:1,class:"o-title"},M={key:2,class:"o-desc"},z={key:3,class:"o-desc"},K={class:"shr-t"},g={class:"o-title"},P={class:"o-desc"},V={class:"shr-t"},le={class:"o-title"},ne={class:"o-desc"},oe={class:"shr-i"},he={key:0,class:"loader-circular",height:"20",width:"20",viewBox:"10 10 20 20"},ce={key:1,inline:"",width:"36",height:"30",viewBox:"0 0 36 30",xmlns:"http://www.w3.org/2000/svg"},ue={class:"shr-t"},ve={class:"o-title"},pe={class:"o-desc"},me={key:1,class:"ddn-shr-dt"},ge={class:"shr-header"},_e={class:"title"},fe={key:0,class:"successText"},ye={key:1,class:"doneCheckmark"},be={key:2,class:"loader-circular",height:"20",width:"20",viewBox:"10 10 20 20"},ke={key:3,inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Ce={key:0,class:"loader-circular",height:"20",width:"20",viewBox:"10 10 20 20"},we={key:1,inline:"",width:"36",height:"30",viewBox:"0 0 36 30",xmlns:"http://www.w3.org/2000/svg"},Ee={key:0,class:"shr-add"},xe={key:1,class:"group"},Le={class:"text"},De={key:2,class:"email-collab"},Ie=["onClick"],Se=["placeholder"],Pe={class:"shr-list"},Ae={class:"privacy-mde collaborator-item no-select"},Me={class:"collaborator-details"},Oe={key:0,class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"21",viewBox:"0 0 16 21"},Xe={key:1,class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},He={key:2,class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Te={key:3,class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},ze={class:"collaborator-info full-width"},Ke={class:"first-line"},Ve={class:"name"},Re={class:"second-line privacy-description"},We={class:"text"},Be={key:0,class:"collaborator-rights"},Fe={class:"ro updating"},je={key:1,class:"collaborator-rights"},Ue={key:0},Qe={key:0},Ne={key:1},Ye={key:0,class:"bull"},Ge={key:1,class:"shr-list shr-search"},Je={key:2,class:"shr-add-footer"},Ze={class:"invite-as"},$e={class:"change"},qe={key:0},et={key:1},tt={key:2},st={class:"text"},it={key:1,class:"send-invite loading"},at={class:"text"},rt={key:2,class:"ddn-shr-privacy no-select"},dt={class:"info"},lt={class:"name"},nt={class:"description"},ot={class:"choose"},ht={class:"info"},ct={class:"name"},ut={class:"description"},vt={class:"choose"},pt={class:"info"},mt={class:"name"},gt={class:"description"},_t={class:"choose"},ft=["href"],yt={class:"info"},bt={class:"name"},kt={class:"description"},Ct={class:"choose"};function wt(s,t,a,o,l,d){var b;const k=(0,e.g2)("warning-icon"),u=(0,e.g2)("avatar"),_=(0,e.g2)("ddn-sharing-collab-item"),Rs=(0,e.g2)("ddn-collab-privacy"),Ws=(0,e.g2)("dropdown"),Bs=(0,e.gN)("dompurify-html");return(0,e.uX)(),(0,e.CE)("div",{class:(0,i.C4)(["ddn-shr",a.fullWidth&&"full-width"]),onClick:t[21]||(t[21]=(0,h.D$)(n=>d.handleTopClick(),["prevent","stop"])),"aria-label":s.$t("flat:collec.scoreSharingOptions")},[l.mode==="basic"?((0,e.uX)(),(0,e.CE)("div",H,[(0,e.Lk)("div",E,[(0,e.Lk)("div",I,(0,i.v_)(s.$t("flat:collec.nav.share"))+": "+(0,i.v_)(d.singleItem.title),1),(0,e.Lk)("button",{onClick:t[0]||(t[0]=n=>d.setDdnMode("default")),class:"shr-go-advanced"},(0,i.v_)(s.$t("flat:easy-share.advanced")),1)]),(0,e.Lk)("div",L,[a.canDisplayPrivateLink&&d.displaySharingLink?((0,e.uX)(),(0,e.CE)("button",{key:0,onClick:t[1]||(t[1]=(...n)=>d.copyLinkHandler&&d.copyLinkHandler(...n))},[(0,e.Lk)("div",S,[l.createdLink?((0,e.uX)(),(0,e.CE)("div",m,t[22]||(t[22]=[(0,e.Lk)("svg",{inline:"",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,e.Lk)("path",{d:"M23 5L9.462 20 1 13.333",class:"stroke",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"})],-1)]))):l.creatingLink?((0,e.uX)(),(0,e.CE)("svg",c,t[23]||(t[23]=[(0,e.Lk)("circle",{cx:"20",cy:"20",r:"8",fill:"none","stroke-width":"2"},null,-1)]))):((0,e.uX)(),(0,e.CE)("svg",p,t[24]||(t[24]=[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M2.6 8c0-1.14.927-2.067 2.067-2.067h2.666V4.667H4.667a3.335 3.335 0 0 0 0 6.666h2.666v-1.266H4.667A2.068 2.068 0 0 1 2.6 8zm2.733.667h5.334V7.333H5.333v1.334zm6-4H8.667v1.266h2.666c1.14 0 2.067.927 2.067 2.067 0 1.14-.927 2.067-2.067 2.067H8.667v1.266h2.666a3.335 3.335 0 0 0 0-6.666z"},null,-1)])))]),(0,e.Lk)("div",{class:(0,i.C4)(["shr-t",{done:l.createdLink}])},[l.createdLink?((0,e.uX)(),(0,e.CE)("div",D,(0,i.v_)(s.$t("flat:private-link.copied")),1)):((0,e.uX)(),(0,e.CE)("div",x,(0,i.v_)(s.$t("flat:easy-share.privateLinkTitle")),1)),l.creatingLink?((0,e.uX)(),(0,e.CE)("div",M,(0,i.v_)(s.$t("flat:private-link.creating"))+"... ",1)):((0,e.uX)(),(0,e.CE)("div",z,(0,i.v_)(s.$t("flat:easy-share.privateLinkDesc")),1))],2)])):(0,e.Q3)("",!0),a.canDisplayPublish&&!o.hasAccessToken&&o.account.type==="user"?((0,e.uX)(),(0,e.CE)("button",{key:1,onClick:t[2]||(t[2]=(0,h.D$)(n=>d.publish(),["prevent","stop"]))},[t[25]||(t[25]=(0,e.Lk)("div",{class:"shr-i"},[(0,e.Lk)("svg",{inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M8 1.333A6.67 6.67 0 0 0 1.333 8 6.67 6.67 0 0 0 8 14.667 6.67 6.67 0 0 0 14.667 8 6.67 6.67 0 0 0 8 1.333zm-.667 11.954A5.326 5.326 0 0 1 2.667 8c0-.413.053-.807.14-1.193L6 10v.667C6 11.4 6.6 12 7.333 12v1.287zm4.6-1.694a1.323 1.323 0 0 0-1.266-.926H10v-2C10 8.3 9.7 8 9.333 8h-4V6.667h1.334c.366 0 .666-.3.666-.667V4.667h1.334c.733 0 1.333-.6 1.333-1.334V3.06A5.336 5.336 0 0 1 13.333 8a5.305 5.305 0 0 1-1.4 3.593z"})])],-1)),(0,e.Lk)("div",K,[(0,e.Lk)("div",g,(0,i.v_)(s.$t("flat:easy-share.publishTitle")),1),(0,e.Lk)("div",P,(0,i.v_)(s.$t("flat:easy-share.publishDesc")),1),(b=o.account.community)!=null&&b.acceptedCodeOfConduct?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("div",{key:0,class:(0,i.C4)(s.$style["accept-coc-warning"])},[(0,e.bF)(k),(0,e.bo)((0,e.Lk)("p",null,null,512),[[Bs,s.$t("flat:easy-share.acceptCOCWarning")]])],2))])])):(0,e.Q3)("",!0),a.canDisplayCollaborators&&o.account.type==="user"?((0,e.uX)(),(0,e.CE)("button",{key:2,onClick:t[3]||(t[3]=n=>d.setDdnMode("default"))},[t[26]||(t[26]=(0,e.Lk)("div",{class:"shr-i"},[(0,e.Lk)("svg",{inline:"",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16",viewBox:"0 0 22 16"},[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M14 8c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zM5 6V3H3v3H0v2h3v3h2V8h3V6H5zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})])],-1)),(0,e.Lk)("div",V,[(0,e.Lk)("div",le,(0,i.v_)(s.$t("flat:easy-share.collabTitle")),1),(0,e.Lk)("div",ne,(0,i.v_)(s.$t("flat:easy-share.collabDesc")),1)])])):(0,e.Q3)("",!0),a.canDisplayEmbed&&d.displayEmbed&&!o.hasAccessToken?((0,e.uX)(),(0,e.CE)("button",{key:3,onClick:t[4]||(t[4]=n=>d.embed())},[(0,e.Lk)("div",oe,[l.creatingEmbed?((0,e.uX)(),(0,e.CE)("svg",he,t[27]||(t[27]=[(0,e.Lk)("circle",{cx:"20",cy:"20",r:"8",fill:"none","stroke-width":"2"},null,-1)]))):((0,e.uX)(),(0,e.CE)("svg",ce,t[28]||(t[28]=[(0,e.Lk)("path",{d:"M25.578 24.882l9.255-9.47a.592.592 0 0 0 0-.825l-9.255-9.47M10.422 24.882l-9.255-9.47a.592.592 0 0 1 0-.825l9.255-9.47M21.482 1l-6.964 28","stroke-linecap":"round",stroke:"#363C50","stroke-width":"2",fill:"none",class:"stroke"},null,-1)])))]),(0,e.Lk)("div",ue,[(0,e.Lk)("div",ve,(0,i.v_)(s.$t("flat:easy-share.embedTitle")),1),(0,e.Lk)("div",pe,(0,i.v_)(s.$t("flat:easy-share.embedDesc")),1)])])):(0,e.Q3)("",!0)])])):l.mode==="default"?((0,e.uX)(),(0,e.CE)("div",me,[(0,e.Lk)("div",ge,[(0,e.Lk)("div",_e,(0,i.v_)(s.$t("flat:collec.nav.share"))+": "+(0,i.v_)(d.singleItem.title),1),d.displaySharingLink?((0,e.uX)(),(0,e.CE)("button",{key:0,class:(0,i.C4)(["copy-link",{done:l.createdLink}]),onClick:t[5]||(t[5]=(...n)=>d.copyLinkHandler&&d.copyLinkHandler(...n))},[l.createdLink?((0,e.uX)(),(0,e.CE)("span",fe,(0,i.v_)(s.$t("flat:private-link.copied-short")),1)):(0,e.Q3)("",!0),l.createdLink?((0,e.uX)(),(0,e.CE)("div",ye,t[29]||(t[29]=[(0,e.Lk)("svg",{inline:"",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,e.Lk)("path",{d:"M23 5L9.462 20 1 13.333",class:"stroke",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"})],-1)]))):l.creatingLink?((0,e.uX)(),(0,e.CE)("svg",be,t[30]||(t[30]=[(0,e.Lk)("circle",{cx:"20",cy:"20",r:"8",fill:"none","stroke-width":"2"},null,-1)]))):((0,e.uX)(),(0,e.CE)("svg",ke,t[31]||(t[31]=[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M2.6 8c0-1.14.927-2.067 2.067-2.067h2.666V4.667H4.667a3.335 3.335 0 0 0 0 6.666h2.666v-1.266H4.667A2.068 2.068 0 0 1 2.6 8zm2.733.667h5.334V7.333H5.333v1.334zm6-4H8.667v1.266h2.666c1.14 0 2.067.927 2.067 2.067 0 1.14-.927 2.067-2.067 2.067H8.667v1.266h2.666a3.335 3.335 0 0 0 0-6.666z"},null,-1)])))],2)):(0,e.Q3)("",!0),d.displayEmbed&&!o.hasAccessToken?((0,e.uX)(),(0,e.CE)("button",{key:1,onClick:t[6]||(t[6]=n=>d.embed()),class:"embed"},[l.creatingEmbed?((0,e.uX)(),(0,e.CE)("svg",Ce,t[32]||(t[32]=[(0,e.Lk)("circle",{cx:"20",cy:"20",r:"8",fill:"none","stroke-width":"2"},null,-1)]))):((0,e.uX)(),(0,e.CE)("svg",we,t[33]||(t[33]=[(0,e.Lk)("path",{d:"M25.578 24.882l9.255-9.47a.592.592 0 0 0 0-.825l-9.255-9.47M10.422 24.882l-9.255-9.47a.592.592 0 0 1 0-.825l9.255-9.47M21.482 1l-6.964 28","stroke-linecap":"round",stroke:"#363C50","stroke-width":"2",fill:"none",class:"stroke"},null,-1)])))])):(0,e.Q3)("",!0),d.displayTeamsSharing?((0,e.uX)(),(0,e.CE)("button",{key:2,class:"ms-teams-shr",title:"Share to Microsoft Teams",onClick:t[7]||(t[7]=(0,h.D$)(n=>d.shareToTeams(),["stop","prevent"]))},t[34]||(t[34]=[(0,e.Lk)("img",{src:C,alt:"Share to Microsoft Teams"},null,-1)]))):(0,e.Q3)("",!0)]),d.singleItem.rights.aclAdmin?((0,e.uX)(),(0,e.CE)("div",Ee,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(l.adding,(n,F)=>((0,e.uX)(),(0,e.CE)("div",{class:"tag-item",key:F},[n.user?((0,e.uX)(),(0,e.CE)("div",{key:0,class:(0,i.C4)(s.$style["tag-item-user"])},[(0,e.Lk)("div",{class:(0,i.C4)(s.$style["tag-avatar"])},[(0,e.bF)(u,{src:n.user.picture,alt:n.user.username},null,8,["src","alt"])],2),(0,e.Lk)("span",{class:(0,i.C4)(s.$style["tag-name"])},(0,i.v_)(n.user.printableName||n.user.username),3)],2)):n.group?((0,e.uX)(),(0,e.CE)("div",xe,[t[35]||(t[35]=(0,e.Lk)("svg",{inline:"",width:"16",height:"14",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},[(0,e.Lk)("path",{d:"M15.308 9.2c-.296-.27-2.318-.79-3.354-1.05.97-.93 1.547-2.49 1.547-3.98C13.5 1.87 12.865 0 10 0c-.91 0-1.574.2-2.085.53.695.06 1.246.23 1.672.5.135-.01.26-.03.413-.03 2.082 0 2.5 1.43 2.5 3.21 0 1.28-.515 2.69-1.38 3.37v.67l.138.45c1.04.27 2.796.73 3.22.92.594.27.785 1.6 0 1.88h-1.53c.06.31.067.64.005.96 2.484-.08 2.688-.26 2.688-.26.66-.9.33-2.4-.33-3zm-4.83 3.8l-4.54-.01-4.43.01c-.894-.32-.44-1.61.157-1.88.452-.2 2.207-.72 3.09-.97l.122-.4v-.7C4.013 8.33 3.5 6.82 3.5 5.44 3.5 3.54 3.915 2 5.997 2c2.082 0 2.5 1.54 2.5 3.44 0 1.38-.515 2.89-1.38 3.62v.69l.138.45c1.04.27 2.796.73 3.22.92.594.27.785 1.6 0 1.88zM7.914 9.64C8.91 8.66 9.5 6.99 9.5 5.41 9.5 2.97 8.865 1 6 1 3.132 1 2.495 2.97 2.495 5.41c0 1.59.596 3.26 1.594 4.24-1.045.25-3.083.77-3.393 1.05-.665.6-1 2.1-.335 3 0 0 .38.3 5.662.3 5.284 0 5.614-.3 5.614-.3.66-.9.33-2.4-.33-3-.3-.27-2.37-.81-3.393-1.06z",fill:"#FFF","fill-rule":"evenodd",class:"fill"})],-1)),(0,e.Lk)("span",Le,(0,i.v_)(n.group.name),1)])):n.searchEmail?((0,e.uX)(),(0,e.CE)("div",De,(0,i.v_)(n.searchEmail),1)):(0,e.Q3)("",!0),(0,e.Lk)("button",{class:"remove-button",onClick:Fs=>d.removeAdding(n)},t[36]||(t[36]=[(0,e.Lk)("svg",{inline:"",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},[(0,e.Lk)("path",{d:"M17 1L1 17m16 0L1 1",stroke:"#FFF","stroke-width":"2",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round",class:"stroke"})],-1)]),8,Ie)]))),128)),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>l.addText=n),ref:"addInput",placeholder:d.addPlaceholder,onKeyup:t[9]||(t[9]=(0,h.D$)(()=>{},["stop"])),onKeypress:t[10]||(t[10]=(0,h.D$)(()=>{},["stop"])),onKeydown:t[11]||(t[11]=(0,h.D$)(n=>d.handleAddKeys(n),["stop"])),onPaste:t[12]||(t[12]=n=>d.handlePaste())},null,40,Se),[[h.Jo,l.addText]])])):(0,e.Q3)("",!0),(0,e.bo)((0,e.Lk)("div",Pe,[(0,e.Lk)("div",Ae,[(0,e.Lk)("div",Me,[d.privacyKey==="private"?((0,e.uX)(),(0,e.CE)("svg",Oe,t[37]||(t[37]=[(0,e.Lk)("path",{fill:"#6D737E",d:"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},null,-1)]))):d.privacyKey==="public"?((0,e.uX)(),(0,e.CE)("svg",Xe,t[38]||(t[38]=[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M8 1.333A6.67 6.67 0 0 0 1.333 8 6.67 6.67 0 0 0 8 14.667 6.67 6.67 0 0 0 14.667 8 6.67 6.67 0 0 0 8 1.333zm-.667 11.954A5.326 5.326 0 0 1 2.667 8c0-.413.053-.807.14-1.193L6 10v.667C6 11.4 6.6 12 7.333 12v1.287zm4.6-1.694a1.323 1.323 0 0 0-1.266-.926H10v-2C10 8.3 9.7 8 9.333 8h-4V6.667h1.334c.366 0 .666-.3.666-.667V4.667h1.334c.733 0 1.333-.6 1.333-1.334V3.06A5.336 5.336 0 0 1 13.333 8a5.305 5.305 0 0 1-1.4 3.593z"},null,-1)]))):d.privacyKey==="privateLink"?((0,e.uX)(),(0,e.CE)("svg",He,t[39]||(t[39]=[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M2.6 8c0-1.14.927-2.067 2.067-2.067h2.666V4.667H4.667a3.335 3.335 0 0 0 0 6.666h2.666v-1.266H4.667A2.068 2.068 0 0 1 2.6 8zm2.733.667h5.334V7.333H5.333v1.334zm6-4H8.667v1.266h2.666c1.14 0 2.067.927 2.067 2.067 0 1.14-.927 2.067-2.067 2.067H8.667v1.266h2.666a3.335 3.335 0 0 0 0-6.666z"},null,-1)]))):d.privacyKey==="organizationPublic"?((0,e.uX)(),(0,e.CE)("svg",Te,t[40]||(t[40]=[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M8 4.667V2H1.333v12h13.334V4.667H8zm-4 8H2.667v-1.334H4v1.334zM4 10H2.667V8.667H4V10zm0-2.667H2.667V6H4v1.333zm0-2.666H2.667V3.333H4v1.334zm2.667 8H5.333v-1.334h1.334v1.334zm0-2.667H5.333V8.667h1.334V10zm0-2.667H5.333V6h1.334v1.333zm0-2.666H5.333V3.333h1.334v1.334zm6.666 8H8v-1.334h1.333V10H8V8.667h1.333V7.333H8V6h5.333v6.667zM12 7.333h-1.333v1.334H12V7.333zM12 10h-1.333v1.333H12V10z"},null,-1)]))):(0,e.Q3)("",!0),(0,e.Lk)("div",ze,[(0,e.Lk)("div",Ke,[(0,e.Lk)("span",Ve,(0,i.v_)(d.privacyName),1)]),(0,e.Lk)("div",Re,[(0,e.Lk)("span",We,(0,i.v_)(d.privacyDescription),1)])])]),l.updatingPrivacyMode?((0,e.uX)(),(0,e.CE)("div",Be,[(0,e.Lk)("span",Fe,(0,i.v_)(s.$t("flat:updating")),1)])):((0,e.uX)(),(0,e.CE)("div",je,[d.displaySharingLink?((0,e.uX)(),(0,e.CE)("span",Ue,[(0,e.Lk)("button",{class:(0,i.C4)(["copy",{copied:l.createdLink}]),onClick:t[13]||(t[13]=(...n)=>d.copyLinkHandler&&d.copyLinkHandler(...n))},[l.createdLink?((0,e.uX)(),(0,e.CE)("span",Ne,(0,i.v_)(s.$t("flat:private-link.copied-short")),1)):((0,e.uX)(),(0,e.CE)("span",Qe,(0,i.v_)(s.$t("flat:private-link.copy")),1))],2),d.singleItem.rights.aclAdmin?((0,e.uX)(),(0,e.CE)("span",Ye,"\xA0\u2022\xA0")):(0,e.Q3)("",!0)])):(0,e.Q3)("",!0),d.singleItem.rights.aclAdmin?((0,e.uX)(),(0,e.CE)("button",{key:1,class:"change",onClick:t[14]||(t[14]=(0,h.D$)(n=>d.setDdnMode("privacy"),["prevent","stop"]))},(0,i.v_)(s.$t("flat:privacy-mode.change")),1)):(0,e.Q3)("",!0)]))]),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(d.singleItem.collaborators,n=>((0,e.uX)(),(0,e.Wv)(_,{key:n.id,scores:a.items,collab:n,"already-shared":!0,"is-admin":d.singleItem.rights.aclAdmin},null,8,["scores","collab","is-admin"]))),128))],512),[[h.aG,!d.isStartingInput]]),d.isStartingInput?((0,e.uX)(),(0,e.CE)("div",Ge,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(d.searchItems,(n,F)=>((0,e.uX)(),(0,e.Wv)(_,{key:n.user&&n.user.id||n.group&&n.group.id||n.searchEmail,collab:n,scores:a.items,search:!0,class:(0,i.C4)({highlight:F===l.addHighlightedIdx}),onItemClicked:Fs=>d.selectAddItem(n)},null,8,["collab","scores","class","onItemClicked"]))),128)),!l.searchLoading&&d.searchItems.length===0?((0,e.uX)(),(0,e.CE)("div",{key:0,class:(0,i.C4)(s.$style["not-found"])},(0,i.v_)(s.$t("flat:collaborators.search-not-found")),3)):(0,e.Q3)("",!0)])):(0,e.Q3)("",!0),l.adding.length>0?((0,e.uX)(),(0,e.CE)("div",Je,[(0,e.Lk)("div",Ze,[(0,e.bF)(Ws,{class:"rights",direction:"top"},{trigger:(0,e.k6)(()=>[(0,e.Lk)("button",$e,[l.newCollab.aclAdmin?((0,e.uX)(),(0,e.CE)("span",qe,(0,i.v_)(s.$t("flat:score.canAdmin")),1)):l.newCollab.aclWrite?((0,e.uX)(),(0,e.CE)("span",et,(0,i.v_)(s.$t("flat:score.canWrite")),1)):((0,e.uX)(),(0,e.CE)("span",tt,(0,i.v_)(s.$t("flat:score.canRead")),1)),t[41]||(t[41]=(0,e.Lk)("span",{class:"caret"},null,-1))])]),default:(0,e.k6)(()=>[(0,e.bF)(Rs,{collab:l.newCollab,onChangeRights:t[15]||(t[15]=n=>d.updateNewCollabRights(n))},null,8,["collab"])]),_:1})]),l.processInviting?((0,e.uX)(),(0,e.CE)("div",it,[(0,e.Lk)("span",at,(0,i.v_)(s.$t("flat:collaborators.inviting"))+"...",1),t[43]||(t[43]=(0,e.Lk)("img",{src:v},null,-1))])):((0,e.uX)(),(0,e.CE)("div",{key:0,class:"send-invite",onClick:t[16]||(t[16]=n=>d.addCollaborators())},[(0,e.Lk)("span",st,(0,i.v_)(s.$t("flat:collaborators.invite")),1),t[42]||(t[42]=(0,e.Lk)("img",{src:v},null,-1))]))])):(0,e.Q3)("",!0)])):l.mode==="privacy"?((0,e.uX)(),(0,e.CE)("div",rt,[t[48]||(t[48]=(0,e.Lk)("div",{class:"shr-title"},"Change the privacy",-1)),(0,e.Lk)("button",{class:(0,i.C4)(["shr-item",{active:d.privacyKey==="private"}]),onClick:t[17]||(t[17]=(0,h.D$)(n=>d.changePrivacy("private"),["prevent","stop"]))},[t[44]||(t[44]=(0,e.Lk)("svg",{class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"21",viewBox:"0 0 16 21"},[(0,e.Lk)("path",{fill:"#6D737E",d:"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})],-1)),(0,e.Lk)("div",dt,[(0,e.Lk)("div",lt,(0,i.v_)(s.$t("flat:privacy-mode.private")),1),(0,e.Lk)("div",nt,(0,i.v_)(s.$t("flat:privacy-mode.private-description")),1)]),(0,e.Lk)("div",ot,(0,i.v_)(s.$t("flat:privacy-mode.choose")),1)],2),(0,e.Lk)("button",{class:(0,i.C4)(["shr-item",{active:d.privacyKey==="privateLink"}]),onClick:t[18]||(t[18]=(0,h.D$)(n=>d.changePrivacy("privateLink"),["prevent","stop"]))},[t[45]||(t[45]=(0,e.Lk)("svg",{class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M2.6 8c0-1.14.927-2.067 2.067-2.067h2.666V4.667H4.667a3.335 3.335 0 0 0 0 6.666h2.666v-1.266H4.667A2.068 2.068 0 0 1 2.6 8zm2.733.667h5.334V7.333H5.333v1.334zm6-4H8.667v1.266h2.666c1.14 0 2.067.927 2.067 2.067 0 1.14-.927 2.067-2.067 2.067H8.667v1.266h2.666a3.335 3.335 0 0 0 0-6.666z"})],-1)),(0,e.Lk)("div",ht,[(0,e.Lk)("div",ct,(0,i.v_)(s.$t("flat:privacy-mode.privateLink")),1),(0,e.Lk)("div",ut,(0,i.v_)(s.$t("flat:privacy-mode.privateLink-description")),1)]),(0,e.Lk)("div",vt,(0,i.v_)(s.$t("flat:privacy-mode.choose")),1)],2),o.isEdu?((0,e.uX)(),(0,e.CE)("button",{key:0,class:(0,i.C4)(["shr-item",{active:d.privacyKey==="organizationPublic"}]),onClick:t[19]||(t[19]=(0,h.D$)(n=>d.changePrivacy("organizationPublic"),["prevent","stop"]))},[t[46]||(t[46]=(0,e.Lk)("svg",{class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M8 4.667V2H1.333v12h13.334V4.667H8zm-4 8H2.667v-1.334H4v1.334zM4 10H2.667V8.667H4V10zm0-2.667H2.667V6H4v1.333zm0-2.666H2.667V3.333H4v1.334zm2.667 8H5.333v-1.334h1.334v1.334zm0-2.667H5.333V8.667h1.334V10zm0-2.667H5.333V6h1.334v1.333zm0-2.666H5.333V3.333h1.334v1.334zm6.666 8H8v-1.334h1.333V10H8V8.667h1.333V7.333H8V6h5.333v6.667zM12 7.333h-1.333v1.334H12V7.333zM12 10h-1.333v1.333H12V10z"})],-1)),(0,e.Lk)("div",pt,[(0,e.Lk)("div",mt,(0,i.v_)(s.$t("flat:privacy-mode.organizationPublic")),1),(0,e.Lk)("div",gt,(0,i.v_)(s.$t("flat:privacy-mode.organizationPublic-description")),1)]),(0,e.Lk)("div",_t,(0,i.v_)(s.$t("flat:privacy-mode.choose")),1)],2)):o.hasAccessToken?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("button",{key:1,class:(0,i.C4)(["shr-item",{active:d.privacyKey==="public"}]),href:d.publishUrl,onClick:t[20]||(t[20]=(0,h.D$)(n=>d.publish(),["prevent","stop"]))},[t[47]||(t[47]=(0,e.Lk)("svg",{class:"privacy-icon",inline:"",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{class:"fill",fill:"#6D737E",d:"M8 1.333A6.67 6.67 0 0 0 1.333 8 6.67 6.67 0 0 0 8 14.667 6.67 6.67 0 0 0 14.667 8 6.67 6.67 0 0 0 8 1.333zm-.667 11.954A5.326 5.326 0 0 1 2.667 8c0-.413.053-.807.14-1.193L6 10v.667C6 11.4 6.6 12 7.333 12v1.287zm4.6-1.694a1.323 1.323 0 0 0-1.266-.926H10v-2C10 8.3 9.7 8 9.333 8h-4V6.667h1.334c.366 0 .666-.3.666-.667V4.667h1.334c.733 0 1.333-.6 1.333-1.334V3.06A5.336 5.336 0 0 1 13.333 8a5.305 5.305 0 0 1-1.4 3.593z"})],-1)),(0,e.Lk)("div",yt,[(0,e.Lk)("div",bt,(0,i.v_)(s.$t("flat:privacy-mode.public")),1),(0,e.Lk)("div",kt,(0,i.v_)(s.$t("flat:privacy-mode.public-description")),1)]),(0,e.Lk)("div",Ct,(0,i.v_)(s.$t("flat:privacy-mode.publish")),1)],10,ft))])):(0,e.Q3)("",!0)],10,w)}var Et=r(785188),j=r(733268),xt=r(593195),U=r(775),Lt=r(909218),O=r(653154),T=r(674548),Dt=r(149490),Q=r(706305),It=r(823828),St=r(645369),N=r.n(St),R=r(6645),Pt=r(147758);const At={class:"ddn-right-mode"},Mt={class:"right-title"},Ot={class:"right-description"},Xt={class:"right-title"},Ht={class:"right-description"},Tt={class:"right-title"},zt={class:"right-description"},Kt={class:"right-title rm"};function Vt(s,t,a,o,l,d){return(0,e.uX)(),(0,e.CE)("div",At,[t[4]||(t[4]=(0,e.Lk)("div",{"x-arrow":""},null,-1)),(0,e.Lk)("ul",null,[(0,e.Lk)("li",{class:(0,i.C4)({active:!a.collab.aclWrite&&!a.collab.aclAdmin}),onClick:t[0]||(t[0]=b=>s.$emit("changeRights","read"))},[(0,e.Lk)("div",Mt,(0,i.v_)(s.$t("flat:right-mode.read")),1),(0,e.Lk)("div",Ot,(0,i.v_)(s.$t("flat:right-mode.read-description")),1)],2),(0,e.Lk)("li",{class:(0,i.C4)({active:a.collab.aclWrite&&!a.collab.aclAdmin}),onClick:t[1]||(t[1]=b=>s.$emit("changeRights","write"))},[(0,e.Lk)("div",Xt,(0,i.v_)(s.$t("flat:right-mode.write")),1),(0,e.Lk)("div",Ht,(0,i.v_)(s.$t("flat:right-mode.write-description")),1)],2),(0,e.Lk)("li",{class:(0,i.C4)({active:a.collab.aclAdmin}),onClick:t[2]||(t[2]=b=>s.$emit("changeRights","admin"))},[(0,e.Lk)("div",Tt,(0,i.v_)(s.$t("flat:right-mode.admin")),1),(0,e.Lk)("div",zt,(0,i.v_)(s.$t("flat:right-mode.admin-description")),1)],2),a.displayRemove?((0,e.uX)(),(0,e.CE)("li",{key:0,onClick:t[3]||(t[3]=b=>s.$emit("removeRights"))},[(0,e.Lk)("div",Kt,(0,i.v_)(s.$t("flat:right-mode.rm")),1)])):(0,e.Q3)("",!0)])])}const Rt={name:"DdnCollabPrivacy",props:{collab:{type:Object,required:!0},displayRemove:{type:Boolean,default:!1}},emits:["removeRights","changeRights"]};var W=r(938793);const Y=(0,W.A)(Rt,[["render",Vt]]),Wt=r.p+"img/28a3b9ff875bfa5dc8ff.svg",Bt={class:"collaborator-details"},Ft={key:0,class:"user"},jt={key:1,class:"group-icon"},Ut={key:0,class:"name text"},Qt={key:1,class:"name"},Nt={key:2,class:"name"},Yt={key:3,class:"name"},Gt={key:4,class:"date"},Jt={class:"second-line"},Zt={key:0,class:"text"},$t={key:0},qt={key:1},es={key:1,class:"text"},ts={key:2,class:"text"},ss={key:0,class:"collaborator-rights no-select"},is={key:0,class:"ro"},as={key:1,class:"rights ro"},rs={key:0},ds={key:1},ls={key:2},ns={class:"change"},os={key:0,class:"updating"},hs={key:1},cs={key:2},us={key:3};function vs(s,t,a,o,l,d){const b=(0,e.g2)("avatar"),k=(0,e.g2)("ddn-collab-privacy"),u=(0,e.g2)("dropdown");return d.canDisplayItem?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"collaborator-item",onClick:t[2]||(t[2]=(0,h.D$)(_=>s.$emit("itemClicked"),["stop","prevent"]))},[(0,e.Lk)("div",Bt,[a.collab.userEmail||a.collab.searchEmail?((0,e.uX)(),(0,e.CE)("div",Ft,t[3]||(t[3]=[(0,e.Lk)("img",{src:Wt},null,-1)]))):a.collab.group?((0,e.uX)(),(0,e.CE)("div",jt,t[4]||(t[4]=[(0,e.Lk)("svg",{inline:"",width:"16",height:"14",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},[(0,e.Lk)("path",{d:"M15.308 9.2c-.296-.27-2.318-.79-3.354-1.05.97-.93 1.547-2.49 1.547-3.98C13.5 1.87 12.865 0 10 0c-.91 0-1.574.2-2.085.53.695.06 1.246.23 1.672.5.135-.01.26-.03.413-.03 2.082 0 2.5 1.43 2.5 3.21 0 1.28-.515 2.69-1.38 3.37v.67l.138.45c1.04.27 2.796.73 3.22.92.594.27.785 1.6 0 1.88h-1.53c.06.31.067.64.005.96 2.484-.08 2.688-.26 2.688-.26.66-.9.33-2.4-.33-3zm-4.83 3.8l-4.54-.01-4.43.01c-.894-.32-.44-1.61.157-1.88.452-.2 2.207-.72 3.09-.97l.122-.4v-.7C4.013 8.33 3.5 6.82 3.5 5.44 3.5 3.54 3.915 2 5.997 2c2.082 0 2.5 1.54 2.5 3.44 0 1.38-.515 2.89-1.38 3.62v.69l.138.45c1.04.27 2.796.73 3.22.92.594.27.785 1.6 0 1.88zM7.914 9.64C8.91 8.66 9.5 6.99 9.5 5.41 9.5 2.97 8.865 1 6 1 3.132 1 2.495 2.97 2.495 5.41c0 1.59.596 3.26 1.594 4.24-1.045.25-3.083.77-3.393 1.05-.665.6-1 2.1-.335 3 0 0 .38.3 5.662.3 5.284 0 5.614-.3 5.614-.3.66-.9.33-2.4-.33-3-.3-.27-2.37-.81-3.393-1.06z",fill:"#FFF","fill-rule":"evenodd",class:"fill"})],-1)]))):a.collab.user?((0,e.uX)(),(0,e.CE)("div",{key:2,class:(0,i.C4)(s.$style["indiv-user-avatar"])},[(0,e.bF)(b,{src:a.collab.user.picture,alt:a.collab.user.username},null,8,["src","alt"])],2)):(0,e.Q3)("",!0),(0,e.Lk)("div",{class:(0,i.C4)(["collaborator-info",{"full-width":a.collab.searchEmail}])},[(0,e.Lk)("div",{class:(0,i.C4)(["first-line",{group:a.collab.group,user:!a.collab.group}])},[a.collab.group?((0,e.uX)(),(0,e.CE)("span",Ut,(0,i.v_)(a.collab.group.name),1)):a.collab.user?((0,e.uX)(),(0,e.CE)("span",Qt,(0,i.v_)(d.collabUsername),1)):a.collab.searchEmail?((0,e.uX)(),(0,e.CE)("span",Nt,(0,i.v_)(a.collab.searchEmail),1)):a.collab.userEmail?((0,e.uX)(),(0,e.CE)("span",Yt,(0,i.v_)(a.collab.userEmail),1)):(0,e.Q3)("",!0),a.collab.date&&!a.collab.group?((0,e.uX)(),(0,e.CE)("span",Gt,(0,i.v_)(d.dateFormatted),1)):(0,e.Q3)("",!0)],2),(0,e.Lk)("div",Jt,[a.collab.group?((0,e.uX)(),(0,e.CE)("span",Zt,[(0,e.eW)((0,i.v_)(a.collab.group.usersCount)+" ",1),a.collab.group.type==="classStudents"?((0,e.uX)(),(0,e.CE)("span",$t,(0,i.v_)(s.$t("edu:students.title")),1)):a.collab.group.type==="classTeachers"?((0,e.uX)(),(0,e.CE)("span",qt,(0,i.v_)(s.$t("edu:settings.school.teachers")),1)):(0,e.Q3)("",!0)])):a.collab.invited||a.collab.userEmail?((0,e.uX)(),(0,e.CE)("span",es,(0,i.v_)(s.$t("flat:score.invited")),1)):a.collab.user?((0,e.uX)(),(0,e.CE)("span",ts,"@"+(0,i.v_)(a.collab.user.username),1)):(0,e.Q3)("",!0)])],2)]),a.search?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("div",ss,[a.collab.id?a.isAdmin?a.isAdmin&&(!a.collab.user||a.collab.user.id!=o.account.id)?((0,e.uX)(),(0,e.Wv)(u,{key:2,class:"rights",ref:"dropdown",direction:"bottom"},{trigger:(0,e.k6)(()=>[(0,e.Lk)("a",ns,[l.updating?((0,e.uX)(),(0,e.CE)("span",os,(0,i.v_)(s.$t("flat:updating")),1)):a.collab.aclAdmin?((0,e.uX)(),(0,e.CE)("span",hs,(0,i.v_)(s.$t("flat:score.canAdmin")),1)):a.collab.aclWrite?((0,e.uX)(),(0,e.CE)("span",cs,(0,i.v_)(s.$t("flat:score.canWrite")),1)):((0,e.uX)(),(0,e.CE)("span",us,(0,i.v_)(s.$t("flat:score.canRead")),1)),t[5]||(t[5]=(0,e.Lk)("span",{class:"caret"},null,-1))])]),default:(0,e.k6)(()=>[(0,e.bF)(k,{"display-remove":!0,collab:a.collab,onChangeRights:t[0]||(t[0]=_=>d.changeRights(_)),onRemoveRights:t[1]||(t[1]=_=>d.rmRights())},null,8,["collab"])]),_:1},512)):(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("div",as,[a.collab.aclAdmin?((0,e.uX)(),(0,e.CE)("span",rs,(0,i.v_)(s.$t("flat:score.canAdmin")),1)):a.collab.aclWrite?((0,e.uX)(),(0,e.CE)("span",ds,(0,i.v_)(s.$t("flat:score.canWrite")),1)):((0,e.uX)(),(0,e.CE)("span",ls,(0,i.v_)(s.$t("flat:score.canRead")),1))])):((0,e.uX)(),(0,e.CE)("div",is,(0,i.v_)(s.$t("flat:score.owner")),1))]))])):(0,e.Q3)("",!0)}var ps=r(540888),ms=r(676170),G=r(763939),gs=r(899269),J=r(459356),Z=r(716743),$=(s,t,a)=>new Promise((o,l)=>{var d=u=>{try{k(a.next(u))}catch(_){l(_)}},b=u=>{try{k(a.throw(u))}catch(_){l(_)}},k=u=>u.done?o(u.value):Promise.resolve(u.value).then(d,b);k((a=a.apply(s,t)).next())});const q=N()("flat:collab-item"),_s={name:"DdnSharingCollabItem",components:{DdnCollabPrivacy:Y,Avatar:Z.eu,Dropdown:j.m},props:{collab:{type:Object,required:!0},scores:{type:Array,required:!0},isAdmin:{type:Boolean,default:!1},search:{type:Boolean,default:!1},alreadyShared:{type:Boolean,default:!1}},emits:["itemClicked"],data(){return{updating:!1}},setup(){const{addRights:s,removeRights:t}=(0,Q.j)(),{displayError:a}=(0,J.O)(),{removeCollaboratorFromScore:o}=(0,gs.k2)(),l=(0,G.F)(),d=(0,ms.G7)("beta.library.v2");return{addRights:s,removeRights:t,displayError:a,removeCollaboratorFromScore:o,hasLibraryV2Flag:(0,e.EW)(()=>d),isEdu:(0,e.EW)(()=>l.isEdu),account:(0,e.EW)(()=>l.account)}},computed:{collabUsername(){var s;return this.collab.user?((s=this.collab.user)==null?void 0:s.printableName)||this.collab.userEmail||this.collab.user:null},dateFormatted(){return(0,ps.KS)(this.collab.date)},canDisplayItem(){return this.alreadyShared||this.collab&&!this.collab.group}},methods:{changeRights(s){return $(this,null,function*(){var t,a;this.updating=!0,this.$refs.dropdown.close();try{yield this.addRights({scores:this.scores,user:(t=this.collab.user)==null?void 0:t.id,userEmail:this.collab.userEmail||void 0,group:(a=this.collab.group)==null?void 0:a.id,aclWrite:s==="write"||s==="admin",aclAdmin:s==="admin"})}catch(o){(0,O.vV)(o),this.displayError({error:o}),q(o)}this.updating=!1})},rmRights(){return $(this,null,function*(){this.updating=!0;try{this.hasLibraryV2Flag?yield this.removeCollaboratorFromScore(this.scores[0].id,this.collab.id):yield this.removeRights({scores:this.scores,target:this.collab.id})}catch(s){(0,O.vV)(s),this.displayError({error:s}),q(s)}})}}};var fs=r(760877),ys=r.n(fs);const ee={};ee.$style=ys();const bs=(0,W.A)(_s,[["render",vs],["__cssModules",ee]]);var Qs=r(863762),te=r(318866),ks=r(991317),Cs=r(973876),ws=r(941271),Es=Object.defineProperty,xs=Object.defineProperties,Ls=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,ie=(s,t,a)=>t in s?Es(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,B=(s,t)=>{for(var a in t||(t={}))Ds.call(t,a)&&ie(s,a,t[a]);if(se)for(var a of se(t))Is.call(t,a)&&ie(s,a,t[a]);return s},Ss=(s,t)=>xs(s,Ls(t)),A=(s,t,a)=>new Promise((o,l)=>{var d=u=>{try{k(a.next(u))}catch(_){l(_)}},b=u=>{try{k(a.throw(u))}catch(_){l(_)}},k=u=>u.done?o(u.value):Promise.resolve(u.value).then(d,b);k((a=a.apply(s,t)).next())});const X=N()("flat:sharing"),ae="default",Ps="basic",As=38,Ms=40,Os=13,Xs=8,Hs=27,re=/^\s*[\w\-+_]+(\.[\w\-+_]+)*@[\w\-+_]+\.[\w\-+_]+(\.[\w\-+_]+)*\s*$/,Ts={name:"DdnSharing",components:{DdnSharingCollabItem:bs,DdnCollabPrivacy:Y,Avatar:Z.eu,Dropdown:j.m,WarningIcon:Et.A},props:{items:{type:Array,required:!0},view:{type:String,default:""},canDisplayPrivateLink:{type:Boolean,default:!0},canDisplayPublish:{type:Boolean,default:!0},canDisplayCollaborators:{type:Boolean,default:!0},canDisplayEmbed:{type:Boolean,default:!0},fullWidth:{type:Boolean,default:!1}},emits:["resized","close"],data(){return{mode:ae,updatingPrivacyMode:!1,addText:"",addHighlightedIdx:0,adding:[],newCollab:{aclAdmin:!1,aclWrite:!0,aclRead:!0},groups:[],users:[],searchLoading:!1,processInviting:!1,copiableUrl:"",creatingLink:!1,createdLink:!1,creatingEmbed:!1}},setup(){const{updateScore:s,addRights:t}=(0,Q.j)(),{copy:a,copied:o}=(0,xt.i)(),l=(0,It.k)(),{getFollowing:d}=(0,ks.o)(),{displayError:b,displayMessage:k}=(0,J.O)(),{addExperience:u}=(0,ws.B)(),_=(0,G.F)();return{updateScore:s,addRights:t,cachedUsersAsList:(0,e.EW)(()=>l.cachedUsersAsList),account:(0,e.EW)(()=>_.account),hasAccessToken:(0,e.EW)(()=>_.hasAccessToken),isEdu:(0,e.EW)(()=>_.isEdu),copy:a,copied:o,getFollowing:d,displayError:b,displayMessage:k,addExperience:u}},computed:{singleItem(){return this.items.length===1?this.items[0]:null},singleItemCollaboratorsCount(){return this.singleItem.collaborators.length},displaySharingLink(){const s=this.singleItem;return s?s.privacy==="private"?s.rights.aclAdmin:["public","privateLink","organizationPublic"].includes(s.privacy):!1},displayTeamsSharing(){return!!this.account.azureDetails},displayEmbed(){const s=this.singleItem;return s?s.privacy==="private"?s.rights.aclAdmin:s.privacy!=="organizationPublic":!1},privacyKey(){return this.singleItem.privacy},privacyName(){return T.MR.t(`flat:privacy-mode.${this.privacyKey}`)},privacyDescription(){return T.MR.t(`flat:privacy-mode.${this.privacyKey}-description`)},publishUrl(){return`/my-library?m=publish&score=${this.singleItem.id}`},addPlaceholder(){return this.adding.length===0?T.MR.t("flat:collaborators.invite-placeholder"):""},isStartingInput(){return this.addText&&this.addText.length>0},isInputEmail(){return String(this.addText||"").search(re)!==-1},searchItems(){if(!this.addText||this.addText.length===0)return[];if(this.isInputEmail)return[{searchEmail:this.addText}];const s=this.addText.replace("@","").toLowerCase();let t=[].concat(this.cachedUsersAsList,this.users).filter((a,o,l)=>l.findIndex(d=>d.id===a.id)===o).filter(a=>a.id!==this.account.id).filter(a=>!this.adding.find(o=>o.user&&o.user.id===a.id)).map(a=>({user:a}));return t=t.concat(this.groups.map(a=>({group:a}))),t.filter(a=>{var o,l,d;return a.user?((o=a.user.username)==null?void 0:o.toLowerCase().includes(s))||((l=a.user.name)==null?void 0:l.toLowerCase().includes(s)):a.group?(d=a.group.name)==null?void 0:d.toLowerCase().includes(s):!1})}},watch:{singleItemCollaboratorsCount(){this.$emit("resized")},copied(s){return A(this,null,function*(){if(s){if(this.newSharingKey){this.creatingLink=!0;try{yield this.updateScoreWithNewSharingKey()}catch(t){X(t)}}this.creatingLink=!1,this.createdLink=!0,this.displayMessage({type:"default",text:T.MR.t("flat:private-link.copied-success")}),this.addExperience("score.share.copy-link")}})}},methods:Ss(B(B(B({},(0,R.i0)(te.j,["showDialog"])),(0,R.i0)(Cs.V,["loadClasses"])),(0,R.i0)(te.j,["showDialogAndWaitForAnswer"])),{setDdnMode(s){this.mode=s,this.$emit("resized")},handleTopClick(){const s=this.$el.getElementsByClassName("open");for(let t=0;t<s.length;t++)s[t].classList.remove("open")},changePrivacy(s){return A(this,null,function*(){this.updatingPrivacyMode=!0,this.setDdnMode("default");try{const t={privacy:s};t.privacy==="privateLink"&&(t.sharingKey=this.newSharingKey||(0,U.$9)()),yield this.updateScore({scoreId:this.singleItem.id,payload:t})}catch(t){(0,O.vV)(t),this.displayError({error:t}),X(t)}this.updatingPrivacyMode=!1,this.prepareCopiableLink()})},prepareCopiableLink(){const s=this.singleItem;this.createdLink=!1,["public","privateLink","organizationPublic"].includes(s.privacy)?this.copiableUrl=s.htmlUrl:s.privacy==="private"&&(this.newSharingKey=(0,U.$9)(),this.copiableUrl=`${s.htmlUrl}?sharingKey=${this.newSharingKey}`)},updateScoreWithNewSharingKey(){return A(this,null,function*(){if(this.newSharingKey)try{yield this.updateScore({scoreId:this.singleItem.id,payload:{privacy:"privateLink",sharingKey:this.newSharingKey}}),this.newSharingKey=null}catch(s){(0,O.vV)(s),this.displayError({error:s}),X(s)}})},embed(){return A(this,null,function*(){try{if(this.creatingEmbed=!0,yield this.updateScoreWithNewSharingKey(),this.account.isDeveloper){let s=`/developers/embed/generator?score=${this.singleItem.id}`;const t=this.newSharingKey||this.singleItem.sharingKey;t&&(s+=`&sharingKey=${t}`),window.location=s}else{const s=this.newSharingKey||this.singleItem.sharingKey;this.showDialog({key:"embed",params:{score:this.singleItem.id,sharingKey:s}}),this.creatingEmbed=!1,this.$emit("close")}}catch(s){X(s),this.creatingEmbed=!1}})},shareToTeams(){return A(this,null,function*(){yield this.updateScoreWithNewSharingKey(),this.prepareCopiableLink();const s=`https://teams.microsoft.com/share?href=${encodeURIComponent(this.copiableUrl)}&preview=true`,t=700,a=600,{w:o,h:l}=(0,Dt.A)(),d=(o-t)/2,b=(l-a)/2,k=`menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=${t},height=${a},top=${b},left=${d}`;window.open(s,"Share your score to Microsoft Teams",k),this.addExperience("ms.teams.share")})},publish(){return A(this,null,function*(){var s;if(!((s=this.account.community)!=null&&s.acceptedCodeOfConduct)){this.$emit("close"),(yield this.showDialogAndWaitForAnswer({key:"communityOnboarding"}))==="ok"&&(yield this.publish());return}window.flatappname.includes("vue-collections")||window.flatappname.includes("vue-consumer")?(this.$emit("close"),this.showDialog({key:"publish",params:{score:this.singleItem.id}})):window.location=this.publishUrl})},handleAddKeys(s){s.keyCode===Hs&&(this.$emit("close"),s.preventDefault()),s.keyCode===As?(this.addHighlightedIdx>0&&this.addHighlightedIdx--,this.focusHighlightSearch(),s.preventDefault()):s.keyCode===Ms?(this.addHighlightedIdx++,this.addHighlightedIdx>=this.searchItems.length&&(this.addHighlightedIdx=0),this.focusHighlightSearch(),s.preventDefault()):s.keyCode===Os?(this.searchItems.length>0?this.selectAddItem(this.searchItems[this.addHighlightedIdx]):this.addCollaborators(),s.preventDefault()):s.keyCode===Xs&&this.adding.length>=1&&this.addText.length===0?this.adding.pop():(this.addHighlightedIdx=0,this.search())},handlePaste(){setTimeout(()=>{const s=this.addText.split(/[\s,;]+/);s.length<=1||s.forEach(t=>{t.search(re)!==-1&&this.selectAddItem({searchEmail:t})})})},search(){this.searchLoading=!0,this.lastTimeout&&clearTimeout(this.lastTimeout),this.lastTimeout=setTimeout(()=>A(this,null,function*(){this.lastTimeout=null,this.users=[],this.users=yield(0,Lt.x)({q:this.addText,limit:10}),this.searchLoading=!1}),100)},focusHighlightSearch(){(0,e.dY)(()=>{const s=[].slice.call(document.getElementsByClassName("collaborator-item")).find(t=>t.classList.contains("highlight"));s&&s.scrollIntoView()})},selectAddItem(s){X("added %o",s),this.adding.push(s),this.resetInput()},removeAdding(s){const t=this.adding.indexOf(s);t>=0&&this.adding.splice(t,1)},resetInput(){this.addText="",this.addHighlightedIdx=0,setTimeout(()=>{this.$refs.addInput&&this.$refs.addInput.focus()},250)},updateNewCollabRights(s){this.newCollab.aclWrite=s==="write"||s==="admin",this.newCollab.aclAdmin=s==="admin"},addCollaborators(){return A(this,null,function*(){if(!(this.adding.length===0||this.processInviting)){this.processInviting=!0;try{yield Promise.all(this.adding.map(s=>{var t,a;return this.addRights({scores:this.items,user:((t=s.user)==null?void 0:t.id)||void 0,group:((a=s.group)==null?void 0:a.id)||void 0,userEmail:s.searchEmail||void 0,aclWrite:this.newCollab.aclWrite||!1,aclAdmin:this.newCollab.aclAdmin||!1})})),this.processInviting=!1,this.adding=[],this.resetInput()}catch(s){this.processInviting=!1,(0,O.vV)(s),this.displayError({error:s}),X(s)}}})},bindClickOutside(){const s=()=>{document.removeEventListener("click",s),this.$emit("close")};document.addEventListener("click",s)},copyLinkHandler(){this.copy(this.copiableUrl).catch(s=>(0,O.vV)(s))}}),created(){let s=this.view;s||(!this.isEdu&&["private","privateLink"].includes(this.singleItem.privacy)&&this.singleItem.collaborators.length===1?s=Ps:s=ae),this.setDdnMode(s),this.prepareCopiableLink(),this.isEdu&&(this.groups=[],this.loadClasses({cached:!0}).then(t=>{t.forEach(a=>{this.groups.push(a.studentsGroup,a.teachersGroup)})}))},mounted(){var s;let t=this.$el;for(;t&&!((s=t==null?void 0:t.classList)!=null&&s.contains("ddn"));)t=t.parentNode;t&&(0,Pt.Y)(t),setTimeout(()=>{this.$refs.addInput&&this.$refs.addInput.focus(),this.bindClickOutside()},250)}};var zs=r(378892),Ks=r.n(zs);const de={};de.$style=Ks();const Vs=(0,W.A)(Ts,[["render",wt],["__cssModules",de]])},354475:(f,y,r)=>{"use strict";r.r(y),r.d(y,{default:()=>w});var e=r(814779),i=r.n(e),h=r(927860),C=r.n(h),v=C()(i());v.push([f.id,`.ddn-shr{width:500px;max-width:100vw;padding:0;cursor:default;z-index:100}.ddn-shr.full-width{width:100%}.ddn-shr .doneCheckmark{display:flex;align-items:center;justify-content:center;background:var(--f-happy-green);width:20px;height:20px;border-radius:50%}.ddn-shr .doneCheckmark svg{height:10px!important;width:10px!important}.ddn-shr .doneCheckmark .stroke{stroke-width:4px;stroke:#fff!important}.shr-header .shr-go-advanced{background:transparent;border:0;color:var(--f-ink)}.shr-basic-options>button{display:flex;align-items:center;width:100%;padding:15px 20px 0;border:0;background:transparent;text-align:left}.shr-basic-options>button:last-child{padding-bottom:15px}.shr-basic-options>button .shr-i{flex:0 0 20px;margin-right:15px}.shr-basic-options>button .shr-i svg{width:20px;height:20px}.shr-basic-options>button .shr-i .fill{fill:var(--f-primary)}.shr-basic-options>button .shr-i .stroke{stroke:var(--f-primary)}.shr-basic-options>button .shr-t .o-title{font-weight:500;font-size:15px;line-height:22px;color:var(--f-ink);white-space:nowrap}.shr-basic-options>button .shr-t .o-desc{line-height:20px;color:var(--f-subdue)}.ddn-shr-basic .shr-header,.ddn-shr-dt .shr-header{display:flex;align-items:center;justify-content:space-between;padding:20px 20px 15px;border-bottom:1px solid #e7e8ec}.ddn-shr-basic .shr-header .title,.ddn-shr-dt .shr-header .title{flex:1 1 auto;color:var(--f-ink);font-size:16px;font-weight:400;line-height:28px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ddn-shr-basic .shr-header .ms-teams-shr,.ddn-shr-dt .shr-header .ms-teams-shr{flex:0 0 28px;height:28px;display:flex;border:0;background:transparent;padding:0;margin-left:8px}.ddn-shr-basic .shr-header .copy-link,.ddn-shr-dt .shr-header .copy-link,.ddn-shr-basic .shr-header .embed,.ddn-shr-dt .shr-header .embed{flex:0 0 28px;height:28px;display:flex;align-items:center;justify-content:center;border:1px solid var(--f-grey-2);background:transparent;border-radius:50%;margin-left:8px;padding:0}.ddn-shr-basic .shr-header .copy-link svg,.ddn-shr-dt .shr-header .copy-link svg,.ddn-shr-basic .shr-header .embed svg,.ddn-shr-dt .shr-header .embed svg{width:16px;height:16px}.ddn-shr-basic .shr-header .copy-link.done,.ddn-shr-dt .shr-header .copy-link.done,.ddn-shr-basic .shr-header .embed.done,.ddn-shr-dt .shr-header .embed.done{border:1px solid transparent}.ddn-shr-basic .shr-header .copy-link .fill,.ddn-shr-dt .shr-header .copy-link .fill,.ddn-shr-basic .shr-header .embed .fill,.ddn-shr-dt .shr-header .embed .fill{fill:var(--f-primary)}.ddn-shr-basic .shr-header .copy-link .stroke,.ddn-shr-dt .shr-header .copy-link .stroke,.ddn-shr-basic .shr-header .embed .stroke,.ddn-shr-dt .shr-header .embed .stroke{stroke:var(--f-primary)}.ddn-shr-basic .shr-header .copy-link .successText,.ddn-shr-dt .shr-header .copy-link .successText,.ddn-shr-basic .shr-header .embed .successText,.ddn-shr-dt .shr-header .embed .successText{margin-right:8px;color:var(--f-happy-green);border:1px solid transparent;white-space:nowrap}.ddn-shr-basic .shr-header .copy-link .doneCheckmark,.ddn-shr-dt .shr-header .copy-link .doneCheckmark,.ddn-shr-basic .shr-header .embed .doneCheckmark,.ddn-shr-dt .shr-header .embed .doneCheckmark{width:28px;height:28px}.ddn-shr-basic .shr-header .copy-link .doneCheckmark svg,.ddn-shr-dt .shr-header .copy-link .doneCheckmark svg,.ddn-shr-basic .shr-header .embed .doneCheckmark svg,.ddn-shr-dt .shr-header .embed .doneCheckmark svg{width:12px!important;height:12px!important}.ddn-shr-dt .shr-add{display:flex;align-items:center;flex-wrap:wrap;min-height:40px;position:relative;border-bottom:1px solid #e7e8ec;background-color:#fbfbfb;padding:0 16px}.ddn-shr-dt .shr-add input{flex:1;color:var(--f-ink);line-height:20px;min-width:200px;background:none;border:none;margin:7px 5px}@media (max-width: 400px){.ddn-shr-dt .shr-add input{min-width:100px}}.ddn-shr-dt .shr-add .tag-item{display:flex;flex-wrap:nowrap;align-items:center;height:25px;color:var(--f-ink);border:1px solid #e7e8ec;border-radius:2px;background-color:#fff;padding:0 6px;margin:7px 5px}.ddn-shr-dt .shr-add .tag-item:focus{border:1px solid #000}.ddn-shr-dt .shr-add .tag-item .user,.ddn-shr-dt .shr-add .tag-item .group,.ddn-shr-dt .shr-add .tag-item .email-collab{display:flex;align-items:center;color:var(--f-ink)}.ddn-shr-dt .shr-add .tag-item .user .avatar-container,.ddn-shr-dt .shr-add .tag-item .group .avatar-container,.ddn-shr-dt .shr-add .tag-item .email-collab .avatar-container{flex:0 0 15px;display:flex;align-items:center;border:none}.ddn-shr-dt .shr-add .tag-item .user .avatar,.ddn-shr-dt .shr-add .tag-item .group .avatar,.ddn-shr-dt .shr-add .tag-item .email-collab .avatar{border:none}.ddn-shr-dt .shr-add .tag-item .user img,.ddn-shr-dt .shr-add .tag-item .group img,.ddn-shr-dt .shr-add .tag-item .email-collab img{border-radius:50%}.ddn-shr-dt .shr-add .tag-item .user .text,.ddn-shr-dt .shr-add .tag-item .group .text,.ddn-shr-dt .shr-add .tag-item .email-collab .text{padding-left:5px;max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ddn-shr-dt .shr-add .tag-item .user .fill,.ddn-shr-dt .shr-add .tag-item .group .fill,.ddn-shr-dt .shr-add .tag-item .email-collab .fill{fill:var(--f-subdue)}.ddn-shr-dt .shr-add .tag-item .remove-button{display:flex;flex:0 0 8px;line-height:25px;padding-left:5px;border:0;background:#0000}.ddn-shr-dt .shr-add .tag-item .remove-button svg{height:9px;width:9px}.ddn-shr-dt .shr-add .tag-item .remove-button svg path{stroke:var(--f-subdue)}.ddn-shr-dt .shr-list{padding:10px 0;max-height:250px;overflow:auto}.ddn-shr-dt .shr-list.shr-search{min-height:140px}.ddn-shr-dt .shr-list.shr-search .collaborator-item{cursor:pointer}.ddn-shr-dt .collaborator-item{display:flex;align-items:center;padding:10px 20px}.ddn-shr-dt .collaborator-item:last-child{margin-bottom:0}.ddn-shr-dt .collaborator-item.highlight{background:var(--f-primary-10)}.ddn-shr-dt .collaborator-details{flex:1 1 auto;display:flex;align-items:center;overflow:hidden;margin-right:5px}.ddn-shr-dt .collaborator-details .user{width:26px;flex:0 0 26px}.ddn-shr-dt .collaborator-details .user-avatar img{border:0}.ddn-shr-dt .collaborator-details .group-icon{display:flex;justify-content:center;align-items:center;width:26px;height:26px;flex:0 0 26px}.ddn-shr-dt .collaborator-details .group-icon svg{height:20px;width:20px}.ddn-shr-dt .collaborator-details .group-icon svg path{fill:var(--f-subdue)}.ddn-shr-dt .collaborator-details .privacy-icon{height:16px;width:26px;flex:0 0 26px}.ddn-shr-dt .collaborator-info{flex:1 1 auto;margin:0 15px 0 8px}.ddn-shr-dt .collaborator-info.full-width{flex:1 1 auto;max-width:none}.ddn-shr-dt .collaborator-info.full-width .name{max-width:none!important}.ddn-shr-dt .collaborator-info .first-line{width:100%;display:flex;align-items:center}.ddn-shr-dt .collaborator-info .first-line .name{user-select:text;color:var(--f-ink);line-height:16px;word-break:break-word}.ddn-shr-dt .collaborator-info .first-line .date{font-weight:500;color:var(--f-subdue);line-height:15px;margin-left:4px;white-space:nowrap}@media (max-width: 450px){.ddn-shr-dt .collaborator-info .first-line .date{display:none}}.ddn-shr-dt .collaborator-info .second-line{width:100%}.ddn-shr-dt .collaborator-info .second-line .text{display:block;color:var(--f-subdue);user-select:text}.ddn-shr-dt .collaborator-rights{text-align:right;white-space:nowrap}.ddn-shr-dt .collaborator-rights .ro,.ddn-shr-dt .collaborator-rights .change,.ddn-shr-dt .collaborator-rights .copy{background:transparent;border:0;padding:0;color:var(--f-ink);line-height:15px;white-space:nowrap}.ddn-shr-dt .collaborator-rights .change,.ddn-shr-dt .collaborator-rights .copy{color:var(--f-primary)}.ddn-shr-dt .collaborator-rights .copy.copied{color:var(--f-happy-green)}.ddn-shr-dt .collaborator-rights .updating{color:var(--f-safe-terracota);font-style:italic}.ddn-shr-dt .collaborator-rights .bull{color:var(--f-subdue)}.ddn-shr-dt .ddn-right-mode{max-width:240px;padding:0;white-space:initial}.ddn-shr-dt .ddn-right-mode li{text-align:left;cursor:pointer;padding:15px;border-left:3px solid transparent;border-right:3px solid transparent;border-bottom:1px solid #e7e8ec}.ddn-shr-dt .ddn-right-mode li:last-child{border-bottom:0}.ddn-shr-dt .ddn-right-mode li.active{border-left:3px solid var(--f-primary)}.ddn-shr-dt .ddn-right-mode .right-title{color:var(--f-ink)}.ddn-shr-dt .ddn-right-mode .right-title.rm{color:var(--f-safe-red)}.ddn-shr-dt .ddn-right-mode .right-description{margin-top:5px;color:var(--f-subdue);line-height:16px}.ddn-shr-dt .shr-add-footer{display:flex;justify-content:space-between;align-items:center;height:53px;padding:10px 20px;border-top:1px solid #e7e8ec}.ddn-shr-dt .shr-add-footer .invite-as .change{color:var(--f-primary);background:transparent;border:0;padding:0}.ddn-shr-dt .shr-add-footer .send-invite{display:flex;align-items:center;color:var(--f-primary);cursor:pointer}.ddn-shr-dt .shr-add-footer .send-invite.loading{opacity:.7;font-style:italic;cursor:wait}.ddn-shr-dt .shr-add-footer .send-invite .text{margin-right:8px}.ddn-shr-dt .shr-add-footer .send-invite svg{display:block}.ddn-shr-privacy{padding:20px}.ddn-shr-privacy .shr-title{color:var(--f-ink);font-size:16px;font-weight:400;line-height:28px;margin-bottom:20px}.ddn-shr-privacy .shr-item{display:flex;align-items:center;margin-bottom:20px;background:transparent;border:0;padding:0;text-align:left;width:100%}.ddn-shr-privacy .shr-item:last-child{margin-bottom:0}.ddn-shr-privacy .shr-item svg{width:16px;height:16px}.ddn-shr-privacy .shr-item .info{flex:1 1 auto;display:flex;flex-direction:column;margin-left:8px}.ddn-shr-privacy .shr-item .name{color:var(--f-ink)}.ddn-shr-privacy .shr-item .description{color:var(--f-subdue)}.ddn-shr-privacy .shr-item .choose{margin-left:8px;color:var(--f-primary)}
`,""]);const w=v},378892:(f,y,r)=>{var e=r(588297);e.__esModule&&(e=e.default),typeof e=="string"&&(e=[[f.id,e,""]]),e.locals&&(f.exports=e.locals);var i=r(929234).A,h=i("fa6f380a",e,!0,{})},588297:(f,y,r)=>{"use strict";r.r(y),r.d(y,{default:()=>w});var e=r(814779),i=r.n(e),h=r(927860),C=r.n(h),v=C()(i());v.push([f.id,`.accept-coc-warning_W2ihb{display:flex;align-items:center;color:var(--f-safe-terracota);margin-top:4px}.accept-coc-warning_W2ihb svg{fill:var(--f-safe-terracota)}.accept-coc-warning_W2ihb p{margin-left:4px;font-size:12px}.tag-item-user_jFezm{display:flex;align-items:center;color:var(--f-ink)}.tag-avatar_EDDn9{width:15px;height:15px}.tag-name_Pooko{padding-left:5px;max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.not-found__cAkG{white-space:normal;text-align:center;color:var(--f-subdue);line-height:20px;max-width:250px;margin:30px auto}
`,""]),v.locals={"accept-coc-warning":"accept-coc-warning_W2ihb","tag-item-user":"tag-item-user_jFezm","tag-avatar":"tag-avatar_EDDn9","tag-name":"tag-name_Pooko","not-found":"not-found__cAkG"};const w=v},593195:(f,y,r)=>{"use strict";r.d(y,{i:()=>S});var e=r(322732),i=Object.defineProperty,h=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,E=(m,c,p)=>c in m?i(m,c,{enumerable:!0,configurable:!0,writable:!0,value:p}):m[c]=p,I=(m,c)=>{for(var p in c||(c={}))w.call(c,p)&&E(m,p,c[p]);if(v)for(var p of v(c))H.call(c,p)&&E(m,p,c[p]);return m},L=(m,c)=>h(m,C(c));function S(m){(0,e.JTT)("clipboard-read"),(0,e.JTT)("clipboard-write");const{text:c,copy:p,copied:D}=(0,e.iDZ)(L(I({copiedDuring:3e3},m),{legacy:!0}));return{text:c,copy:p,copied:D}}},760877:(f,y,r)=>{var e=r(929224);e.__esModule&&(e=e.default),typeof e=="string"&&(e=[[f.id,e,""]]),e.locals&&(f.exports=e.locals);var i=r(929234).A,h=i("a1e015c4",e,!0,{})},863762:(f,y,r)=>{var e=r(354475);e.__esModule&&(e=e.default),typeof e=="string"&&(e=[[f.id,e,""]]),e.locals&&(f.exports=e.locals);var i=r(929234).A,h=i("3b49fdca",e,!0,{})},929224:(f,y,r)=>{"use strict";r.r(y),r.d(y,{default:()=>w});var e=r(814779),i=r.n(e),h=r(927860),C=r.n(h),v=C()(i());v.push([f.id,`.indiv-user-avatar_K7TYb{width:26px;height:26px}
`,""]),v.locals={"indiv-user-avatar":"indiv-user-avatar_K7TYb"};const w=v},991317:(f,y,r)=>{"use strict";r.d(y,{o:()=>H});var e=r(6645),i=r(744056),h=r(361744),C=r(328010),v=r(941271),w=(E,I,L)=>new Promise((S,m)=>{var c=x=>{try{D(L.next(x))}catch(M){m(M)}},p=x=>{try{D(L.throw(x))}catch(M){m(M)}},D=x=>x.done?S(x.value):Promise.resolve(x.value).then(c,p);D((L=L.apply(E,I)).next())});const H=(0,e.nY)("accountsSocial",()=>{const E=(0,i.KR)([]),I=(0,i.KR)(!1),L=(0,h.EW)(()=>E.value||[]);function S(g){E.value=g,I.value=!0}function m(){return w(this,arguments,function*({cached:g=!0}={}){if(g&&I.value)return E.value;const P=(yield C.A.getFollowing({ids:!0})).map(V=>V.id);return S(P),E.value})}const c=(0,i.KR)([]);function p(g){c.value=g}function D(g){c.value.indexOf(g)<0&&c.value.push(g)}function x(g){const P=c.value.indexOf(g);P>=0&&c.value.splice(P)}function M(){return w(this,null,function*(){const g=yield C.A.getLikes({ids:!0});p(g.map(P=>P.id))})}function z(g){(0,v.B)().addExperience("score.like"),D(g)}function K(g){(0,v.B)().addExperience("score.unlike"),x(g)}return{following:E,cachedFollowing:I,accountFollowing:L,SET_FOLLOWING:S,getFollowing:m,scoresLiked:c,SET_SCORE_LIKES:p,ADD_SCORE_LIKE:D,DELETE_SCORE_LIKE:x,getLikes:M,addScoreLike:z,deleteScoreLike:K}})}}]);})();


//# debugId=b30ff90c-388e-5d97-8c65-7bde8020bd10

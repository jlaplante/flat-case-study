"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e606144d-dc43-5756-8b5a-700077bc53dd")}catch(e){}}();
(()=>{/*! Copyright (c) 2025 Tutteo Ltd. */(self.webpackChunk_flat_flat=self.webpackChunk_flat_flat||[]).push([[20881],{199077:(D,E,r)=>{r.d(E,{A:()=>P});var g=r(208758);const a=function(y,o,h,T){this.init(y,o,h,T)},s=a.prototype;s.init=function(y,o,h,T){this.font=y,this.fallbackFont=T,this.dpi=o,this.pointSize=h,this.glyphs={}},s.getScaledGlyph=function(y,o){const h=this.pointSize*o;return new g.A(y,h,this.dpi,this.font,this.fallbackFont)},s.getGlyph=function(y){return typeof this.glyphs[y]=="undefined"&&this.loadGlyph(y),this.glyphs[y]},s.loadGlyph=function(y){const o=new g.A(y,this.pointSize,this.dpi,this.font,this.fallbackFont);this.glyphs[y]=o};const P=a},208758:(D,E,r)=>{r.d(E,{A:()=>P});var g=r(364842),a=r(390253);const s={M:1,L:1,T:1,S:2,Q:2,C:3,Z:0};class P{constructor(o,h,T,m,F){if(Object.defineProperty(this,"glyph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pointSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dpi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spaceSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scaledPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!m.glyphs)throw new g.default("BadFont","This font has not glyph");let z=m.glyphs[o];if(typeof z=="undefined"&&F&&(m=F,z=m.glyphs[o]),typeof z=="undefined")throw new g.default("BadGlyphKey",`Glyph key [${o}] is not in the font.`);this.glyph=z,this.key=o,this.pointSize=h,this.dpi=T;const L=h/a.A.POINTS_BY_INCH*T;this.spaceSize=L/4;const M=m.meta["units-per-em"];this.scale=L/M;const O=this.glyph.path.match(/[a-zA-Z]|[0-9\-]+/g);if(O===null)throw new g.default("Unexpected","The path data is null.");this.pathData=O,this.scaledPath=null}getBBox(){const o=this.getWidth(),h=this.getHeight();return{width:o,height:h}}getWidth(){const o=this.getBBoxNE(),h=this.getBBoxSW();return o.x-h.x}getHeight(){const o=this.getBBoxNE();return this.getBBoxSW().y-o.y}getBBoxNE(){const o=this.getBBoxNESpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}getBBoxSW(){const o=this.getBBoxSWSpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}hasStemAnchor(){return typeof this.glyph.stemDownNW!="undefined"&&typeof this.glyph.stemUpSE!="undefined"}getStemDownNW(){const o=this.getStemDownNWSpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}getStemDownNWSpace(){if(typeof this.glyph.stemDownNW=="undefined"){const h=`There is no entry [stemDownNW] for the glyph [${this.key}].`;throw new g.default("Unexpected",h)}const o=this.glyph.stemDownNW;return{x:o[0],y:-o[1]}}getStemUpSE(){const o=this.getStemUpSESpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}getStemUpSESpace(){if(typeof this.glyph.stemUpSE=="undefined"){const h=`There is no entry [stemUpSE] for the glyph [${this.key}].`;throw new g.default("Unexpected",h)}const o=this.glyph.stemUpSE;return{x:o[0],y:-o[1]}}hasOpticalCenter(){return typeof this.glyph.opticalCenter!="undefined"}getOpticalCenter(){if(this.hasOpticalCenter()){const o=this.getOpticalCenterSpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}else return{x:this.getWidth()/2,y:this.getHeight()/2}}getOpticalCenterSpace(){if(typeof this.glyph.opticalCenter=="undefined"){const h=`There is no entry [opticalCenter] for the glyph [${this.key}].`;throw new g.default("Unexpected",h)}const o=this.glyph.opticalCenter;return{x:o[0],y:-o[1]}}getGraceNoteSlashSW(){if(this.hasGraceNoteSlashSW()){const o=this.getGraceNoteSlashSWSpace();return o.x*=this.spaceSize,o.y*=this.spaceSize,o}return this.getBBoxSW()}hasGraceNoteSlashSW(){return typeof this.glyph.graceNoteSlashSW!="undefined"}getGraceNoteSlashSWSpace(){if(typeof this.glyph.graceNoteSlashSW=="undefined"){const h=`There is no entry [graceNoteSlashSW] for the glyph [${this.key}].`;throw new g.default("Unexpected",h)}const o=this.glyph.graceNoteSlashSW;return{x:o[0],y:-o[1]}}getGraceNoteSlashNW(){if(this.hasGraceNoteSlashNW()){const h=this.getGraceNoteSlashNWSpace();return h.x*=this.spaceSize,h.y*=this.spaceSize,h}const o=this.getBBoxNE();return{x:o.x+this.getWidth(),y:o.y}}hasGraceNoteSlashNW(){return typeof this.glyph.graceNoteSlashNW!="undefined"}getGraceNoteSlashNWSpace(){if(typeof this.glyph.graceNoteSlashNW=="undefined"){const h=`There is no entry [graceNoteSlashNW] for the glyph [${this.key}].`;throw new g.default("Unexpected",h)}const o=this.glyph.graceNoteSlashNW;return{x:o[0],y:-o[1]}}getRepeatOffset(){const o=this.getRepeatOffsetSpace();if(o)return o.x*=this.spaceSize,o.y*=this.spaceSize,o}getRepeatOffsetSpace(){if(typeof this.glyph.repeatOffset=="undefined")return;const o=this.glyph.repeatOffset;return{x:o[0],y:-o[1]}}getBBoxNESpace(){const o=this.glyph.bBoxNE;return{x:o[0],y:-o[1]}}getBBoxSWSpace(){const o=this.glyph.bBoxSW;return{x:o[0],y:-o[1]}}render(){return this.scaledPath===null&&(this.scaledPath=this.calcScaledPath()),this.scaledPath}calcScaledPath(){const o=[],h=this.pathData,T=h.length;for(let m=0;m<T;){const F=h[m];if(m++,F==="V"||F==="v"){const z=-parseFloat(h[m]);m++,this.addEntry(o,F,[z])}else if(F==="H"||F==="h"){const z=parseFloat(h[m]);m++,this.addEntry(o,F,[z])}else{const z=s[F.toUpperCase()];if(typeof z=="undefined")throw new g.default("BadPathAction",`'Unknown path action: ['${F}'].`);const _=[];for(let L=0;L<z;L++){const M=parseFloat(h[m]);m++;const O=-parseFloat(h[m]);m++,_.push(M,O)}this.addEntry(o,F,_)}}return o.join("")}addEntry(o,h,T){const m=T.map(z=>z*this.scale),F=h+m.join(",");o.push(F)}getKey(){return this.key}}},261566:(D,E,r)=>{r.d(E,{A:()=>O});function g(p,d,S){const N=S.getMarginSize(),c={nbDivisions:d,margin:N};return p.map(a,c).flat()}function a(p){if(p.length===0)return[];const d=this,S=p.map(P,d.margin),N=p.length-1;if(p[N].timePos!==d.nbDivisions){const R=s(p,d.margin,d.nbDivisions);S.push(R)}return S}function s(p,d,S){const N=p.length-1,c=p[N],R=c.spaceAfter+d,H=S,W=c.timePos;return{timePos:H,previousTimePos:W,distanceWithPrevious:R}}function P(p,d,S){let N,c;const R=p.timePos;if(d===0)N=0,c=0;else{const W=this.valueOf(),k=S[d-1];N=k.timePos,c=k.spaceAfter+W+p.spaceBefore}return{timePos:R,distanceWithPrevious:c,previousTimePos:N}}const y=function(p){p.sort(o)},o=function(p,d){return p.timePos-d.timePos},h=y;var T=r(364842);const m=function(p,d){const S={map:{0:0},maxPosX:0,margin:d};return p.forEach(F,S),S.map},F=function(p){const d=this,N=z(d.map,p.previousTimePos)+p.distanceWithPrevious;_(d,p.timePos,N)},z=function(p,d){if(typeof p[d]=="undefined"){const S=`There is no x distance for the time position [${d}].`;throw new T.default("BadTimePos",S)}else return p[d]},_=function(p,d,S){if(typeof p.map[d]=="undefined"){const N=p.maxPosX+p.margin;S=Math.max(S,N),p.map[d]=S}else{const N=z(p.map,d);p.map[d]=Math.max(S,N)}p.maxPosX=p.map[d]},L=m,O=function(p,d,S,N=!1){const c=g(p,d,S);h(c);let R=S.getMarginSize();if(N){const W=S.getGraceSizeCoeff();R*=W}return L(c,R)}},331751:(D,E,r)=>{r.d(E,{A:()=>Pe});var g=r(112637),a=r(106301),s=r(513521),P=r(227457),y=r(612716),o=r(878293),h=r(159597),T=r(411967),m=r(23542),F=r(833880),z=r(398519),_=r(461256),L=r(461761),M=r(517573),O=r(307346),p=r(575269),d=r(528956),S=r(657851),N=r(122203),c=r(364842),R=r(354093),H=r(183820),W=r(726042);const k=["dynamicRinforzando","dynamicMezzo","dynamicSforzando","dynamicZ"],Z="dynamicPiano",J="dynamicForte",C=function(t){this.init(t)},x=C.prototype;x.init=function(t){this.glyphsCache=t,this.xHeight=null,this.middle=null,this.ascent=null,this.descent=null,this.wedgeHeight=null},x.getMiddle=function(){return this.getXHeight()/2},x.getWedgeHeight=function(){return this.wedgeHeight===null&&this.calcWedgeHeight(),this.wedgeHeight},x.calcWedgeHeight=function(){const t=this.getXHeight(),e=this.getAscent(),n=this.getDescent(),f=Math.max(e,n);this.wedgeHeight=f*2+t},x.getAscent=function(){return this.ascent===null&&this.calcAscent(),this.ascent},x.calcAscent=function(){const t=this.getXHeight(),e=this.getDescent(),n=this.getGlyphHeight(J);this.descent=n-t-e},x.getDescent=function(){return this.descent===null&&this.calcDescent(),this.descent},x.calcDescent=function(){const t=this.getXHeight(),e=this.getGlyphHeight(Z);this.descent=e-t},x.getXHeight=function(){return this.xHeight===null&&this.calcXHeight(),this.xHeight},x.calcXHeight=function(){const t=k.map(this.getGlyphHeight,this);this.xHeight=t.reduce(W.default.max2)},x.getGlyphHeight=function(t){return this.glyphsCache.getGlyph(t).getHeight()};const q=C;var Y=r(843678),tt=r(261566);function Q(t,e){const n=Y.default.toPairs(t);n.sort(et);let f=n[n.length-1].key,A=e/f;const I=it(n),b=I.slice();do{let v=!1;for(let B=b.length-1;B>=0;B--){const G=b[B];G.width/G.duration>A&&(b.splice(B,1),e-=G.width,f-=G.duration,v=!0)}if(v)A=A=e/f;else{b.forEach(B=>{B.width=B.duration*A});break}}while(b.length>0);return nt(I)}function et(t,e){return parseFloat(t.key)-parseFloat(e.key)}function it(t){const e=[];return t.forEach(({key:n,value:f},A)=>{if(A===0)return;const{key:I,value:b}=t[A-1],w=n-I,v=f-b;e.push({width:v,duration:w})}),e}function nt(t){const e={0:0};let n=0,f=0;return t.forEach(({width:A,duration:I})=>{f+=A,n+=I,e[n]=f}),e}const K=function(t,e,n){this.init(t,e,n)},u=K.prototype;u.init=function(t,e,n){this.voicesData=t,this.drawingContext=e,this.isMinimal=n,this.minimalPosXBYTimePos=null,this.minimalWidth=null,this.nominalPosXByTimePos=null,this.nominalWidth=null,this.timePosTab=null,this.posXByTimePos=null,this.width=null},u.getMiddlePos=function(){const t=this.getAlignmentSpace();return(this.getWidth()+t)/2-t},u.getNominalMiddlePos=function(){const t=this.getAlignmentSpace();return(this.getNominalWidth()+t)/2-t},u.getAlignmentSpace=function(){const t=this.drawingContext.getSpaceBeforeNotes();return this.voicesData.getAlignmentSpace()+t},u.getNominalPosX=function(t,e){const n=this.getDpq();return t=t*n/e,this.getInternalNominalPosX(t)},u.getInternalNominalPosX=function(t){this.checkTimePos(t);const e=this.getNominalPosXByTimePos();return typeof e[t]!="undefined"?e[t]:this.getLinearInterpolation(t,e)},u.getPosXSafe=function(t,e){const n=this.getDpq();return t=t*n/e,this.getInternalPosXSafe(t)},u.getPosX=function(t,e){const n=this.getDpq();return t=t*n/e,this.getInternalPosX(t)},u.getDpq=function(){return this.voicesData.getDpq()},u.getInternalPosX=function(t){this.checkTimePos(t);const e=this.getPosXByTimePos();return typeof e[t]!="undefined"?e[t]:this.getLinearInterpolation(t,e)},u.getInternalPosXSafe=function(t){t=this.sanitizeTimePos(t);const e=this.getPosXByTimePos();return typeof e[t]!="undefined"?e[t]:this.getLinearInterpolation(t,e)},u.sanitizeTimePos=function(t){if(typeof t!="number"||Number.isNaN(t)){const n=`The time pos [${t}<${typeof t}>] is invalid.`;throw new c.default("BadTimePos",n)}const e=this.getNbDivisions();return t<0?0:t>e?e:t},u.checkTimePos=function(t){const e=this.getNbDivisions();if(typeof t!="number"||t<0||t>e){const n=`The time pos [${t}] is out of range. `;throw new c.default("BadTimePos",n)}},u.getLinearInterpolation=function(t,e){const n=this.getTimePosBeforeIdx(t),f=this.getTimePosAt(n),A=this.getTimePosAt(n+1),I=A-f,b=(t-f)/I,w=e[f],B=e[A]-w;return w+B*b},u.getTimePosBeforeIdx=function(t){const e=this.getTimePosTab(),n=e.length;for(let f=0;f<n;f++)if(e[f]>t){if(f>0)return f-1;throw new c.default("Unexpected")}throw new c.default("Unexpected")},u.getLastItemTimePos=function(){const t=this.getTimePosTab();return this.getTimePosAt(t.length-2)},u.getTimePosAt=function(t){const e=this.getTimePosTab();if(t<0||t>=e.length){const n=`Invalid time position index [${t}]. `;throw new c.default("InvalidTimePosIdx",n)}else return e[t]},u.getTimePosTab=function(){return this.timePosTab===null&&this.calcTimePosTab(),this.timePosTab},u.calcTimePosTab=function(){const t=this.getPosXByTimePos(),e=Object.keys(t);this.timePosTab=e.map(W.default.intPart),this.timePosTab.sort(W.default.cmp)},u.getPosXByTimePos=function(){return this.posXByTimePos===null&&this.calcPosXByTimePos(),this.posXByTimePos},u.calcPosXByTimePos=function(){const t=this.getWidth(),e=this.getNominalWidth();if(t-e===0){this.posXByTimePos=this.nominalPosXByTimePos;return}this.posXByTimePos=Q(this.nominalPosXByTimePos,t)},u.getWidth=function(){if(this.width===null){const t=this.getNominalWidth();this.width=t}return this.width},u.setWidth=function(t){const e=this.getNominalWidth();t=W.default.max2(t,e),this.posXByTimePos=null,this.width=t},u.getNominalWidth=function(){return this.nominalWidth===null&&this.calcNominalWidth(),this.nominalWidth},u.calcNominalWidth=function(){const t=this.getNbDivisions(),n=this.getNominalPosXByTimePos()[t];if(typeof n!="number")throw new c.default("Unexpected");this.nominalWidth=n},u.getNbDivisions=function(){return this.voicesData.getNbDivisions()},u.getNominalPosXByTimePos=function(){return this.nominalPosXByTimePos===null&&this.calcNominalPosXByTimePos(),this.nominalPosXByTimePos},u.calcNominalPosXByTimePos=function(){const t=this.getMinimalPosXByTimePos();if(this.isMinimal)this.nominalPosXByTimePos=t;else{const e=this.getMinimalWidth(),n=this.drawingContext.getNotesSpacingCoeff();let f=e*n;const A=this.drawingContext.getMeasureWidth();f=Math.max(f,A),this.nominalPosXByTimePos=Q(t,f)}},u.getMinimalWidth=function(){return this.minimalWidth===null&&this.calcMinimalWidth(),this.minimalWidth},u.calcMinimalWidth=function(){const t=this.getNbDivisions(),n=this.getMinimalPosXByTimePos()[t];if(typeof n!="number")throw new c.default("Unexpected");this.minimalWidth=n},u.getMinimalPosXByTimePos=function(){return this.minimalPosXBYTimePos===null&&this.calcMinimalPosXByTimePos(),this.minimalPosXBYTimePos},u.calcMinimalPosXByTimePos=function(){const t=this.getVoicesData(),e=this.getNbDivisions();this.minimalPosXBYTimePos=(0,tt.A)(t,e,this.drawingContext)},u.getVoicesData=function(){return this.voicesData.getVoicesData()},u.isSame=function(t){const e=this.constructor,n=t.constructor;if(e!==n)return!1;const f=this.getPosXByTimePos(),A=t.getPosXByTimePos();return Y.default.isEqual(f,A,ot)};const ot=function(t,e){return t===e},st=K;var X=r(377072),at=r(15049),j=r(390253),V=r(199077),l=r(210943);const rt="Georgia",ht="black",ct=null,pt=null,ft="Regular",ut="normal",lt=function(t){t.getPartNameFontFamily=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName["font-family"]!="undefined"?this.options.partName["font-family"]:rt},t.getPartNameFill=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName.fill!="undefined"?this.options.partName.fill:ht},t.getPartNameLetterSpacing=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName["letter-spacing"]!="undefined"?this.options.partName["letter-spacing"]:ct},t.getPartNameTextTransform=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName["text-transform"]!="undefined"?this.options.partName["text-transform"]:pt},t.getPartNameFontWeight=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName["font-weight"]!="undefined"?this.options.partName["font-weight"]:ft},t.getPartNameFontStyle=function(){return typeof this.options.partName!="undefined"&&typeof this.options.partName["font-style"]!="undefined"?this.options.partName["font-style"]:ut},t.getPartNameFontSize=function(){if(typeof this.options.partName!="undefined"&&typeof this.options.partName["font-size"]!="undefined"){const e=this.options.partName["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for part name")}},dt="Georgia",gt="normal",yt="normal",mt=function(t){t.getHarmonyFontFamily=function(){return typeof this.options.harmonyText!="undefined"&&typeof this.options.harmonyText["font-family"]!="undefined"?this.options.harmonyText["font-family"]:dt},t.getHarmonyFontStyle=function(){return typeof this.options.harmonyText!="undefined"&&typeof this.options.harmonyText["font-style"]!="undefined"?this.options.harmonyText["font-style"]:gt},t.getHarmonyFontWeight=function(){return typeof this.options.harmonyText!="undefined"&&typeof this.options.harmonyText["font-weight"]!="undefined"?this.options.harmonyText["font-weight"]:yt},t.getHarmonyFontSize=function(){if(typeof this.options.harmonyText!="undefined"&&typeof this.options.harmonyText["font-size"]!="undefined"){const e=this.options.harmonyText["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for harmonyTexts")},t.getHarmonyGlyphRatio=function(){const e=this.getHarmonyFontSize(),n=this.getStaffSizeInPixels();return e/n}},St="Georgia",Tt="normal",At="normal",Ft=function(t){t.getRehearsalFontFamily=function(){return typeof this.options.rehearsalText!="undefined"&&typeof this.options.rehearsalText["font-family"]!="undefined"?this.options.rehearsalText["font-family"]:St},t.getRehearsalFontStyle=function(){return typeof this.options.rehearsalText!="undefined"&&typeof this.options.rehearsalText["font-style"]!="undefined"?this.options.rehearsalText["font-style"]:Tt},t.getRehearsalFontWeight=function(){return typeof this.options.rehearsalText!="undefined"&&typeof this.options.rehearsalText["font-weight"]!="undefined"?this.options.rehearsalText["font-weight"]:At},t.getRehearsalFontSize=function(){if(typeof this.options.rehearsalText!="undefined"&&typeof this.options.rehearsalText["font-size"]!="undefined"){const e=this.options.rehearsalText["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for rehearsal marks")}},zt="Georgia",Nt="normal",Et="normal",Pt=function(t){t.getMeasureNumberFontFamily=function(){return typeof this.options.measureNumber!="undefined"&&typeof this.options.measureNumber["font-family"]!="undefined"?this.options.measureNumber["font-family"]:zt},t.getMeasureNumberFontStyle=function(){return typeof this.options.measureNumber!="undefined"&&typeof this.options.measureNumber["font-style"]!="undefined"?this.options.measureNumber["font-style"]:Nt},t.getMeasureNumberFontWeight=function(){return typeof this.options.measureNumber!="undefined"&&typeof this.options.measureNumber["font-weight"]!="undefined"?this.options.measureNumber["font-weight"]:Et},t.getMeasureNumberFontSize=function(){if(typeof this.options.measureNumber!="undefined"&&typeof this.options.measureNumber["font-size"]!="undefined"){const e=this.options.measureNumber["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for measureNumbers")}},Rt="Georgia",xt="normal",Lt="normal",Wt=function(t){t.getPageNumberFontFamily=function(){return typeof this.options.pageNumber!="undefined"&&typeof this.options.pageNumber["font-family"]!="undefined"?this.options.pageNumber["font-family"]:Rt},t.getPageNumberFontStyle=function(){return typeof this.options.pageNumber!="undefined"&&typeof this.options.pageNumber["font-style"]!="undefined"?this.options.pageNumber["font-style"]:xt},t.getPageNumberFontWeight=function(){return typeof this.options.pageNumber!="undefined"&&typeof this.options.pageNumber["font-weight"]!="undefined"?this.options.pageNumber["font-weight"]:Lt},t.getPageNumberFontSize=function(){if(typeof this.options.pageNumber!="undefined"&&typeof this.options.pageNumber["font-size"]!="undefined"){const e=this.options.pageNumber["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for pageNumbers")}},_t="Georgia",bt="normal",Bt="normal",Dt=function(t){t.getLyricFontFamily=function(){return typeof this.options.lyric!="undefined"&&typeof this.options.lyric["font-family"]!="undefined"?this.options.lyric["font-family"]:_t},t.getLyricFontStyle=function(){return typeof this.options.lyric!="undefined"&&typeof this.options.lyric["font-style"]!="undefined"?this.options.lyric["font-style"]:bt},t.getLyricFontWeight=function(){return typeof this.options.lyric!="undefined"&&typeof this.options.lyric["font-weight"]!="undefined"?this.options.lyric["font-weight"]:Bt},t.getLyricsFontSize=function(){if(typeof this.options.lyric!="undefined"&&typeof this.options.lyric["font-size"]!="undefined"){const e=this.options.lyric["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for lyrics")}},It="Georgia",Ot="normal",Ht="normal",Mt=function(t){t.getTempoFontFamily=function(){return typeof this.options.tempo!="undefined"&&typeof this.options.tempo["font-family"]!="undefined"?this.options.tempo["font-family"]:It},t.getTempoFontStyle=function(){return typeof this.options.tempo!="undefined"&&typeof this.options.tempo["font-style"]!="undefined"?this.options.tempo["font-style"]:Ot},t.getTempoFontWeight=function(){return typeof this.options.tempo!="undefined"&&typeof this.options.tempo["font-weight"]!="undefined"?this.options.tempo["font-weight"]:Ht},t.getTempoFontSize=function(){if(typeof this.options.tempo!="undefined"&&typeof this.options.tempo["font-size"]!="undefined"){const e=this.options.tempo["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for tempo")}},kt="Georgia",wt="normal",vt="normal",Ut=function(t){t.getTitleFontFamily=function(){return typeof this.options.title!="undefined"&&typeof this.options.title["font-family"]!="undefined"?this.options.title["font-family"]:kt},t.getTitleFontStyle=function(){return typeof this.options.title!="undefined"&&typeof this.options.title["font-style"]!="undefined"?this.options.title["font-style"]:wt},t.getTitleFontWeight=function(){return typeof this.options.title!="undefined"&&typeof this.options.title["font-weight"]!="undefined"?this.options.title["font-weight"]:vt},t.getTitleFontSize=function(){if(typeof this.options.title!="undefined"&&typeof this.options.title["font-size"]!="undefined"){const e=this.options.title["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for title")}},Gt="Georgia",Xt="normal",Ct="normal",Yt=function(t){t.getSubtitleFontFamily=function(){return typeof this.options.subtitle!="undefined"&&typeof this.options.subtitle["font-family"]!="undefined"?this.options.subtitle["font-family"]:Gt},t.getSubtitleFontStyle=function(){return typeof this.options.subtitle!="undefined"&&typeof this.options.subtitle["font-style"]!="undefined"?this.options.subtitle["font-style"]:Xt},t.getSubtitleFontWeight=function(){return typeof this.options.subtitle!="undefined"&&typeof this.options.subtitle["font-weight"]!="undefined"?this.options.subtitle["font-weight"]:Ct},t.getSubtitleFontSize=function(){if(typeof this.options.subtitle!="undefined"&&typeof this.options.subtitle["font-size"]!="undefined"){const e=this.options.subtitle["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for subtitle")}},Qt="Georgia",Kt="normal",jt="normal",Vt=function(t){t.getLyricistFontFamily=function(){return typeof this.options.lyricist!="undefined"&&typeof this.options.lyricist["font-family"]!="undefined"?this.options.lyricist["font-family"]:Qt},t.getLyricistFontStyle=function(){return typeof this.options.lyricist!="undefined"&&typeof this.options.lyricist["font-style"]!="undefined"?this.options.lyricist["font-style"]:Kt},t.getLyricistFontWeight=function(){return typeof this.options.lyricist!="undefined"&&typeof this.options.lyricist["font-weight"]!="undefined"?this.options.lyricist["font-weight"]:jt},t.getLyricistFontSize=function(){if(typeof this.options.lyricist!="undefined"&&typeof this.options.lyricist["font-size"]!="undefined"){const e=this.options.lyricist["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for lyricist")}},$t="Georgia",Zt="normal",Jt="normal",qt=function(t){t.getComposerFontFamily=function(){return typeof this.options.composer!="undefined"&&typeof this.options.composer["font-family"]!="undefined"?this.options.composer["font-family"]:$t},t.getComposerFontStyle=function(){return typeof this.options.composer!="undefined"&&typeof this.options.composer["font-style"]!="undefined"?this.options.composer["font-style"]:Zt},t.getComposerFontWeight=function(){return typeof this.options.composer!="undefined"&&typeof this.options.composer["font-weight"]!="undefined"?this.options.composer["font-weight"]:Jt},t.getComposerFontSize=function(){if(typeof this.options.composer!="undefined"&&typeof this.options.composer["font-size"]!="undefined"){const e=this.options.composer["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for composer")}},te="Georgia",ee="normal",ie="normal",ne=function(t){t.getArrangerFontFamily=function(){return typeof this.options.arranger!="undefined"&&typeof this.options.arranger["font-family"]!="undefined"?this.options.arranger["font-family"]:te},t.getArrangerFontStyle=function(){return typeof this.options.arranger!="undefined"&&typeof this.options.arranger["font-style"]!="undefined"?this.options.arranger["font-style"]:ee},t.getArrangerFontWeight=function(){return typeof this.options.arranger!="undefined"&&typeof this.options.arranger["font-weight"]!="undefined"?this.options.arranger["font-weight"]:ie},t.getArrangerFontSize=function(){if(typeof this.options.arranger!="undefined"&&typeof this.options.arranger["font-size"]!="undefined"){const e=this.options.arranger["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for arranger")}},oe="Georgia",se="normal",ae="normal",re=function(t){t.getCopyrightsFontFamily=function(){return typeof this.options.copyrights!="undefined"&&typeof this.options.copyrights["font-family"]!="undefined"?this.options.copyrights["font-family"]:oe},t.getCopyrightsFontStyle=function(){return typeof this.options.copyrights!="undefined"&&typeof this.options.copyrights["font-style"]!="undefined"?this.options.copyrights["font-style"]:se},t.getCopyrightsFontWeight=function(){return typeof this.options.copyrights!="undefined"&&typeof this.options.copyrights["font-weight"]!="undefined"?this.options.copyrights["font-weight"]:ae},t.getCopyrightsFontSize=function(){if(typeof this.options.copyrights!="undefined"&&typeof this.options.copyrights["font-size"]!="undefined"){const e=this.options.copyrights["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for copyrights")}},he="Georgia",ce="italic",pe="normal",fe=function(t){t.getPizzicatoFontFamily=function(){return typeof this.options.pizzicato!="undefined"&&typeof this.options.pizzicato["font-family"]!="undefined"?this.options.pizzicato["font-family"]:he},t.getPizzicatoFontStyle=function(){return typeof this.options.pizzicato!="undefined"&&typeof this.options.pizzicato["font-style"]!="undefined"?this.options.pizzicato["font-style"]:ce},t.getPizzicatoFontWeight=function(){return typeof this.options.pizzicato!="undefined"&&typeof this.options.pizzicato["font-weight"]!="undefined"?this.options.pizzicato["font-weight"]:pe},t.getPizzicatoFontSize=function(){if(typeof this.options.pizzicato!="undefined"&&typeof this.options.pizzicato["font-size"]!="undefined"){const e=this.options.pizzicato["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for pizzicatos")}},ue="Georgia",le="italic",de="normal",ge=function(t){t.getWordFontFamily=function(){return typeof this.options.word!="undefined"&&typeof this.options.word["font-family"]!="undefined"?this.options.word["font-family"]:ue},t.getWordFontStyle=function(){return typeof this.options.word!="undefined"&&typeof this.options.word["font-style"]!="undefined"?this.options.word["font-style"]:le},t.getWordFontWeight=function(){return typeof this.options.word!="undefined"&&typeof this.options.word["font-weight"]!="undefined"?this.options.word["font-weight"]:de},t.getWordFontSize=function(){if(typeof this.options.word!="undefined"&&typeof this.options.word["font-size"]!="undefined"){const e=this.options.word["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for words")}},ye="normal",me="normal";function Se(t){t.hasFretNumberFont=function(){return this.options.fretNumberFont&&typeof this.options.fretNumberFont["font-family"]!="undefined"},t.getFretFontFamily=function(){if(typeof this.options.fretNumberFont!="undefined"&&typeof this.options.fretNumberFont["font-family"]!="undefined")return this.options.fretNumberFont["font-family"];throw new c.default("There is no font family defined for the fret numbers")},t.getFretFontStyle=function(){return typeof this.options.fretNumberFont!="undefined"&&typeof this.options.fretNumberFont["font-style"]!="undefined"?this.options.fretNumberFont["font-style"]:ye},t.getFretFontWeight=function(){return typeof this.options.fretNumberFont!="undefined"&&typeof this.options.fretNumberFont["font-weight"]!="undefined"?this.options.fretNumberFont["font-weight"]:me},t.getFretFontSize=function(){if(typeof this.options.fretNumberFont!="undefined"&&typeof this.options.fretNumberFont["font-size"]!="undefined"){const e=this.options.fretNumberFont["font-size"],n=l.A.getFloat(e);return l.A.isUnitSpace(e)?this.spaceSize*n:this.pointSizeInPixels*n}else throw new c.default("No font size defined for composer")}}const Te=2,Ae=function(t){t.getRepeatTimesFontSize=function(){return this.spaceSize*Te},t.getRepeatTimesFontFamily=function(){if(typeof this.options.global!="undefined"&&typeof this.options.global["font-family"]!="undefined")return this.options.global["font-family"];throw new c.default("global['font-family'] missing")},t.getRepeatTimesFontStyle=function(){if(typeof this.options.global!="undefined"&&typeof this.options.global["font-style"]!="undefined")return this.options.global["font-style"];throw new c.default("global['font-style'] missing")},t.getRepeatTimesFontWeight=function(){if(typeof this.options.global!="undefined"&&typeof this.options.global["font-weight"]!="undefined")return this.options.global["font-weight"];throw new c.default("global['font-weight'] missing")}};var Fe=r(914906),ze=r(624740);function U(t,e,n,f,A){this.init(t,e,n,f,A)}const i=U.prototype;lt(i),mt(i),Ft(i),Pt(i),Wt(i),Dt(i),Mt(i),Ut(i),Yt(i),Vt(i),qt(i),ne(i),re(i),fe(i),ge(i),Se(i),Ae(i),i.init=function(t,e,n,f,A){$(n,"staff size in points"),$(f,"dots per inch"),e!==null?(Ne(e),this.glyphsCache=new V.A(e,f,n,ze.default),this.smuflFont=e):this.glyphsCache=null,this.iconsGlphsCache=new V.A(Fe.A,f,n),this.textMetric=t,this.pointSizeInPixels=f/j.A.POINTS_BY_INCH,this.staffSizeInPixels=n*this.pointSizeInPixels,this.spaceSize=this.staffSizeInPixels/j.A.SP_PER_EM,this.groupBracketSpaceAboveStaff=null,this.groupBracketSpaceBelowStaff=null,this.initOptions(A),this.firstOfScore=!0,this.dynamicsMetrics=null};const Ne=function(t){if(typeof t=="undefined"||typeof t.glyphs=="undefined"){const e="Bad SMuFL font json.";throw new c.default("BadSmuflFont",e)}},$=function(t,e){if(typeof t!="number"||Number.isNaN(t)||t<=0){const n=`The value [${t}] is invalid for ${e}.`;throw new c.default("BadScaleValue",n)}};i.initOptions=function(t){const e={};R.A.copyIn(Ee,e),R.A.copyIn(this.smuflFont.engravingDefaults,e),R.A.copyIn(t,e),this.options=e};const Ee={notesSpacingCoeff:1.25,graceSizeCoeff:.7,graceFlagSizeCoeff:.5,noteMarginRatio:.5,spaceBetweenSystemGroupsRatio:12,spaceBetweenSystemsRatio:4,bracketThickness:.5,spaceBetweenStavesRatio:3,attributesOffsetRatio:.72,timeDigitMarginRatio:1/4,keyGroupMarginRatio:2/3,keyAccidentalMarginRatio:1/3,measureWidthRatio:0,pageMeasureWidthRatio:15,tieEndpointThickness:.1,tieMidpointThickness:.22,tieVerticalMarginRatio:3/4,tieHorizontalMarginRatio:1/5,minimalTieWidthRatio:3,repeatDotRadiusRatio:1/5,thinBarlineThickness:.16,thickBarlineThickness:.5,barlineSeparationRatio:.4,repeatBarlineDotSeparation:.16,stemThickness:.12,recorderTabSeparatorThickness:.12,legerLineThickness:.16,legerLineExtension:.4,pageBreakGlyphThickness:.16,systemBreakGlyphThickness:.16,staffLineThickness:.13,tupletBracketThickness:.16,tupletBracketHeightRatio:.7,hairpinThickness:.16,hairpinOpenSpreadRatio:1,hairpinOpenContinueSpreadRatio:2/3,hairpinCloseSpreadRatio:0,hairpinCloseContinueSpreadRatio:1/3,directionAboveMarginRatio:2,directionBelowMarginRatio:1.5,spaceBeforeNotesRatio:1.5,spaceAfterNotesRatio:1.5,slurEndpointThickness:.1,slurMidpointThickness:.22,minimalSpaceAboveRightRatio:4,repeatEndingLineThickness:.16,tabStaffSpaceRatio:1.4,tabSlideYOffsetRatio:1/3,jumpsFontSizeRatio:2.62,glissandoExcessWidth:.22,glissandoHorizontalMarginRatio:1/4,minimalGlissandoWidthRatio:3,mMRExternalThickness:.32,mMRInternalThickness:.7,octaveShiftStrokeWidth:.1,octaveLineThickness:.16,pedalLineThickness:.16,octaveShiftDashArrayWidth:1,octaveShiftTextMargin:1/4,pluckedRangeTextMargin:1,pedalGlyphMargin:1/4,tempoChangeTextMargin:1/4,tempoChangeThickness:.25,tempoChangeDashArrayWidth:.5,textEnclosureThickness:.16,beamSpacing:.25,beamThickness:.5,tempoChangeMarginRatio:.75,pluckedRangeHeightRatio:3,bendLineThickness:.1,bendFontSizeRatio:1,kodalyFontSizeRatio:2,kodalyHeaderFontRatio:3,octaveShiftFontSizeRatio:1.44,endingHeightRatio:3,tempoChangeFontSizeRatio:1.92,hammerOnPullOffFontSizeRatio:1.15,lyricLineThickness:.16};U.prototype.getSpaceSize=function(){return this.spaceSize},i.getGraceSizeCoeff=function(){return this.options.graceSizeCoeff},i.getGraceFlagSizeCoeff=function(){return this.options.graceFlagSizeCoeff},i.getStaffSizeInPixels=function(){return this.staffSizeInPixels},U.prototype.getMarginSize=function(){return this.spaceSize*this.options.noteMarginRatio},i.getSpaceBetweenSystemGroups=function(){return this.spaceSize*this.options.spaceBetweenSystemGroupsRatio},i.getSpaceBetweenSystems=function(){return this.spaceSize*this.options.spaceBetweenSystemsRatio},i.getBracketStrokeWidth=function(){return this.spaceSize*this.options.bracketThickness},i.getSpaceBetweenStaves=function(){return this.spaceSize*this.options.spaceBetweenStavesRatio},i.getAttributesOffset=function(){return this.spaceSize*this.options.attributesOffsetRatio},i.getTimeDigitMargin=function(){return this.spaceSize*this.options.timeDigitMarginRatio},i.getKeyGroupMargin=function(){return this.spaceSize*this.options.keyGroupMarginRatio},i.getKeyAccidentalMargin=function(){return this.spaceSize*this.options.keyAccidentalMarginRatio},i.getMeasureWidth=function(){return this.spaceSize*this.options.measureWidthRatio},i.getPageMeasureWidth=function(){return this.spaceSize*this.options.pageMeasureWidthRatio},i.getTieEndpointThickness=function(){return this.spaceSize*this.options.tieEndpointThickness},i.getTieMidpointThickness=function(){return this.spaceSize*this.options.tieMidpointThickness},i.getTieVerticalMargin=function(){return this.spaceSize*this.options.tieVerticalMarginRatio},i.getTieHorizontalMargin=function(){return this.spaceSize*this.options.tieHorizontalMarginRatio},i.getMinimalTieWidth=function(){return this.spaceSize*this.options.minimalTieWidthRatio},i.getRepeatDotRadius=function(){return this.spaceSize*this.options.repeatDotRadiusRatio},i.getThinBarlineThickness=function(){return this.spaceSize*this.options.thinBarlineThickness},i.getThickBarlineThickness=function(){return this.spaceSize*this.options.thickBarlineThickness},i.getBarlineSeparation=function(){return this.spaceSize*this.options.barlineSeparationRatio},i.getRepeatBarlineDotSeparation=function(){return this.spaceSize*this.options.repeatBarlineDotSeparation},i.getStemThickness=function(){return this.spaceSize*this.options.stemThickness},i.getRecorderTabSeparatorThickness=function(){return this.spaceSize*this.options.recorderTabSeparatorThickness},i.getLegerLineThickness=function(){return this.spaceSize*this.options.legerLineThickness},i.getLegerLineExtension=function(){return this.spaceSize*this.options.legerLineExtension},i.getPageBreakGlyphThickness=function(){return this.spaceSize*this.options.pageBreakGlyphThickness},i.getSystemBreakGlyphThickness=function(){return this.spaceSize*this.options.systemBreakGlyphThickness},i.getStaffLineThickness=function(){return this.spaceSize*this.options.staffLineThickness},i.getBendLineThickness=function(){return this.spaceSize*this.options.bendLineThickness},i.getBendFontSize=function(){return this.spaceSize*this.options.bendFontSizeRatio},i.getKodalyFontSize=function(){return this.spaceSize*this.options.kodalyFontSizeRatio},i.getTupletBracketThickness=function(){return this.spaceSize*this.options.tupletBracketThickness},i.getTupletBracketHeight=function(){return this.spaceSize*this.options.tupletBracketHeightRatio},i.getHairpinThickness=function(){return this.spaceSize*this.options.hairpinThickness},i.getHairpinOpenSpread=function(){return this.getDynamicsHeight()*this.options.hairpinOpenSpreadRatio},i.getHairpinOpenContinueSpread=function(){return this.getDynamicsHeight()*this.options.hairpinOpenContinueSpreadRatio},i.getHairpinCloseSpread=function(){return this.getDynamicsHeight()*this.options.hairpinCloseSpreadRatio},i.getHairpinCloseContinueSpread=function(){return this.getDynamicsHeight()*this.options.hairpinCloseContinueSpreadRatio},i.getDirectionAboveMargin=function(){return this.spaceSize*this.options.directionAboveMarginRatio},i.getDirectionBelowMargin=function(){return this.spaceSize*this.options.directionBelowMarginRatio},i.getSpaceBeforeNotes=function(){return this.spaceSize*this.options.spaceBeforeNotesRatio},i.getSpaceAfterNotes=function(){return this.spaceSize*this.options.spaceAfterNotesRatio},i.getSlurEndpointThickness=function(){return this.spaceSize*this.options.slurEndpointThickness},i.getSlurMidpointThickness=function(){return this.spaceSize*this.options.slurMidpointThickness},i.getRepeatEndingLineThickness=function(){return this.spaceSize*this.options.repeatEndingLineThickness},i.getGlissandoExcessWidth=function(){return this.spaceSize*this.options.glissandoExcessWidth},i.getGlissandoHorizontalMargin=function(){return this.spaceSize*this.options.glissandoHorizontalMarginRatio},i.getMinimalGlissandoWidth=function(){return this.spaceSize*this.options.minimalGlissandoWidthRatio},i.getMMRInternalThickness=function(){return this.spaceSize*this.options.mMRInternalThickness},i.getMMRExternalThickness=function(){return this.spaceSize*this.options.mMRExternalThickness},i.getOctaveShiftStrokeWidth=function(){return this.spaceSize*this.options.octaveShiftStrokeWidth},i.getOctaveLineThickness=function(){return this.spaceSize*this.options.octaveLineThickness},i.getOctaveShiftDashArrayWidth=function(){return this.spaceSize*this.options.octaveShiftDashArrayWidth},i.getPedalLineThickness=function(){return this.spaceSize*this.options.pedalLineThickness},i.getOctaveShiftHeight=function(){return this.getGlyph("ottavaAlta").getHeight()},i.getPluckedRangeHeight=function(){return this.spaceSize*this.options.pluckedRangeHeightRatio},i.getPedalHeight=function(){return this.getGlyph("keyboardPedalPed").getHeight()},i.getBeamSpacingRatio=function(){return this.options.beamSpacing},i.getBeamThicknessRatio=function(){return this.options.beamThickness},i.getOctaveShiftTextMargin=function(){return this.spaceSize*this.options.octaveShiftTextMargin},i.getPluckedRangeTextMargin=function(){return this.spaceSize*this.options.pluckedRangeTextMargin},i.getPedalGlyphMargin=function(){return this.spaceSize*this.options.pedalGlyphMargin},i.getTextEnclosureThickness=function(){return this.spaceSize*this.options.textEnclosureThickness},i.getOctaveShiftFontSize=function(){return this.spaceSize*this.options.octaveShiftFontSizeRatio},i.getEndingHeight=function(){return this.spaceSize*this.options.endingHeightRatio},i.getTempoChangeHeight=function(){return this.getTempoChangeFontSize()*1.5},i.getTempoChangeMargin=function(){return this.spaceSize*this.options.tempoChangeMarginRatio},i.getTempoChangeFontSize=function(){return this.spaceSize*this.options.tempoChangeFontSizeRatio},i.getTempoChangeTextMargin=function(){return this.spaceSize*this.options.tempoChangeTextMargin},i.getTempoChangeThickness=function(){return this.spaceSize*this.options.tempoChangeThickness},i.getTempoChangeDashArrayWidth=function(){return this.spaceSize*this.options.tempoChangeDashArrayWidth},i.getRehearsalPadding=function(){return this.getRehearsalFontSize()/7},i.getHammerOnPullOffFontSize=function(){return this.spaceSize*this.options.hammerOnPullOffFontSizeRatio},i.getPizzicatoHeight=function(){return this.getPizzicatoFontSize()*1.5},i.getWordHeight=function(){return this.getWordFontSize()*1.5},i.getJumpsFontSize=function(){return this.spaceSize*this.options.jumpsFontSizeRatio},i.getScaledIconGlyph=function(t,e){return this.iconsGlphsCache.getScaledGlyph(t,e)},i.getIconGlyph=function(t){return this.iconsGlphsCache.getGlyph(t)},i.getGlyph=function(t){return this.glyphsCache.getGlyph(t)},i.getScaledGlyph=function(t,e){return this.glyphsCache.getScaledGlyph(t,e)},i.getGlyphBBox=function(t){return this.getGlyph(t).getBBox()},i.isFirstOfScore=function(){return this.firstOfScore},i.getMeasureLocationForMeasureIdx=function(t){return t===0?this.isFirstOfScore()?X.A.FIRST_OF_SCORE:X.A.FIRST_OF_LINE:X.A.OTHER},i.getComputedTextLength=function(t,e,n,f){return this.textMetric.getComputedTextLength(t,e,n,f)},i.getTextXHeight=function(t,e){return this.textMetric.getXHeight(t,e)},i.isTextMetricFromFont=function(){return this.textMetric.isFromFont()},i.getNotesFormatter=function(){return st},i.getDynamicsMiddle=function(){return this.getDynamicsMetrics().getMiddle()},i.getDynamicsHeight=function(){return this.getDynamicsMetrics().getWedgeHeight()},i.getDynamicsMetrics=function(){return this.dynamicsMetrics===null&&(this.dynamicsMetrics=new q(this.glyphsCache)),this.dynamicsMetrics},i.getMinimalSpaceAboveRightRatio=function(){return this.spaceSize*this.options.minimalSpaceAboveRightRatio},i.getMeasureRendererOpts=function(){const t=this.isConcertPitch(),e=this.isShowingSystemBreakSymbols();return{isConcertPitch:t,showSystemBreakSymbols:e,usePedalLine:!!this.options.usePedalLine,hideTempo:!!this.options.hideTempo,jazzChordPartConfig:this.options.jazzChordPartConfig,hideTimeSignature:!!this.options.hideTimeSignature,hideFinalBarline:!!this.options.hideFinalBarline,hideClef:!!this.options.hideClef,displayLayout:this.options.displayLayout,displayFirstKey:!!this.options.displayFirstKey,respectSystemBreaks:!!this.options.respectSystemBreaks}},i.isShowingSystemBreakSymbols=function(){return!!this.options.showSystemBreakSymbols},i.isConcertPitch=function(){return!!this.options.isConcertPitch},i.getNotesSpacingCoeff=function(){return this.options.notesSpacingCoeff},i.getTabSpaceSize=function(){return this.getSpaceSize()*this.options.tabStaffSpaceRatio},i.hasEventsRects=function(){return!!this.options.displayEventsRects},i.useBoomwhackersColors=function(){return!!this.options.useBoomwhackersColors},i.customColorOptions=function(){return this.options.customColorOptions},i.useShapeNotes=function(){return!!this.options.useShapeNotes},i.getTabSlideYOffset=function(){return this.getTabSpaceSize()*this.options.tabSlideYOffsetRatio},i.usePitchNameNotehead=function(){return!!this.options.usePitchNameNotehead},i.useSolfegeNotehead=function(){return!!this.options.solfegeNotehead},i.getSolfegeType=function(){return this.options.solfegeNotehead},i.hideTiedFrets=function(){return!!this.options.hideTiedFrets},i.displayOutOfPitch=function(){return!!this.options.displayOutOfPitch},i.styleGroupChildElements=function(){return!!this.options.styleGroupChildElements},i.getKodalyHeaderFontSize=function(){return this.spaceSize*this.options.kodalyHeaderFontRatio},i.getKodalyHeaderFontFamily=function(){return this.getComposerFontFamily()},i.isAsynchronous=function(){return!!this.options.isAsynchronous},i.getMelismaWidth=function(){return this.spaceSize*this.options.lyricLineThickness},i.getjazzChordPartConfig=function(){return this.options.jazzChordPartConfig||H.A.getTextChordConfig()},i.isFixedDo=function(){return!!this.options.isFixedDo},i.hideNonTab=function(){return!!this.options.hideNonTab},i.outlineColoredNotes=function(){return!!this.options.outlineColoredNotes},i.hideEmptyParts=function(){return this.options.hideEmptyParts||at.A.NEVER},i.getGroupBracketSpaceAboveStaff=function(){if(this.groupBracketSpaceAboveStaff===null){const t=this.getGlyph("bracketTop"),e=this.getSpaceSize();this.groupBracketSpaceAboveStaff=t.getHeight()+e}return this.groupBracketSpaceAboveStaff},i.getGroupBracketSpaceBelowStaff=function(){if(this.groupBracketSpaceBelowStaff===null){const t=this.getGlyph("bracketBottom"),e=this.getSpaceSize();this.groupBracketSpaceBelowStaff=t.getHeight()+e}return this.groupBracketSpaceBelowStaff},i.hasFixedLyricPosition=function(){return typeof this.options.fixedLyricLine!="undefined"},i.getFixedLyricLine=function(){return this.options.fixedLyricLine},i.showTabRests=function(){return!!this.options.showTabRests};const Pe=U},354093:(D,E,r)=>{r.d(E,{A:()=>a});const g={};g.mergeOptions=function(s,P){const y={};return g.copyIn(s,y),g.copyIn(P,y),y},g.copyIn=function(s,P){for(const y in s)typeof s[y]!="undefined"&&(P[y]=s[y])};const a=g},377072:(D,E,r)=>{r.d(E,{A:()=>a});const a={FIRST_OF_SCORE:"firstOfScore",FIRST_OF_LINE:"firstOfLine",OTHER:"other"}},386033:(D,E,r)=>{r.d(E,{A:()=>a});const a={WHOLE:"whole",HALF:"half",QUARTER:"quarter"}},390253:(D,E,r)=>{r.d(E,{A:()=>o});const g=72,a=25.4,s=40,P=4;function y(h){return h/g*a}const o={pointsToMms:y,POINTS_BY_INCH:g,MM_PER_INCH:a,TENTH_PER_EM:s,SP_PER_EM:P}},851291:(D,E,r)=>{r.d(E,{A:()=>h});var g=r(364842),a=r(353922),s=r(386033);const P=[{duration:s.A.WHOLE,head:a.A.NORMAL,glyphId:"noteheadWhole"},{duration:s.A.HALF,head:a.A.NORMAL,glyphId:"noteheadHalf"},{duration:s.A.QUARTER,head:a.A.NORMAL,glyphId:"noteheadBlack"},{duration:s.A.WHOLE,head:a.A.X,glyphId:"noteheadXWhole"},{duration:s.A.HALF,head:a.A.X,glyphId:"noteheadXHalf"},{duration:s.A.QUARTER,head:a.A.X,glyphId:"noteheadXBlack"},{duration:s.A.WHOLE,head:a.A.X_CIRCLE,glyphId:"noteheadCircleXWhole"},{duration:s.A.HALF,head:a.A.X_CIRCLE,glyphId:"noteheadCircleXHalf"},{duration:s.A.QUARTER,head:a.A.X_CIRCLE,glyphId:"noteheadCircleX"},{duration:s.A.WHOLE,head:a.A.DIAMOND,glyphId:"noteheadDiamondWhole"},{duration:s.A.HALF,head:a.A.DIAMOND,glyphId:"noteheadDiamondHalfWide"},{duration:s.A.QUARTER,head:a.A.DIAMOND,glyphId:"noteheadDiamondBlackWide"},{duration:s.A.WHOLE,head:a.A.SLASH,glyphId:"noteheadSlashWhiteWhole"},{duration:s.A.HALF,head:a.A.SLASH,glyphId:"noteheadSlashWhiteHalf"},{duration:s.A.QUARTER,head:a.A.SLASH,glyphId:"noteheadSlashHorizontalEnds"},{duration:s.A.WHOLE,head:a.A.BIG_X,glyphId:"noteheadSlashWhiteWhole"},{duration:s.A.HALF,head:a.A.BIG_X,glyphId:"noteheadSlashWhiteHalf"},{duration:s.A.QUARTER,head:a.A.BIG_X,glyphId:"noteheadSlashX"},{duration:s.A.WHOLE,head:a.A.TRIANGLE,glyphId:"noteheadTriangleUpWhole"},{duration:s.A.HALF,head:a.A.TRIANGLE,glyphId:"noteheadTriangleUpHalf"},{duration:s.A.QUARTER,head:a.A.TRIANGLE,glyphId:"noteheadTriangleUpBlack"},{duration:s.A.WHOLE,head:a.A.BACK_SLASHED,glyphId:"noteheadSlashedWhole2"},{duration:s.A.HALF,head:a.A.BACK_SLASHED,glyphId:"noteheadSlashedHalf2"},{duration:s.A.QUARTER,head:a.A.BACK_SLASHED,glyphId:"noteheadSlashedBlack2"},{duration:s.A.WHOLE,head:a.A.SLASHED,glyphId:"noteheadSlashedWhole1"},{duration:s.A.HALF,head:a.A.SLASHED,glyphId:"noteheadSlashedHalf1"},{duration:s.A.QUARTER,head:a.A.SLASHED,glyphId:"noteheadSlashedBlack1"},{duration:s.A.WHOLE,head:a.A.SQUARE,glyphId:"noteheadSquareWhite"},{duration:s.A.HALF,head:a.A.SQUARE,glyphId:"noteheadSquareWhite"},{duration:s.A.QUARTER,head:a.A.SQUARE,glyphId:"noteheadSquareBlack"},{duration:s.A.WHOLE,head:a.A.CROSS,glyphId:"noteheadPlusWhole"},{duration:s.A.HALF,head:a.A.CROSS,glyphId:"noteheadPlusHalf"},{duration:s.A.QUARTER,head:a.A.CROSS,glyphId:"noteheadPlusBlack"},{duration:s.A.WHOLE,head:a.A.INVERTED_TRIANGLE,glyphId:"noteheadTriangleDownWhole"},{duration:s.A.HALF,head:a.A.INVERTED_TRIANGLE,glyphId:"noteheadTriangleDownHalf"},{duration:s.A.QUARTER,head:a.A.INVERTED_TRIANGLE,glyphId:"noteheadTriangleDownBlack"},{duration:s.A.WHOLE,head:a.A.ARROW_DOWN,glyphId:"noteheadLargeArrowDownWhole"},{duration:s.A.HALF,head:a.A.ARROW_DOWN,glyphId:"noteheadLargeArrowDownHalf"},{duration:s.A.QUARTER,head:a.A.ARROW_DOWN,glyphId:"noteheadLargeArrowDownBlack"},{duration:s.A.WHOLE,head:a.A.ARROW_UP,glyphId:"noteheadLargeArrowUpBlack"},{duration:s.A.HALF,head:a.A.ARROW_UP,glyphId:"noteheadLargeArrowUpHalf"},{duration:s.A.QUARTER,head:a.A.ARROW_UP,glyphId:"noteheadLargeArrowUpBlack"},{duration:s.A.WHOLE,head:a.A.DO,glyphId:"noteShapeTriangleUpWhite"},{duration:s.A.HALF,head:a.A.DO,glyphId:"noteShapeTriangleUpWhite"},{duration:s.A.QUARTER,head:a.A.DO,glyphId:"noteShapeTriangleUpBlack"},{duration:s.A.WHOLE,head:a.A.RE,glyphId:"noteShapeMoonWhite"},{duration:s.A.HALF,head:a.A.RE,glyphId:"noteShapeMoonWhite"},{duration:s.A.QUARTER,head:a.A.RE,glyphId:"noteShapeMoonBlack"},{duration:s.A.WHOLE,head:a.A.MI,glyphId:"noteShapeDiamondWhite"},{duration:s.A.HALF,head:a.A.MI,glyphId:"noteShapeDiamondWhite"},{duration:s.A.QUARTER,head:a.A.MI,glyphId:"noteShapeDiamondBlack"},{duration:s.A.WHOLE,head:a.A.FA,glyphId:"noteShapeTriangleRightWhite"},{duration:s.A.HALF,head:a.A.FA,glyphId:"noteShapeTriangleRightWhite"},{duration:s.A.QUARTER,head:a.A.FA,glyphId:"noteShapeTriangleRightBlack"},{duration:s.A.WHOLE,head:a.A.FA_UP,glyphId:"noteShapeTriangleLeftWhite"},{duration:s.A.HALF,head:a.A.FA_UP,glyphId:"noteShapeTriangleLeftWhite"},{duration:s.A.QUARTER,head:a.A.FA_UP,glyphId:"noteShapeTriangleLeftBlack"},{duration:s.A.WHOLE,head:a.A.SO,glyphId:"noteShapeRoundWhite"},{duration:s.A.HALF,head:a.A.SO,glyphId:"noteShapeRoundWhite"},{duration:s.A.QUARTER,head:a.A.SO,glyphId:"noteShapeRoundBlack"},{duration:s.A.WHOLE,head:a.A.LA,glyphId:"noteShapeSquareWhite"},{duration:s.A.HALF,head:a.A.LA,glyphId:"noteShapeSquareWhite"},{duration:s.A.QUARTER,head:a.A.LA,glyphId:"noteShapeSquareBlack"},{duration:s.A.WHOLE,head:a.A.TI,glyphId:"noteShapeTriangleRoundWhite"},{duration:s.A.HALF,head:a.A.TI,glyphId:"noteShapeTriangleRoundWhite"},{duration:s.A.QUARTER,head:a.A.TI,glyphId:"noteShapeTriangleRoundBlack"}],y=function(T,m,F){T===a.A.NORMAL&&F&&(T=a.A.DIAMOND,m===s.A.QUARTER&&(m=s.A.HALF));const z={notehead:T,headDuration:m},_=P.find(o,z);if(typeof _=="undefined"){const L=`there is no glyph id for the note head [${T}] and the duration [${m}]`;throw new g.default("NoHeadGlyph",L)}else return _.glyphId},o=function(T){return T.head===this.notehead&&T.duration===this.headDuration},h=y}}]);})();


//# debugId=e606144d-dc43-5756-8b5a-700077bc53dd

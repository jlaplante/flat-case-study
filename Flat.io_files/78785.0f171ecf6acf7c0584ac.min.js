
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6b21822f-9dce-5bbe-9654-15b2395a063f")}catch(e){}}();
(()=>{/*! Copyright (c) 2025 Tutteo Ltd. */(self.webpackChunk_flat_flat=self.webpackChunk_flat_flat||[]).push([[78785],{48250:(G,W,t)=>{"use strict";t.d(W,{A:()=>y});function y(A){return function(O){const p=v(O),h=o.get(p);h&&(O=h);const l=L(O);return`${A}/${encodeURIComponent(O.fontFamily)}/file?variant=${l}`}}const P={fontFamily:"Petaluma Script",bold:!1,italic:!1},o=new Map([[v({fontFamily:"Petaluma Script",bold:!0,italic:!1}),P],[v({fontFamily:"Petaluma Script",bold:!1,italic:!0}),P],[v({fontFamily:"Petaluma Script",bold:!0,italic:!0}),P]]);function v(A){return`${A.fontFamily}-${A.bold}-${A.italic}`}function L(A){if(!A.bold&&!A.italic)return"regular";if(A.bold&&!A.italic)return"bold";if(!A.bold&&A.italic)return"italic";if(A.bold&&A.italic)return"bolditalic";throw new Error("Unreachable")}},83e3:(G,W,t)=>{"use strict";t.d(W,{A:()=>J});var y=t(607682),P=t(31278),o=t(951066),v=t(890439),L=t(931720),A=t(55442),F=t(653154),O=t(763939),p=t(459356),h=t(59400),l=t.n(h),i=t(645369),d=t.n(i),s=t(616877),u=t.n(s),c=t(257053),b=t(121648),B=t(591340),V=t(909696),T=t(599284),$=t(803002),H=t(755551),_=t(202415),X=t(602494),nt=t(885221),st=t(305392),Y=t(44322),q=Object.defineProperty,ut=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(R,e,r)=>e in R?q(R,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):R[e]=r,it=(R,e)=>{for(var r in e||(e={}))rt.call(e,r)&&et(R,r,e[r]);if(Q)for(var r of Q(e))tt.call(e,r)&&et(R,r,e[r]);return R},z=(R,e)=>ut(R,ct(e)),N=(R,e)=>{var r={};for(var a in R)rt.call(R,a)&&e.indexOf(a)<0&&(r[a]=R[a]);if(R!=null&&Q)for(var a of Q(R))e.indexOf(a)<0&&tt.call(R,a)&&(r[a]=R[a]);return r},C=(R,e,r)=>et(R,typeof e!="symbol"?e+"":e,r),w=(R,e,r)=>new Promise((a,f)=>{var m=g=>{try{K(r.next(g))}catch(D){f(D)}},E=g=>{try{K(r.throw(g))}catch(D){f(D)}},K=g=>g.done?a(g.value):Promise.resolve(g.value).then(m,E);K((r=r.apply(R,e)).next())});const dt=["staffIdx","noteIdx","startNoteIdx","stopNoteIdx","oldNoteIdx","newNoteIdx","graceIdx","dynamicIdx","pizzicatoIdx","muteIdx","idxInStaff","harmonyIdx","wordIdx","startMeasureIdx","stopMeasureIdx"],ft=1,ot=Number.POSITIVE_INFINITY,x=d()("flat:actions");function at(R){return R instanceof y.default||R instanceof P.default||R instanceof o.A?"warning":"error"}class J{constructor({scoreData:e,cursor:r,rangeSelect:a,logError:f,loadRwActions:m=!0,checkPremiumFeatures:E=!1,checkEnabledFeatures:K=!0,promiseQueue:g,i18next:D=null}){C(this,"scoreData"),C(this,"cursor"),C(this,"cursorContext"),C(this,"rangeSelect"),C(this,"logError"),C(this,"checkPremiumFeatures"),C(this,"checkEnabledFeatures"),C(this,"i18next"),C(this,"actionsExecQueue"),C(this,"rt"),C(this,"actionsList"),C(this,"dependencies"),C(this,"drawQueue"),C(this,"soundQueue"),C(this,"editQueue"),C(this,"transactionActions"),C(this,"adagioReadyPromise"),C(this,"notifyAdagioReady"),C(this,"AdagioCancelStack"),C(this,"mouseManager",null),C(this,"cursorManager",null),C(this,"edgeScroller",null),C(this,"scrollIntoView",null),C(this,"emiter"),this.scoreData=e,this.cursor=r,this.cursorContext=r.context,this.rangeSelect=a,this.logError=f,this.checkPremiumFeatures=E,this.checkEnabledFeatures=K,this.i18next=D,this.adagioReadyPromise=new Promise(j=>{this.notifyAdagioReady=j}),this.dependencies={executePrivateAction:this.executePrivateAction.bind(this),executePublicAction:this.executePublicAction.bind(this),queueAdagioAction:this.queueAdagioAction.bind(this),queueAdagioActions:this.queueAdagioActions.bind(this),executeAdagioTransaction:this.executeAdagioTransaction.bind(this),canUndo:this.canUndo.bind(this),undo:this.undo.bind(this),canRedo:this.canRedo.bind(this),redo:this.redo.bind(this),selectLastAddedEntity:this.selectLastAddedEntity.bind(this),cursor:r,rangeSelect:a,scoreData:e,i18next:D,emitXp:this.emitXp.bind(this)},this.actionsExecQueue=g||new(u())(ft,ot),this.emiter=new(l()),this.actionsList={},this.transactionActions=[],this.loadAdagioActions({loadRwActions:m}).catch(j=>this.logError(j,{logger:"actions:loader",extra:{actionsList:Object.keys(this.actionsList)}}))}setMouseManager(e){this.mouseManager=e;const r=this.getSelectedEntity();this.mouseManager.setSelectedEntity(r)}setEdgeScroller(e){this.edgeScroller=e}setScrollIntoView(e){this.scrollIntoView=e}activateEdgeScroller(){this.edgeScroller!==null&&this.edgeScroller.activate()}deactivateEdgeScroller(){this.edgeScroller!==null&&this.edgeScroller.deactivate()}setCursorManager(e){this.cursorManager=e;const r=this.getSelectedEntity();this.cursorManager.setSelectedEntity(r),this.cursorManager.sendCursorRequest(!0)}setCollaborators(e){this.cursor.setCollaborators(e)}getSelectedEntity(){return this.cursor.getSelectedEntity()}loadAdagioActions({loadRwActions:e}={}){return this.actionsExecQueue.add(()=>w(this,null,function*(){e?(x("load rw actions"),yield Promise.all([Promise.all([t.e(55021),t.e(95365),t.e(64161),t.e(76400),t.e(56290),t.e(37798),t.e(72486),t.e(87895),t.e(14617),t.e(43955),t.e(45321),t.e(97213),t.e(60656),t.e(14772)]).then(t.bind(t,679931)),w(this,null,function*(){this.actionsList=(yield Promise.all([t.e(55021),t.e(20881),t.e(79244),t.e(95365),t.e(76400),t.e(56290),t.e(37718),t.e(78877),t.e(38050),t.e(97213),t.e(96644),t.e(5263),t.e(1210),t.e(23188)]).then(t.bind(t,323188))).default}),w(this,null,function*(){this.AdagioCancelStack=(yield Promise.resolve().then(t.bind(t,59377))).default})]),this.drawQueue=new this.AdagioCancelStack,this.soundQueue=this.drawQueue,this.editQueue=this.drawQueue,this.dependencies.drawQueue=this.editQueue,this.resetUndo(),this.resetRedo()):(x("load ro actions"),this.actionsList=(yield Promise.all([t.e(55021),t.e(20881),t.e(79244),t.e(56290),t.e(37718),t.e(78877),t.e(38050),t.e(97213),t.e(5263),t.e(1210),t.e(77978)]).then(t.bind(t,982876))).default),x("actions loaded"),window.flatExecutePublicAction=this.executePublicAction.bind(this),this.notifyAdagioReady()}))}setDependencies(e){this.dependencies=Object.assign(this.dependencies,e)}getDependencies(){const e=this.scoreData.adagioData;return Object.assign(this.dependencies,{data:e})}shouldScrollToCursor(e){var r;const a=this.actionsList[e];return a?!((r=a.metas)!=null&&r.noScroll):!1}executePublicAction(e,r={},a={}){return this.actionsExecQueue.add(()=>w(this,null,function*(){var f,m,E,K;x('start exec action "%s" (%o)',e,r);let g,D={};try{if(this.transactionActions.length>0)throw new Error(`Oops, we still have an ongoing transaction, cant execute action ${e}`);if(this.cursor.counterChangeFocus=0,g=this.actionsList[e],!g||!a.allowPrivateActions&&g.type!=="public"){const I=`Action ${e} not found`;if(a.muteUnavailableAction)return x(I),Promise.resolve();throw new Error(I)}if(g.metas||(g.metas=g.metas||{groups:[]}),g.metas.groups||(g.metas.groups=g.metas.groups||[]),!(0,B.U)().scoreWrite&&!g.metas.groups.includes("ro")){const I=`Unable to execute action ${e} in read-only mode`;if(a.muteUnavailableAction)return x(I),Promise.resolve();throw new Error(I)}if(!g.metas.groups.includes("ro")&&(0,b.W)().isEditionBlocked&&!["toggleEditionBlocked","save"].includes(e)){const I=`Unable to execute action ${e} while edition is blocked mode`;if(a.muteUnavailableAction)return x(I),Promise.resolve();throw new Error(I)}if(this.checkPremiumFeatures&&g.metas.premiumFeature&&!(0,O.F)().accountFeatures[g.metas.premiumFeature]){if((f=window.flatappname)!=null&&f.includes("vue-scoreditor")||(m=window.flatappname)!=null&&m.includes("iosEditor"))return(0,L.B)().showUpgradeDialog({feature:g.metas.premiumFeature}),Promise.resolve();throw new Error(`Cannot use premium action ${e} (${g.metas.premiumFeature})`)}if(this.checkEnabledFeatures&&!a.allowPrivateActions&&!(0,T.H)().enabledActionsSet.has(e)){const I=`Action ${e} is not available`;if(a.muteUnavailableAction)return x(I),Promise.resolve();throw new Error(I)}if(!this.canExecuteAction(e)){const I=`Requirements are not met to execute the action "${e}" in current context`;if(a.muteUnavailableAction)return x(I),Promise.resolve();throw new Error(I)}g.parameters&&(D=J.checkParameterObject(g.parameters,r))}catch(S){let I="rt-not-set";throw this.rt&&(I=this.rt.synchronizer.getParentId()),this.logError(S,{fingerprint:["{{ default }}",e],logger:"actions:executePublicAction:check",level:"warning",tags:{"action:name":e},extra:{"action:name":e,"action:params":D,"action:options":a,"rt:parentGroupId":I,actionsList:Object.keys(this.actionsList)}}),S}F.sQ.addBreadcrumb({category:"ui.actions",message:`executePublicAction: ${e}`,data:{params:JSON.stringify(D),options:JSON.stringify(a)}});let j;try{if(D.actionOptions=a,j=yield this.executeAction({actionName:e,params:D,onlyPublic:!a.allowPrivateActions}),yield this.executeAdagioTransaction(),(E=this.rt)!=null&&E.hasOngoingTransaction()){const S=yield this.rt.commitTransaction();S!==null&&(this.emit("actionsRet",S.actions),this.cursor.context.calcContext())}if(this.emitActionXp(g),this.cursor.counterChangeFocus===0&&g.refreshCursor&&(x("didnt refreshed cursor and require, refreshing"),this.cursor.changeFocus(this.cursor.getPositionUuid())),(K=this.cursor.interaction)!=null&&K.data){const S=this.getSelectedEntity();if(this.mouseManager){this.mouseManager.setSelectedEntity(S);const I=(0,nt.A)();this.mouseManager.setMouseContext(I)}this.cursorManager&&(this.cursorManager.setSelectedEntity(S),this.cursorManager.sendCursorRequest(!0),setTimeout(()=>{(0,V.q6)().cursorDrawDone()},200))}}catch(S){if(this.transactionActions=[],S.noSentryLogging)throw S.message="doNotLog",S;if(a.canFail)throw S;const I=at(S);let Z="rt-not-set";throw this.rt&&(Z=this.rt.synchronizer.getParentId()),this.logError(S,{logger:"actions:executePublicAction:perform",fingerprint:["{{ default }}",e],level:I,tags:{"action:name":e},extra:{"action:name":e,"action:params":D,"rt:parentGroupId":Z}}),S}return this.transactionActions=[],j}))}canExecuteAction(e){const r=this.actionsList[e];if(!(r!=null&&r.requirements)||v.Ay.isEmpty(r.requirements))return!0;const a=r.requirements||{},f=this.cursorContext.calcContext();return(0,H.A)(a,f)}executePrivateAction(e,r={},a={}){if(!this.canExecuteAction(e)){const f=`Requirements are not met to execute the action "${e}" in current context`;if(a.muteUnavailableAction)return x(f),Promise.resolve();throw new Error(f)}return r.actionOptions=a,this.executeAction({actionName:e,params:r})}executeAction(e){return w(this,arguments,function*({actionName:r,params:a,onlyPublic:f=!1}){x('exec action "%s" (%o), onlyPublic = %s',r,a,f);const m=this.actionsList[r];if(!m||f&&m.type==="private")throw new Error(`Action ${r} not found`);let E;c.M&&performance.mark(`action.${r}.s`);try{const K=this.getDependencies();E=yield m.fnc(K,a)}catch(K){throw c.M&&(performance.mark(`action.${r}.e`),performance.measure(`action.${r}`,`action.${r}.s`,`action.${r}.e`)),K}return c.M&&(performance.mark(`action.${r}.e`),performance.measure(`action.${r}`,`action.${r}.s`,`action.${r}.e`)),E})}queueAdagioAction(e,r){this.transactionActions.push({name:e,opts:r})}queueAdagioActions(e){this.transactionActions=this.transactionActions.concat(e)}executeAdagioTransaction(e){return w(this,null,function*(){if(this.transactionActions.length===0)return x("transaction: no action to exec"),null;c.M&&(x("transaction: %d adagio actions",this.transactionActions.length),x("actions: %o",JSON.parse(JSON.stringify(this.transactionActions))));try{return yield this.doAdagio(this.transactionActions,e),this.transactionActions=[],this.drawQueue.needCompleteRedraw()&&this.emit("structuralChange"),null}catch(r){throw r["torretto:transactionActions"]=this.transactionActions,r["torretto:transactionOptions"]=e,this.transactionActions=[],r}})}setRt(e){this.rt=e,e.on("displayUpdate",this.triggerDisplayUpdate.bind(this)),e.on("completeRedraw",this.triggerCompleteRedraw.bind(this)),e.on("saveDone",this.onSaveDone.bind(this)),this.setDependencies({rt:this.rt}),e.on("position",this.onExternalPosition.bind(this))}getData(e,r){return w(this,null,function*(){let a;return r?a=yield this.scoreData.loadRevision(e):a=this.scoreData.adagioData,{data:a,cancelStack:this.editQueue}})}onSaveDone(){this.emitXp("editor.save-done")}onExternalPosition(e){if(this.mouseManager===null||!this.cursor.collaborators)return;const r=e,{userId:a}=r,f=N(r,["userId"]);if(a===this.rt.accountId)return;const m=this.cursor.collaborators.getUserColor(a);this.mouseManager.onExternalPosition(z(it({},f),{color:m}),a)}triggerDisplayUpdate(){this.drawQueue.needCompleteRedraw()&&this.emit("structuralChange"),this.rangeSelect.updateRangeSelectFromData&&this.drawQueue.stack.length>0&&this.rangeSelect.updateRangeSelectFromData(!1),this.emit("draw")}triggerCompleteRedraw(){this.rangeSelect.updateRangeSelectFromData&&this.rangeSelect.updateRangeSelectFromData(!1),this.emit("structuralChange"),this.emit("redraw")}canUndo(){var e;return(e=this.rt)==null?void 0:e.canUndo()}undo(){return w(this,arguments,function*(e={}){if(yield this.rt.undo({isQueued:!0}),this.displayEditError(e),this.cursor.setLastNoteAdded(void 0),this.cursor.config.get().editionMode!==X.i&&this.cursor.resetUpcomingAttributes(),!e.noCursorRefresh){const r=(0,Y.q6)(this.rt);if(r===null)this.cursor.bumpFocus();else{const a=this.cursor.getPositionIdx(),{adagioData:f}=this.scoreData;let m=!1;r.partUuid&&(m=f.getPartIdxFromUuid(r.partUuid)===a.partIdx),(0,Y.Wm)(r,f),(0,Y.Rg)(r,a),m&&(0,Y.NA)(r,a),this.cursor.changeFocus(r),this.cursor.scheduleScrollTo()}}})}canRedo(){var e;return(e=this.rt)==null?void 0:e.canRedo()}redo(){return w(this,arguments,function*(e={}){if(yield this.rt.redo({isQueued:!0}),this.displayEditError(e),this.cursor.setLastNoteAdded(void 0),this.cursor.config.get().editionMode!==X.i&&this.cursor.resetUpcomingAttributes(),!e.noCursorRefresh){const r=(0,Y.Ae)(this.rt);if(r===null)this.cursor.bumpFocus();else{const a=this.cursor.getPositionIdx();(0,Y.Rg)(r,a),this.cursor.changeFocus(r),this.cursor.scheduleScrollTo()}}})}doAdagio(){return w(this,arguments,function*(e=[],r={}){if(r.actionOrigin=r.actionOrigin||"local.do",c.M&&performance.mark("action.doAdagio.s"),x("%s actions to do",e.length),yield this.rt.addActionsToTransaction(e),this.displayEditError(r),c.M&&(performance.mark("action.doAdagio.e"),performance.measure("action.doAdagio","action.doAdagio.s","action.doAdagio.e")),!this.rt.failureLogger.isEmpty())throw this.rt.failureLogger.list[0].extra["err:original"];if(!this.rt.errorLogger.isEmpty())throw this.rt.errorLogger.list[0].extra["err:original"];this.cursor.setLastNoteAdded(void 0),this.cursor.config.get().editionMode!==X.i&&this.cursor.resetUpcomingAttributes(),r.noCursorRefresh||this.cursor.changeFocus(this.cursor.getPositionUuid())})}displayEditError(e={}){!this.rt.failureLogger.isEmpty()&&!e.mute&&(0,p.O)().displayMessage({text:this.rt.failureLogger.list[0].extra["err:original"].message,type:"error"}),this.rt.errorLogger.isEmpty()}checkActionsList(e){if(!Array.isArray(e))throw new Error("`actions` must be an array of actions {name, opts}");for(let r=0;r<e.length;r++){const a=e[r];if(!a||typeof a!="object")throw new Error("action must be an object {name, opts}");if(typeof a.name!="string")throw new Error("action name must be a string");if(a.opts){if(typeof a.opts!="object")throw new Error("action opts must be an object");const f=Object.keys(a.opts);for(let m=0;m<f.length;m++){const E=f[m];if(!dt.includes(E)&&(E.includes("Idx")||E.includes("idx")))throw new Error(`Stop using idx in the actions, found one in ${E}`)}}}}static checkParameterObject(e,r){const a={};return Object.keys(e).forEach(f=>{const m=e[f];let E=r[f];if(E===void 0){if(!m)throw new Error(`Missing parameter config for ${f}`);if(m.required)throw new Error(`Missing required parameter ${f}`);a[f]=m.default;return}const K=m.type.name.toLowerCase();let g=typeof E;if(Array.isArray(E)&&(g="array"),g!==K)if(g==="number"&&K==="string")E=E.toString();else if(g==="string"&&K==="number"&&!Number.isNaN(Number.parseInt(E,10)))E=Number.parseInt(E,10);else{const D=new _.V(`Parameter ${f} should be a ${K}, not ${g}`);throw D.inputParameters=r,D}if(g==="number"){if(m.minimum!==void 0&&E<m.minimum){const D=new _.V(`Parameter ${f} should be minimum ${m.minimum}`);throw D.inputParameters=r,D}if(m.maximum!==void 0&&E>m.maximum){const D=new _.V(`Parameter ${f} should be maximum ${m.maximum}`);throw D.inputParameters=r,D}}if(m.enum&&!m.enum.includes(E)){const D=new _.V(`Invalid enum value "${E}" for parameter ${f}`);throw D.inputParameters=r,D}K==="object"&&m.parameters?a[f]=J.checkParameterObject(m.parameters,E):a[f]=E}),a}queueDraw(e){this.drawQueue.push(e),this.emit("draw")}getCancelStack(){return this.drawQueue}getSoundQueue(){return this.soundQueue}resetRedo(){}resetUndo(){}resetDrawQueue(){this.drawQueue?this.drawQueue=this.drawQueue.createSubstack("newDrawStack"):this.AdagioCancelStack&&(this.drawQueue=new this.AdagioCancelStack),this.editQueue=this.drawQueue,this.setDependencies({drawQueue:this.editQueue})}resetSoundQueue(){this.soundQueue?this.soundQueue=this.soundQueue.createSubstack("newSoundStack"):this.AdagioCancelStack&&(this.soundQueue=new this.AdagioCancelStack),this.editQueue=this.soundQueue,this.setDependencies({drawQueue:this.editQueue})}onceDrawn(){return new Promise(e=>{this.scoreData.scoreActions.once("drawDone",()=>e())})}emitActionXp(e){var r;if((r=e.metas)!=null&&r.xp){const a=e.metas.xp;x(`xp: ${a}`),this.emit("xp",{xp:a})}}emitXp(e){x(`xp: ${e}`),this.emit("xp",{xp:e})}getLastEntity(e){if(!e)return null;const a=[...this.drawQueue.getEntitiesUuids()].reverse().find(f=>f.entityType===e);return a?a.uuid:null}selectLastAddedEntity(e){return w(this,null,function*(){yield this.onceDrawn();const r=this.getLastEntity(e);if(!r){x(`no last entity type ${e}`);return}const a=this.scoreData.adagioData.getEditionId();this.selectEntityByUuid(e,r,a)})}selectEntityByUuid(e,r,a){if(!(0,T.H)().interactiveElemSet[e])return;if(a!==this.scoreData.adagioData.getEditionId()){x('score data has changed since starting of "selectLastAddedEntity"');return}let f=this.dependencies.svgTools.getEntity(e,r);if(!f){x("elem of type %s with id $s was not found in the score. It might be displayed on a later page",e,r);return}e==="wedge"&&(f=f.querySelector(".wedgeLines"));const E=this.scoreData.adagioData,K=$.A.findParent(f,"staff"),D=$.A.findParent(K,"systemContent").getAttribute("data-adagio-part-uuid"),j=K.getAttribute("data-adagio-staff-uuid");let S;e==="tempoChange"?S=E.getPartMeasureStaffVoicesIndexes({partUuid:D,measureUuid:this.cursor.getPositionUuid().measureUuid,staffUuid:j})[0]:S=this.cursor.getPositionUuid().voiceUuid;const I=E[`get${(0,A.ZH)(e)}DataAtUuid`]({partUuid:D,staffUuid:j,voiceUuid:S,[`${e}Uuid`]:r});I.voiceUuid=S;const Z=new st.M1[e]({elem:f,pos:I,color:this.cursor.colorsVoices[0],scoreData:E,adagioCursor:this.cursor.adagioCursor,svgTools:this.dependencies.svgTools,scoreActions:this,cursor:this.cursor});this.cursor.setSelected(Z),Z.highLight()}getAdagioReadyPromise(){return this.adagioReadyPromise}on(...e){this.emiter.on(...e)}once(...e){this.emiter.once(...e)}off(...e){this.emiter.off(...e)}emit(...e){this.emiter.emit(...e)}}},123277:(G,W,t)=>{"use strict";t.d(W,{A:()=>O});var y=t(653154),P=t(303953),o=t(645369),v=t.n(o),L=t(814169),A=t.n(L);const F=v()("flat:matomo"),O={install:(p,h)=>{try{if(P.A.domain){F("disabled for edu subdomain");return}const l=Object.assign({host:"https://flat.io",trackerUrl:"https://flat.io/_ma",trackerScriptUrl:"https://prod.flat-cdn.com/_ma.js",siteId:P.A.matomoMarketingSiteId,enableLinkTracking:!1,debug:F.enabled,trackInitialView:!1},h||{});l.router||(l.preInitActions=l.preInitActions||[],l.preInitActions.push(["trackPageView"])),F("matomo config: %o",l),p.use(A(),l)}catch(l){(0,y.vV)(l)}}}},168380:(G,W,t)=>{"use strict";t.d(W,{A:()=>P});var y=(o=>(o.SVG_DOM_LEGACY="SVG_DOM_LEGACY",o.SVG_DOM="SVG_DOM",o.SVG_IMG_DOM="SVG_IMG_DOM",o.SVG_IMG_HAPPY_DOM="SVG_IMG_HAPPY-DOM",o.SVG_IMG_CUSTOM="SVG_IMG_CUSTOM",o.CANVAS_WEBGL_PIXI="CANVAS_WEBGL_PIXI",o.CANVAS_2D_SIMPLE="CANVAS_2D_SIMPLE",o.CANVAS_2D_CACHED="CANVAS_2D_CACHED",o))(y||{});const P=y},249149:(G,W,t)=>{"use strict";t.d(W,{A:()=>p});var y=t(663060),P=t(987876),o=t(63404),v=t(713335),L=t(168380),A=t(871578),F=t(48250),O=(i,d,s)=>new Promise((u,c)=>{var b=T=>{try{V(s.next(T))}catch($){c($)}},B=T=>{try{V(s.throw(T))}catch($){c($)}},V=T=>T.done?u(T.value):Promise.resolve(T.value).then(b,B);V((s=s.apply(i,d)).next())});function p(i){return O(this,null,function*(){let{resourcesProvider:d}=i;if(!d){const B=(0,F.A)(i.fontApiBaseURL);d=new A.A(B)}const s=new P.A(d,document.fonts),u=new y.A(d,i.dataProvider),c=yield h({abstractRenderer:u,resourcesProvider:d,fontFaceManager:s,renderTech:i.renderTech}),b=yield l({abstractRenderer:u,resourcesProvider:d,fontFaceManager:s,renderTech:i.renderTech,displayRenderer:c});return{abstractRenderer:u,displayRenderer:c,cursorDisplayRenderer:b}})}function h(i){return O(this,null,function*(){if(i.renderTech===L.A.CANVAS_WEBGL_PIXI)return yield Promise.all([t.e(41105),t.e(10507)]).then(t.bind(t,410507)).then(d=>d.default({abstractRenderer:i.abstractRenderer,resourcesProvider:i.resourcesProvider,fontFaceManager:i.fontFaceManager}));if(i.renderTech===L.A.SVG_DOM)return yield t.e(1367).then(t.bind(t,1367)).then(d=>d.default({abstractRenderer:i.abstractRenderer,resourcesProvider:i.resourcesProvider,fontFaceManager:i.fontFaceManager,document:window.document,getImagePayload:o.km}));if(i.renderTech===L.A.SVG_IMG_DOM)return yield t.e(1367).then(t.bind(t,1367)).then(d=>d.default({abstractRenderer:i.abstractRenderer,resourcesProvider:i.resourcesProvider,fontFaceManager:i.fontFaceManager,document:window.document,getImagePayload:o.tE}));if(i.renderTech===L.A.SVG_IMG_CUSTOM)return yield t.e(1367).then(t.bind(t,1367)).then(d=>d.default({abstractRenderer:i.abstractRenderer,resourcesProvider:i.resourcesProvider,fontFaceManager:i.fontFaceManager,document:new v.A,getImagePayload:o.tE}));throw new Error(`Unsupported render tech: ${i.renderTech}`)})}function l(i){return O(this,null,function*(){return i.renderTech===L.A.SVG_DOM?i.displayRenderer:yield t.e(1367).then(t.bind(t,1367)).then(s=>s.default({abstractRenderer:i.abstractRenderer,resourcesProvider:i.resourcesProvider,fontFaceManager:i.fontFaceManager,document:window.document,getImagePayload:o.km}))})}},282363:(G,W,t)=>{"use strict";t.d(W,{A:()=>p});var y=t(361744),P=t(538065);const o={class:"main-errors not-found"},v={class:"buttons-container"};function L(h,l,i,d,s,u){const c=(0,y.g2)("f-button");return(0,y.uX)(),(0,y.CE)("div",o,[(0,y.Lk)("div",null,[(0,y.Lk)("h3",null,(0,P.v_)(h.$t("flat:score.not-offline.title")),1),(0,y.Lk)("div",v,[(0,y.bF)(c,{onClick:l[0]||(l[0]=b=>u.refresh()),"default-text":"flat:score.not-offline.cta-reload"})])])])}const A={name:"ScoreError0",methods:{refresh(){window.location.reload(!1)}}};var F=t(938793);const p=(0,F.A)(A,[["render",L]])},339644:()=>{},485294:(G,W,t)=>{"use strict";t.d(W,{A:()=>A});var y=t(77930),P=t(590531),o=t(938793);const v={};v.$style=P.default;const A=(0,o.A)(y.A,[["__cssModules",v]])},544582:(G,W,t)=>{"use strict";t.d(W,{o:()=>F});var y=t(989353),P=t(6645),o=t(744056),v=t(361744);function L(O){const p=Math.floor(O);let h=String(p%60),l=String(Math.floor(p/60));return l.length===1?l=`0${l}`:l.length>2&&(l="99"),h.length===1&&(h=`0${h}`),`${l}:${h}`}function A(O){const p=O.split("_");for(let h=0;h<p.length;h++)p[h]=p[h].charAt(0).toUpperCase()+p[h].slice(1);return p.join(" ")}const F=(0,P.nY)("scoreAudio",()=>{const O=(0,o.KR)(!1),p=(0,o.KR)(!1),h=(0,o.KR)(!1),l=(0,o.KR)(!1),i=(0,o.KR)(null),d=(0,o.KR)(!1),s=(0,o.KR)(!1),u=(0,o.KR)(!1),c=(0,o.KR)(0),b=(0,o.KR)(-100),B=(0,o.KR)(!1),V=(0,o.KR)(null),T=(0,o.KR)(null),$=(0,o.KR)(null),H=(0,o.KR)(null),_=(0,o.KR)(!1),X=(0,o.KR)(!1),nt=(0,o.KR)(null),st=(0,o.KR)(null),Y=(0,o.KR)(0),q=(0,o.KR)(0),ut=(0,o.KR)(!1),ct=(0,o.KR)(!1),Q=(0,o.KR)([]),rt=(0,o.KR)(1),tt=(0,o.KR)(null),et=(0,o.KR)(!1),it=(0,o.KR)([]),z=(0,o.KR)(0),N=(0,o.KR)(null),C=(0,o.KR)(!1),w=(0,o.KR)(!1),dt=(0,o.KR)(null),ft=(0,o.KR)(null),ot=(0,o.KR)(null),x=(0,o.KR)(null),at=(0,o.KR)(null),J=(0,o.KR)(null),R=(0,o.KR)(null),e=(0,o.KR)(null),r=(0,o.KR)(null),a=(0,o.KR)(null),f=(0,o.KR)(null),m=(0,o.KR)(null),E=(0,o.KR)(null),K=(0,o.KR)(null),g=(0,o.KR)(null),D=(0,o.KR)(null),j=(0,o.KR)(null),S=(0,o.KR)(null);function I(){dt.value=null,ft.value=null,ot.value=null,x.value=null,at.value=null,J.value=null,R.value=null,e.value=null,r.value=null,a.value=null,D.value=null}function Z(n){ct.value=n,n&&Pt(1)}function vt(n){var M,U,k;return typeof n=="undefined"||n===null?I():(Object.prototype.hasOwnProperty.call(n,"beat")&&(dt.value=n.beat),Object.prototype.hasOwnProperty.call(n,"beatType")&&(ft.value=n.beatType),Object.prototype.hasOwnProperty.call(n,"currentMeasure")&&(ot.value=(M=n.currentMeasure)!=null?M:null),Object.prototype.hasOwnProperty.call(n,"currentNoteDuration")&&(x.value=n.currentNoteDuration),Object.prototype.hasOwnProperty.call(n,"currentNoteIndex")&&(at.value=n.currentNoteIndex),Object.prototype.hasOwnProperty.call(n,"currentNoteRealIdx")&&(J.value=n.currentNoteRealIdx),Object.prototype.hasOwnProperty.call(n,"currentVoiceId")&&(R.value=n.currentVoiceId),Object.prototype.hasOwnProperty.call(n,"tempo")&&(e.value=n.tempo),Object.prototype.hasOwnProperty.call(n,"timeFromNoteStart")&&(r.value=n.timeFromNoteStart),Object.prototype.hasOwnProperty.call(n,"timePerMeasure")&&(a.value=n.timePerMeasure),Object.prototype.hasOwnProperty.call(n,"timeFromMeasureStart")&&(f.value=n.timeFromMeasureStart),Object.prototype.hasOwnProperty.call(n,"nextMeasure")&&(m.value=n.nextMeasure),Object.prototype.hasOwnProperty.call(n,"partUuid")&&(E.value=n.partUuid),Object.prototype.hasOwnProperty.call(n,"measureUuid")&&(K.value=(U=n.measureUuid)!=null?U:null),Object.prototype.hasOwnProperty.call(n,"voiceUuid")&&(g.value=n.voiceUuid),Object.prototype.hasOwnProperty.call(n,"quarterFromMeasureStart")&&(D.value=(k=n.quarterFromMeasureStart)!=null?k:null),Object.prototype.hasOwnProperty.call(n,"quarterNotePos")&&(j.value=n.quarterNotePos),Object.prototype.hasOwnProperty.call(n,"isLastMeasureNote")&&(S.value=n.isLastMeasureNote),JSON.parse(JSON.stringify(n)))}const At=(0,v.EW)(()=>{const n={};return Q.value.forEach(M=>{M.solo&&Object.assign(n,{[M.uuid]:M})}),n}),Mt=(0,v.EW)(()=>{const n={};return Q.value.forEach(M=>{Object.assign(n,{[M.uuid]:M})}),n}),yt=(0,v.EW)(()=>{const n=At.value;if(Object.keys(n).length>0)return n;const M={};return Q.value.forEach(U=>{Object.assign(M,{[U.uuid]:!U.mute&&(U.volume===void 0||U.volume>0)})}),M}),Dt=(0,v.EW)(()=>(it.value||[]).map(n=>A(n))),Ot=(0,v.EW)(()=>nt.value===y.p4.CONTINUOUS),Rt=(0,v.EW)(()=>N.value===0),mt=(0,v.EW)(()=>typeof N.value=="number"),It=(0,v.EW)(()=>mt.value?Math.max(0,N.value-z.value):Number.POSITIVE_INFINITY),Ct=(0,v.EW)(()=>L(c.value)),Ut=(0,v.EW)(()=>L(q.value)),pt=(0,v.EW)(()=>L(Y.value)),St=(0,v.EW)(()=>!st.value||tt.value===null||tt.value.length>1);function Lt(){h.value=!0,l.value=!1}function Tt(){h.value=!1,l.value=!1,q.value=0,I()}function xt(){l.value=!0}function Kt(){s.value=!0,u.value=!1,d.value=!1}function Wt(){d.value=!0}function bt(){d.value=!1}function Ft(){s.value=!1,u.value=!0}function Bt(){s.value=!1,u.value=!1}function Vt(n){c.value=n}function $t(n){b.value=n}function _t(n){B.value=!0,V.value=n}function wt({message:n,keepPlaybackActive:M}){let U=n;U&&(U=U.toString()),T.value=U,_.value=!M}function Qt({code:n,params:M}){$.value=n,H.value=M}function jt(n){i.value=n,n==="loaded"&&gt(),n==="error"&&Et()}function Et(){X.value=!0}function gt(){X.value=!1}function Gt(n){p.value=n}function Nt(n){O.value=n}function Yt(n){ut.value=n}function Ht(n){st.value=n}function Xt(n){Y.value=n}function zt(n){q.value=n}function Jt(n){nt.value=n}function lt(n){Object.assign(n,{hash:`${n.uuid}:${n.solo}:${n.mute}:${n.volume}:${n.reverb}`})}function Zt(n){Q.value=[],n.forEach(M=>{if(!Q.value.find(k=>k.uuid===M)){const k={uuid:M,solo:!1,mute:!1,reverb:0,volume:1};Q.value.push(k),lt(k)}})}function ht(n){const M=Q.value.find(U=>U.uuid===n);if(!M)throw new Error(`Part ${n} not found in audio store`);return M}function kt({part:n,volume:M}){const U=ht(n);Object.assign(U,{volume:M}),lt(U)}function qt({part:n,reverb:M}){const U=ht(n);Object.assign(U,{reverb:M}),lt(U)}function te({part:n,solo:M}){const U=ht(n);Object.assign(U,{solo:M}),lt(U)}function ee({part:n,mute:M}){const U=ht(n);Object.assign(U,{mute:M}),lt(U)}function ne(n){it.value=n,n.length===0&&gt()}function se(n){tt.value=n}function Pt(n){rt.value=n}function re(n){et.value=n}function ie(n){let M=n;typeof M!="number"&&(M=null),N.value=M,N.value===0&&(_.value=!0)}function oe(n){z.value=n,typeof N.value=="number"&&z.value>=N.value&&(_.value=!0)}function ae(){z.value++,typeof N.value=="number"&&z.value>=N.value&&(_.value=!0)}function le(n){C.value=n}function ue(n){w.value=n}function ce(){_.value=!0}return{loaded:O,playing:h,pausing:l,loading:p,currentTrack:st,soundfontStatus:i,error:T,errorCode:$,errorParams:H,disablePlayback:_,pendingRetry:X,metronomeMode:nt,recording:s,recordCountingIn:d,recorded:u,recordingTime:c,lastAverageAudioInputPower:b,mediaAccessDenied:B,mediaAccessErrorMessage:V,trackCurrentTime:q,loadedTracks:ut,displayQuickVolumeButtons:et,isPerformerMode:ct,parts:Q,playbackSpeed:rt,missingSoundfontsIds:it,currentMeasure:ot,currentNoteIndex:at,timeFromNoteStart:r,hasPlaysLimit:mt,remainingPlays:It,restrictPlayNote:C,restrictToAudioTracks:w,partsById:Mt,currentPartsPlaying:yt,humanizedMissingSoundfontsIds:Dt,isMetronomeInContinuousMode:Ot,hasNoPlayback:Rt,recordTimeFormat:Ct,trackCurrentTimeFormat:Ut,trackDurationFormat:pt,canChangePlaybackSpeed:St,timeFromMeasureStart:f,nextMeasure:m,partUuid:E,measureUuid:K,voiceUuid:g,quarterFromMeasureStart:D,quarterNotePos:j,isLastMeasureNote:S,setSoundfontStatus:jt,setDefaultAudioPos:I,setPos:vt,setStart:Lt,setStop:Tt,setPause:xt,setRecord:Kt,startRecordCountIn:Wt,finishRecordCountIn:bt,setStopRecord:Ft,setResetRecord:Bt,setRecordTime:Vt,setAvgAudioInputPower:$t,setMediaAccessDenied:_t,setError:wt,setErrorDisplayUi:Qt,setShowRetry:Et,setLoaded:Nt,setLoadedTracks:Yt,setCurrentTrack:Ht,setCurrentTrackDuration:Xt,setHideRetry:gt,setLoading:Gt,setTrackCurrentTime:zt,setMetronomeMode:Jt,setEnsureParts:Zt,setPartVolume:kt,setPartReverb:qt,setPartSolo:te,setPartMute:ee,setMissingSfIds:ne,setAvailablePlaybackRates:se,setPlaybackSpeed:Pt,localVolumeDiff:re,setNbPlaybackAuthorized:ie,initNbPlayAttempt:oe,setDecrementRemainingPlays:ae,setRestrictPlayNote:le,setRestrictToAudioTracks:ue,forceDisablePlayback:ce,setPerformerMode:Z}})},604969:(G,W,t)=>{"use strict";t.d(W,{N:()=>p,w:()=>l});var y=t(645369),P=t.n(y),o=t(6645),v=t(573871),L=t(458970),A=t(653154),F=(i,d,s)=>new Promise((u,c)=>{var b=T=>{try{V(s.next(T))}catch($){c($)}},B=T=>{try{V(s.throw(T))}catch($){c($)}},V=T=>T.done?u(T.value):Promise.resolve(T.value).then(b,B);V((s=s.apply(i,d)).next())});const O=P()("flat:stores:offers"),p=["indivYearly","indivMonthly","indivLife"];function h(i,d){return i=Object.assign({},i),i.value-=i.value*d/100,i.value=Math.round(i.value*100)/100,i.text=(0,L.LC)(i.currencyCode,i.value),i.textWithCurrency=(0,L.cR)(i.currencyCode,i.value),i}const l=(0,o.nY)("offers",{state:()=>({offers:{indivLife:null,indivYearly:null,indivMonthly:null,embedPro:null,eduYear:null,eduMultiYear:null,eduQuarter:null},embedDetails:{"embed-community":null,"embed-start":null,"embed-pro":null},eduMultiYearDiscount:10,selectedPlan:"indivYearly"}),getters:{bestIndivOffer(){var i,d,s,u,c,b,B,V,T;const $=((d=(i=this.offers.indivMonthly)==null?void 0:i.availableDiscount)==null?void 0:d.discountRate)||0,H=((u=(s=this.offers.indivYearly)==null?void 0:s.availableDiscount)==null?void 0:u.discountRate)||0,_=((b=(c=this.offers.indivLife)==null?void 0:c.availableDiscount)==null?void 0:b.discountRate)||0;return $>=H&&$>=_?(B=this.offers.indivMonthly)==null?void 0:B.availableDiscount:H>=$&&H>=_?(V=this.offers.indivYearly)==null?void 0:V.availableDiscount:(T=this.offers.indivLife)==null?void 0:T.availableDiscount}},actions:{fetchIndivOffers(){return F(this,arguments,function*({coupon:i}={}){(yield v.A.list({coupon:i})).forEach(s=>{s.reference.startsWith("indiv")&&(s.duration==="lifetime"?this.offers.indivLife=s:s.duration==="year"?this.offers.indivYearly=s:s.duration==="month"?this.offers.indivMonthly=s:(0,A.vV)(`Unknown fetched offer ${s.reference}`,{extra:{offer:s}}))})})},fetchEmbedOffers(i){return F(this,null,function*(){let d=!1;if(i){const s=yield v.A.get(i);s&&(this.offers.embedPro=s,d=!0)}d||(yield v.A.list({platform:"embed"})).forEach(u=>{u.plan==="embed-pro"?this.offers.embedPro=u:O("ignored embed offer: %o",u)})})},fetchAllOffers(){return F(this,arguments,function*(i={}){this.offers.indivYearly&&!i.coupon||(yield this.fetchIndivOffers(i))})},fetchAllEduOffers(){return F(this,arguments,function*({country:i}={}){(yield v.A.list({country:i})).forEach(s=>{s.reference.startsWith("orga")&&(s.duration==="year"?(this.offers.eduYear=s,this.offers.eduMultiYear=Object.assign({},s,{unitPriceWithVAT:h(s.unitPriceWithVAT,this.eduMultiYearDiscount),unitPriceWithoutVAT:h(s.unitPriceWithoutVAT,this.eduMultiYearDiscount),priceWithVAT:h(s.priceWithVAT,this.eduMultiYearDiscount),priceWithoutVAT:h(s.priceWithoutVAT,this.eduMultiYearDiscount),VAT:h(s.VAT,this.eduMultiYearDiscount)})):s.duration==="quarter"&&(this.offers.eduQuarter=s))})})}}})},653154:(G,W,t)=>{"use strict";t.d(W,{fH:()=>y.fH,io:()=>P.Ay,sQ:()=>o,vV:()=>y.vV});var y=t(839628),P=t(79459),o=t(329281)},839628:(G,W,t)=>{"use strict";t.d(W,{fH:()=>O,vV:()=>A});var y=t(880316),P=Object.defineProperty,o=(s,u,c)=>u in s?P(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,v=(s,u,c)=>o(s,typeof u!="symbol"?u+"":u,c);class L extends Error{constructor(){super(...arguments),v(this,"sentryLogging"),v(this,"response")}}function A(s,u={}){if(u.extra=u.extra||{},typeof s=="string"&&(s=new Error(s)),u.extra["exception:properties"]=u.extra["exception:properties"]||{},Object.keys(s).forEach(c=>{!["name","stack","message"].includes(c)&&typeof s[c]!="function"&&(c==="level"?u.level=s[c]:u.extra["exception:properties"][c]=s[c])}),!(s instanceof Error)&&s.data&&s.data.message){const c=s.response;s=new Error(`[APIv2] ${s.data.message}`),s.response=c}else!(s instanceof Error)&&s.message&&(s=new Error(s.message));!u.logger&&typeof s.stack=="string"&&(s.stack.includes("dacapo")?u.logger="dacapo":s.stack.includes("adagio")&&(u.logger="adagio")),u.level!=="info"&&console.error("[error]",s,"stack"in s?s.stack:null,u),s.sentryLogging!==!1&&(u.logger==="dacapo"&&"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(c=>{u.extra["browser:storage"]={usage:c.usage,quota:c.quota},typeof c.usage!="undefined"&&typeof c.quota!="undefined"&&c.quota>0&&(u.extra["browser:storage:percent"]=c.usage*100/c.quota),y.Cp(s,u)}).catch(()=>{y.Cp(s,u)}):y.Cp(s,u))}function F(s,u={}){return u.level="warning",A(s,u)}function O(s,u={}){return u.level="info",A(s,u)}function p(s,u){Sentry.setContext(s,u)}function h(s,u){Sentry.setTag(s,u)}function l(s){Sentry.setTags(s)}function i(s){Sentry.addBreadcrumb(s)}function d(s,u){Sentry.captureMessage(s,u)}},871578:(G,W,t)=>{"use strict";t.d(W,{A:()=>p});var y=t(306563),P=t(475672),o=t(324074),v=t.n(o),L=Object.defineProperty,A=(h,l,i)=>l in h?L(h,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[l]=i,F=(h,l,i)=>A(h,typeof l!="symbol"?l+"":l,i),O=(h,l,i)=>new Promise((d,s)=>{var u=B=>{try{b(i.next(B))}catch(V){s(V)}},c=B=>{try{b(i.throw(B))}catch(V){s(V)}},b=B=>B.done?d(B.value):Promise.resolve(B.value).then(u,c);b((i=i.apply(h,l)).next())});class p{constructor(l){F(this,"getFontUrl"),F(this,"loadingMap",new Map),F(this,"loadedMap",new Map),this.getFontUrl=l}getMusicFont(l){return O(this,null,function*(){if(l===P.A.BRAVURA)return Promise.resolve().then(t.bind(t,624740)).then(i=>i.default);if(l===P.A.PETALUMA)return t.e(60455).then(t.bind(t,7893)).then(i=>i.default);if(l===P.A.GOOTVILLE)return t.e(29193).then(t.bind(t,368131)).then(i=>i.default);if(l===P.A.LEIPZIG)return t.e(1336).then(t.bind(t,147738)).then(i=>i.default);if(l===P.A.LELAND)return t.e(13406).then(t.bind(t,719988)).then(i=>i.default);if(l===P.A.FINALE_ASH)return t.e(71895).then(t.bind(t,105429)).then(i=>i.default);if(l===P.A.FINALE_MAESTRO)return t.e(4860).then(t.bind(t,996470)).then(i=>i.default);if(l===P.A.FINALE_BROADWAY)return t.e(75720).then(t.bind(t,183618)).then(i=>i.default);if(l===P.A.FINALE_ENGRAVER)return t.e(43095).then(t.bind(t,819445)).then(i=>i.default);if(l===P.A.FINALE_JAZZ)return t.e(24942).then(t.bind(t,418252)).then(i=>i.default);if(l===P.A.FINALE_LEGACY)return t.e(97604).then(t.bind(t,86766)).then(i=>i.default);throw new Error(`Unknown music font: ${l}`)})}getTextFont(l){return O(this,null,function*(){const i=(0,y.Zd)(l),d=this.loadedMap.get(i);return d?Promise.resolve(d):this.loadingMap.get(i)||this._loadFont(i,l)})}_loadFont(l,i){const d=O(this,null,function*(){const s=this.getFontUrl(i),u=yield this.loadFontFile(s);return this.loadedMap.set(l,u),this.loadingMap.delete(l),u});return this.loadedMap.has(l)||this.loadingMap.set(l,d),d}loadFontFile(l){return O(this,null,function*(){return(yield new Promise((d,s)=>{const u=[(c,b)=>(delete b.common["x-flat-request-as"],delete b.common["x-csrf-token"],c)];v().get(l,{responseType:"arraybuffer",transformRequest:u}).then(c=>{d(c)}).catch(c=>{if(l.startsWith("./")&&c.request&&c.request.readyState===4&&c.response&&c.response.data){const b=c.response.data;d(b)}s(c)})})).data})}}}}]);})();


//# debugId=6b21822f-9dce-5bbe-9654-15b2395a063f

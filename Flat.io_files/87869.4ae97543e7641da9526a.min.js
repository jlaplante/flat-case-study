"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="feb07994-c5aa-5800-9587-fce243211ebe")}catch(e){}}();
(()=>{/*! Copyright (c) 2025 Tutteo Ltd. */(self.webpackChunk_flat_flat=self.webpackChunk_flat_flat||[]).push([[87869],{12597:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);function t(s){return`The slide type [${s}] is invalid.`}class o extends g.A{constructor(d){const u=t(d);super(u),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadSlideTypeError",this.type=d}}var n=c(364842);const e={START:"start",STOP:"stop"};e.values=[e.START,e.STOP],e.isValid=function(s){return e.values.includes(s)},e.check=function(s){if(!e.isValid(s))throw new o(s)},e.raiseError=function(s){const d=`The slide type [${s}] is invalid.`;throw new n.default("BadSlideType",d)},e.isStart=function(s){return s===e.START},e.isStop=function(s){return s===e.STOP};const a=e},51431:(C,P,c)=>{c.d(P,{A:()=>t});const g={NO:"no",INFERED:"infered",FALLBACK:"fallback"};g.DEFAULT=g.NO,g.values=[g.NO,g.INFERED,g.FALLBACK];const t=g},59443:(C,P,c)=>{c.d(P,{A:()=>l});var g=c(364842),t=c(726042),o=c(701387),n=c(614653),e=c(589501),a=c(123491),s=c(35802),d=c(952818),u=c(721247);class l{constructor(i){this.measureJson=i,this.attributes=o.default.getAttributes(i),this.notes=o.default.getNotes(i)}getDivisions(){return s.default.getDivisions(this.attributes)}multiplyDivisions(i){if(typeof i!="number"){const R=`coeff [${i}] should be a number`;throw new g.default("Unexpected",R)}let O=this.getDivisions();O*=i,this.setDivisions(O),this.notes.forEach(f,i),this.getDirections().forEach(p,{value:i,utils:d.A}),this.getHarmonies().forEach(p,{value:i,utils:n.default}),this.getFiguredBasses().forEach(p,{value:i,utils:e.A}),this.getClefs().forEach(p,{value:i,utils:u.default})}reduceDivisions(){const i=this.computeDivisor();h(i)&&this.applyDivisor(i)}computeDivisor(){let i=this.getDivisions();for(let m=0;m<this.notes.length&&h(i);m++){const E=this.notes[m],v=a.default.getDuration(E);i=t.default.gcd(i,v)}const O=this.getDirections(),M=O.length;for(let m=0;m<M&&h(i);m++){const E=O[m],v=d.A.getTimePos(E);v>0&&(i=t.default.gcd(i,v))}return i}applyDivisor(i){let O=this.getDivisions();O/=i,this.setDivisions(O);for(let M=0;M<this.notes.length;M++){const m=this.notes[M];if(a.default.isGraceNote(m)&&!a.default.hasDuration(m))continue;const E=a.default.getDuration(m);a.default.setDuration(m,E/i)}}getHarmonies(){return o.default.getAllHarmonies(this.measureJson)}getFiguredBasses(){return o.default.getFiguredBasses(this.measureJson)}getClefs(){return o.default.getAllMiddleClefs(this.measureJson)}getDirections(){return o.default.getAllDirections(this.measureJson)}setDivisions(i){s.default.setDivisions(this.attributes,i)}}function f(r){if(a.default.isGraceNote(r)&&!a.default.hasDuration(r))return;const i=this.valueOf(),O=a.default.getDuration(r);if(a.default.setDuration(r,O*i),a.default.hasBackup(r)){const M=a.default.getBackupDuration(r);a.default.addBackup(r,M*i)}if(a.default.hasForward(r)){const M=a.default.getForwardDuration(r);a.default.addForward(r,M*i)}if(a.default.hasTimePos(r)){let M=a.default.getTimePos(r);M=M*i,a.default.setTimePos(r,M)}}function p(r){const i=this.utils,O=this.value,M=i.getTimePos(r);i.setTimePos(r,M*O)}function h(r){return r>1}},68990:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(259563),t=c(476943),o=c(843678),n=c(365340),e=c(110976),a=c(882934);const s="beat-unit-dot",d="beat-unit",u="per-minute",l={};l.create=function(r,i,O){const M=g.default.toMxl(i),m=o.default.fromPairs([{key:u,value:r.toString()},{key:d,value:M}]);return f(m,O),m};const f=function(r,i){i===1?r[s]={}:i>1&&(r[s]=p(i))},p=function(r){const i=[];for(let O=0;O<r;O++)i.push({});return i};l.isValid=function(r){return!(!l.hasValidNbDots(r)||!l.hasValidDurationType(r)||!l.hasValidBpm(r))},l.hasValidNbDots=function(r){const i=l.getNbDots(r);return e.default.isValidNbDots(i)},l.getNbDots=function(r){return l.hasDot(r)?t.default.isArray(r[s])?r[s].length:1:0},l.hasDot=function(r){return typeof r[s]!="undefined"},l.hasValidDurationType=function(r){if(!l.hasDurationType(r))return!1;let i=r[d];if(i=n.default.stringOrContent(i),!g.default.isValidMxl(i))return!1;const O=l.getDurationType(r);return e.default.isValidDurationType(O)},l.getDurationType=function(r){let i=r[d];return i=n.default.stringOrContent(i),g.default.fromMxl(i)},l.hasDurationType=function(r){return typeof r[d]!="undefined"},l.hasValidBpm=function(r){if(!l.hasBpm(r))return!1;const i=l.getBpm(r);return a.A.isValidTempo(i)},l.getBpm=function(r){const i=r[u];return parseInt(i,10)},l.hasBpm=function(r){return typeof r[u]!="undefined"};const h=l},74957:(C,P,c)=>{c.d(P,{A:()=>B});var g=c(364842),t=c(951066);function o(L){return`The degree value [${L}] is invalid.It must be an integer between 2 and 13.`}class n extends t.A{constructor(F){const V=o(F);super(V),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadDegreeValueError",this.value=F}}var e=c(726042);function a(L){if(!u(L))throw new n(L)}function s(L){u(L)||d(L)}function d(L){const F=`The degree value [${L}] is invalid.`;throw new g.default("BadDegreeValue",F)}function u(L){return e.default.isInteger(L)&&L>=2&&L<=13}const l={check:a,assert:s,raiseError:d,isValid:u};var f=c(381216);function p(L){return`The degree alter [${L}] is invalid.It must be an integer between -1 and 1.`}class h extends t.A{constructor(F){const V=p(F);super(V),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadDegreeAlterError",this.alter=F}}function r(L){if(!M(L))throw new h(L)}function i(L){M(L)||O(L)}function O(L){const F=`The degree alter [${L}] is invalid.`;throw new g.default("BadDegreeAlter",F)}function M(L){return e.default.isInteger(L)&&-1<=L&&L<=1}const m={check:r,assert:i,raiseError:O,isValid:M};var E=c(365340);const v={},R=0;v.check=function(L){const F=v.getValue(L);l.check(F);const V=v.getType(L);f.A.check(V);const G=v.getAlter(L);m.check(G)},v.isValid=function(L){if(!E.default.hasNumberOrContent(L["degree-value"]))return!1;const F=v.getValue(L);if(!l.isValid(F))return!1;const V=v.getType(L);if(!f.A.isValid(V))return!1;const G=v.getAlter(L);return!!m.isValid(G)},v.isSame=function(L,F){const V=v.getValue(L),G=v.getValue(F);if(V!==G)return!1;const U=v.getAlter(L),$=v.getAlter(F);if(U!==$)return!1;const j=v.getType(L),I=v.getType(F);return j===I},v.copy=function(L){const F=v.getValue(L),V=v.getAlter(L),G=v.getType(L);return v.create(F,G,V)},v.create=function(L,F,V){return V=V||R,l.assert(L),f.A.assert(F),m.assert(V),{"degree-value":L,"degree-alter":V,"degree-type":F}},v.compare=function(L,F){const V=v.getValue(L),G=v.getValue(F);return V-G},v.getValue=function(L){return E.default.numberOrContent(L["degree-value"])},v.getType=function(L){return E.default.stringOrContent(L["degree-type"])},v.getAlter=function(L){return E.default.numberOrContent(L["degree-alter"])},v.setAlter=function(L,F){L["degree-alter"]=F};const B=v},96410:(C,P,c)=>{c.d(P,{A:()=>r});var g=c(951066);function t(i,O){return`The inversion value [${i}] is invalid for [${O}] notes.`}class o extends g.A{constructor(O,M){const m=t(O,M);super(m),Object.defineProperty(this,"inversion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nbNotes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadInversionError",this.inversion=O,this.nbNotes=M}}var n=c(726042);const e=0,a=new Map([[3,[{top:null,bottom:null},{top:"6",bottom:null},{top:"6",bottom:"4"}]],[4,[{top:"7",bottom:null},{top:"6",bottom:"5"},{top:"4",bottom:"3"},{top:"4",bottom:"2"}]]]),s=1;function d(i,O){if(!u(i,O))throw new o(i,O)}function u(i,O){return n.default.isInteger(i)&&0<=i&&i<O}function l(i){return n.default.isInteger(i)&&0<=i&&i<4}function f(i){const O=a.get(i);if(O===void 0)throw new Error(`The number of notes [${i}] is invalid for an inversion.`);return O}function p(i,O){const M=f(O);if(M[i]===void 0)throw new Error(`The inversion [${i}] is invalid.`);return M[i].top}function h(i,O){const M=f(O);if(M[i]===void 0)throw new Error(`The inversion [${i}] is invalid.`);return M[i].bottom}const r={DEFAULT:e,AUGMENTED_SIXTH:s,check:d,isValid:u,isValidAlone:l,getInversionCasesForNbNotes:f,getTopDigit:p,getBottomDigit:h}},97324:(C,P,c)=>{c.d(P,{A:()=>E});var g=c(364842),t=c(951066);function o(v){return`The plucked range type [${v}] is invalid.`}class n extends t.A{constructor(R){const B=o(R);super(B),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadPluckedRangeTypeError",this.type=R}}const e="palmMute",a="letRing",s="stop",d="continue",u=[e,a,s,d],l=[e,a];function f(v){return u.includes(v)}function p(v){return l.includes(v)}function h(v){if(!f(v)){const R=`Invalid value for plucked range type: [${v}].`;throw new g.default("PluckedRangeType",R)}}function r(v){if(!p(v)){const R=`Invalid internal value for plucked range type: [${v}].`;throw new g.default("PluckedRangeType",R)}}function i(v){if(!p(v))throw new n(v)}function O(v){if(!f(v))throw new n(v)}function M(v){return v===a||v===e}function m(v){return v===s}const E={PALM_MUTE:e,LET_RING:a,STOP:s,CONTINUE:d,values:u,internalValues:l,isValid:f,isValidInternal:p,assert:h,assertInternal:r,checkInternal:i,check:O,isStart:M,isStop:m}},101561:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`line value ${n} is invalid. It has to be a positive integer between [1 and 6]`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"line",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadStaffTuningLineError",this.line=e}}},112512:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`the accidental style [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"accidental",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadAccidentalError",this.accidental=e}}},128001:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(351277),t=c(971064),o=c(460204),n=c(364596);const e={};e.check=function(d){const u=e.getDisplayType(d);t.A.check(u);const l=e.getSourcePitch(d);g.default.check(l);const f=e.getRecommendedPitch(d);g.default.check(f);const p=e.getDoType(d);o.A.check(p)},e.isHandSign=function(d){return e.getDisplayType(d)===t.A.HAND_SIGN},e.getDisplayType=function(d){return d.type},e.getTranspose=function(d,u){const l=e.getDoType(d);if(l===o.A.FIXED){const f=e.getSourcePitch(d),p=e.getRecommendedPitch(d);return g.default.getTransposeDiff(p,f)}else if(l===o.A.MOVABLE){const f=a(u),p=g.default.getOctave(f),h=g.default.create(p,"C");return g.default.getTransposeDiff(h,f)}else o.A.raiseError(l)};function a(d){const u=n.default.getTonic(d);return g.default.getStep(u)==="B"?g.default.setOctave(g.default,3):g.default.setOctave(g.default,4),u}e.getSourcePitch=function(d){return d.sourcePitch},e.getRecommendedPitch=function(d){return d.recommendedPitch},e.getDoType=function(d){return typeof d.doType=="undefined"?o.A.DEFAULT:d.doType},e.create=function(d,u,l,f){return f||(f=o.A.DEFAULT),{type:d,sourcePitch:u,recommendedPitch:l,doType:f}},e.isSame=function(d,u){const l=e.getDisplayType(d),f=e.getDisplayType(u);if(l!==f)return!1;const p=e.getDoType(d),h=e.getDoType(u);if(p!==h)return!1;const r=e.getSourcePitch(d),i=e.getSourcePitch(u);if(!g.default.isSamePitch(r,i))return!1;const O=e.getRecommendedPitch(d),M=e.getRecommendedPitch(u);return!!g.default.isSamePitch(O,M)};const s=e},138717:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(364842);const t={YES:"yes",NO:"no"};t.values=[t.YES,t.NO],t.isValid=function(n){return t.values.includes(n)},t.raiseError=function(n){const e=`Invalid value for boolean: [${n}].`;throw new g.default("BadBooleanTypeError",e)};const o=t},140887:(C,P,c)=>{c.d(P,{A:()=>i});var g=c(951066);function t(O){return`the brass fingering instrument value [${O}] is invalid.`}class o extends g.A{constructor(M){const m=t(M);super(m),Object.defineProperty(this,"instrument",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBrassFingeringInstrumentError",this.instrument=M}}const n="trumpet",e="horn-c",a="horn-d",s="horn-f",d="trombone",u="euphonium",l=[n,e,a,s,d,u],f=n;function p(O){return l.includes(O)}function h(O){p(O)||r(O)}function r(O){throw new o(O)}const i={TRUMPET:n,HORN_C:e,HORN_D:a,HORN_F:s,TROMBONE:d,EUPHONIUM:u,values:l,DEFAULT:f,isValid:p,check:h,raiseError:r}},141624:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(364842);const t="above",o="below",n=[t,o];function e(d){return n.includes(d)}function a(d){const u=`Invalid value for placement: [${d}].`;throw new g.default("BadPlacementError",u)}const s={ABOVE:t,BELOW:o,values:n,isValid:e,raiseError:a}},169802:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The volume [${n}] is invalid. It must be a number between 0 and 100.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"volume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadVolumeError",this.volume=e}}},171882:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(365340),t=c(568357);const o={};o.isStart=function(s){return o.getType(s)===t.A.START},o.isStop=function(s){return o.getType(s)===t.A.STOP},o.getType=function(s){return s.$type},o.create=function(s){return{$type:s}};const n=o,e={};e.copy=function(s){const d=e.getFret(s),u=e.getString(s);return{fret:d.toString(),string:u.toString()}},e.isSame=function(s,d){const u=e.getFret(s),l=e.getFret(d);if(u!==l)return!1;const f=e.getString(s),p=e.getString(d);return f===p},e.getString=function(s){let d=s.string;return d=g.default.stringOrContent(d),d=parseInt(d,10),d},e.getFret=function(s){let d=s.fret;return d=g.default.stringOrContent(d),d=parseInt(d,10),d},e.hasBarreStart=function(s){if(!e.hasBarre(s))return!1;const d=e.getBarre(s);return n.isStart(d)},e.hasBarreStop=function(s){if(!e.hasBarre(s))return!1;const d=e.getBarre(s);return n.isStop(d)},e.hasBarre=function(s){return typeof s.barre!="undefined"},e.getBarre=function(s){return s.barre};const a=e},176244:(C,P,c)=>{c.d(P,{A:()=>f});var g=c(951066);function t(p){return`the recorder tabs display type value [${p}] is invalid.`}class o extends g.A{constructor(h){const r=t(h);super(r),Object.defineProperty(this,"displayType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadRecorderTabsDisplayTypeError",this.displayType=h}}const n="normal",e="japanese",a=[n,e],s=n;function d(p){return a.includes(p)}function u(p){d(p)||l(p)}function l(p){throw new o(p)}const f={NORMAL:n,JAPANESE:e,values:a,DEFAULT:s,isValid:d,check:u,raiseError:l}},187694:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(274486),t=c(365340);function o(s,d){const u=e(s),l=e(d);return u===l}function n(s){if(!t.default.hasNumberOrContent(s))return!1;const d=e(s);return g.A.isValidNbMeasures(d)}function e(s){return t.default.numberOrContent(s)}const a={isSame:o,isValid:n,getNbMeasures:e}},192077:(C,P,c)=>{c.d(P,{A:()=>o});const g={},t="yes";g.setFullMeasure=function(n,e){e?n.$measure=t:delete n.$measure},g.isFullMeasure=function(n){return n.$measure===t};const o=g},212642:(C,P,c)=>{c.d(P,{A:()=>i});var g=c(364842),t=c(735696),o=c(724095),n=c(555247),e=c(138717),a=c(141624),s=c(568357),d=c(476943),u=c(365340),l=c(493528);const f=[o.A.MORDENT,o.A.INVERTED_MORDENT,o.A.TRILLMARK,o.A.TREMOLO,o.A.TURN,o.A.INVERTED_TURN,o.A.BUZZ],p=d.default.pairsToMap([{key:o.A.TRILLMARK,value:f},{key:o.A.TREMOLO,value:f},{key:o.A.MORDENT,value:f},{key:o.A.INVERTED_MORDENT,value:f},{key:o.A.TURN,value:f},{key:o.A.INVERTED_TURN,value:f},{key:o.A.BUZZ,value:f}]),h={};h.hasOrnament=function(O,M,m){if(!h.hasOrnamentType(O,M))return!1;const E=u.default.getSingle(O,M);switch(M){case o.A.TREMOLO:{let v=u.default.stringOrContent(E);return v=parseInt(v,10),s.A.isValid(E.$type)!==s.A.isValid(m.type)||s.A.isValid(E.$type)&&E.$type!==m.type?!1:v===parseInt(m.nbBeam,10)}case o.A.MORDENT:case o.A.INVERTED_MORDENT:{const v=l.A.isLong(E),R=m.long===e.A.YES;return v===R&&E.$departure===m.departure&&E.$approach===m.approach}}return!0},h.hasOrnamentType=function(O,M){return typeof O[M]!="undefined"},h.getList=function(O){let M=Object.keys(O);return M=M.filter(o.A.isValid),M},h.addOrnament=function(O,M,m){switch(M){case o.A.TREMOLO:{const E={content:m.nbBeam.toString()};m.type&&(E.$type=m.type),O[M]=E;break}case o.A.MORDENT:case o.A.INVERTED_MORDENT:{const E={};typeof m!="undefined"&&(m.long===e.A.YES&&(E.$long=m.long),a.A.isValid(m.approach)&&(E.$approach=m.approach),a.A.isValid(m.departure)&&(E.$departure=m.departure)),O[M]=E;break}case o.A.TRILLMARK:case o.A.TURN:case o.A.INVERTED_TURN:case o.A.BUZZ:O[M]={};break;default:throw new g.default("unexpected",`The ornament type [${M}] is not supported.`)}},h.getOrnamentsWithOpts=function(O){const M={};for(const m in O)if(o.A.isValid(m)){const E=h.getOrnamentOpts(O,m);M[m]=E}return M},h.getOrnamentOpts=function(O,M){if(!h.hasOrnamentType(O,M))throw new g.default("Unexpected",`There is no ornament [${M}] in this note.`);const m={},E=u.default.getSingle(O,M);switch(M){case o.A.TREMOLO:{const v=u.default.stringOrContent(E),R=parseInt(v,10);return m.nbBeam=R,typeof E.$type!="undefined"&&s.A.isValid(E.$type)&&(m.type=E.$type),m}case o.A.TRILLMARK:case o.A.TURN:case o.A.INVERTED_TURN:case o.A.BUZZ:return m;case o.A.MORDENT:case o.A.INVERTED_MORDENT:{const v=E;return l.A.isLong(E)&&(m.long=e.A.YES),l.A.hasApproach(v)&&(m.approach=v.$approach),l.A.hasDeparture(v)&&(m.departure=v.$departure),m}default:throw new g.default("Unexpected",`The ornament type [${M}] is not supported.`)}},h.removeOrnament=function(O,M){if(o.A.isValid(M))delete O[M];else throw new g.default("unexpected",M)},h.hasIncompatibleOrnaments=function(O,M){return p[M].some(r,O)},h.getIncompatibleOrnaments=function(O,M){let m=p[M];return m=m.filter(r,O),m};const r=function(O){const M=this;return h.hasOrnamentType(M,O)};h.ornamentToNbLines=function(O){switch(O){case o.A.TRILLMARK:case o.A.TURN:case o.A.INVERTED_TURN:case o.A.MORDENT:case o.A.INVERTED_MORDENT:case n.A.LONG_MORDENT:case n.A.LONG_INVERTED_MORDENT:case n.A.ABOVE_APPROACH_MORDENT:case n.A.BELOW_APPROACH_MORDENT:case n.A.ABOVE_APPROACH_INVERTED_MORDENT:case n.A.BELOW_APPROACH_INVERTED_MORDENT:case n.A.ABOVE_DEPARTURE_INVERTED_MORDENT:case n.A.BELOW_DEPARTURE_INVERTED_MORDENT:return 0;case o.A.BUZZ:case n.A.TREMOLO1:return 1;case n.A.TREMOLO2:return 2;case n.A.TREMOLO3:return 3;case n.A.TREMOLO4:return 4;case n.A.TREMOLO5:return 5;default:if(!o.A.isValid(O))throw new t.A(O);return 0}},h.isTremoloType=function(O){switch(O){case o.A.TREMOLO:case n.A.TREMOLO1:case n.A.TREMOLO2:case n.A.TREMOLO3:case n.A.TREMOLO4:case n.A.TREMOLO5:case o.A.BUZZ:return!0;case n.A.LONG_MORDENT:case n.A.LONG_INVERTED_MORDENT:case n.A.ABOVE_APPROACH_MORDENT:case n.A.BELOW_APPROACH_MORDENT:case n.A.ABOVE_APPROACH_INVERTED_MORDENT:case n.A.BELOW_APPROACH_INVERTED_MORDENT:case n.A.ABOVE_DEPARTURE_INVERTED_MORDENT:case n.A.BELOW_DEPARTURE_INVERTED_MORDENT:return!1;default:if(!o.A.isValid(O))throw new t.A(O);return!1}},h.hasTremoloSide=function(O){if(typeof O[o.A.TREMOLO]=="undefined")return!1;const m=O[o.A.TREMOLO].$type;return s.A.isValid(m)},h.hasTremoloStart=function(O){if(typeof O[o.A.TREMOLO]=="undefined")return!1;const m=O[o.A.TREMOLO].$type;return s.A.isStart(m)},h.hasTremoloStop=function(O){if(typeof O[o.A.TREMOLO]=="undefined")return!1;const m=O[o.A.TREMOLO].$type;return s.A.isStop(m)};const i=h},227829:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(607682);class t extends g.default{constructor(e){const a=`Cannot remove the last ${e}.`;super(a),Object.defineProperty(this,"entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="RemoveLastError",this.entity=e}}Object.defineProperty(t,"STAFF",{enumerable:!0,configurable:!0,writable:!0,value:"staff"}),Object.defineProperty(t,"PART",{enumerable:!0,configurable:!0,writable:!0,value:"part"}),Object.defineProperty(t,"MEASURE",{enumerable:!0,configurable:!0,writable:!0,value:"measure"}),Object.defineProperty(t,"DISPLAYED_VOICE",{enumerable:!0,configurable:!0,writable:!0,value:"displayed voice"}),Object.defineProperty(t,"VOICE",{enumerable:!0,configurable:!0,writable:!0,value:"voice"});const o=t},230378:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(259563),t=c(476943);const o={};o.hasDurationType=function(e){return t.default.hasStringOrContent(e["tuplet-type"])},o.getDurationType=function(e){const a=t.default.stringOrContent(e["tuplet-type"]);return g.default.fromMxl(a)},o.setDurationType=function(e,a){const s=g.default.toMxl(a);e["tuplet-type"]=s},o.createActual=function(e,a){const s={"tuplet-number":e.toString()};return o.setDurationType(s,a),s},o.createNormal=function(e){return{"tuplet-number":e.toString()}},o.getNumber=function(e){return parseInt(e["tuplet-number"],10)};const n=o},234421:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(868743);const t={};t.create=function(n,e){const a={$type:n,$line:"yes"};return t.check(a),typeof e!="undefined"&&t.setLocation(a,e),a},t.check=function(n){const e=t.getType(n);g.A.check(e)},t.getType=function(n){return n.$type},t.getLocation=function(n){if(t.has$adagio(n))return t.get$adagio(n).location},t.setLocation=function(n,e){t.has$adagio(n)||t.create$adagio(n);const a=t.get$adagio(n);a.location=e},t.get$adagio=function(n){return n.$adagio},t.create$adagio=function(n){n.$adagio={}},t.hasLocation=function(n){return t.has$adagio(n)&&typeof n.$adagio.location!="undefined"},t.has$adagio=function(n){return typeof n.$adagio!="undefined"};const o=t},248670:(C,P,c)=>{c.d(P,{A:()=>t});const g={};g.mergeInto=function(o,n,e){let a=0;const s=n.length;for(let d=0;d<s;d++){const u=n[d];a=g.searchFirstInsertionIdx(o,u,e,a);const l=o[a];(typeof l=="undefined"||e(l,u)!==0)&&o.splice(a,0,u)}},g.searchFirstInsertionIdx=function(o,n,e,a){let s=a||0;const d=o.length;for(;s<d;s++){const u=o[s];if(e(u,n)>=0)return s}return s};const t=g},250769:(C,P,c)=>{c.d(P,{A:()=>u});var g=c(364842);const t="yes",o="no",n=t,e=[t,o];function a(l,f){const p=`The ${f} value: [${l}] is invalid`;throw new g.default("BadYesNoError",p)}function s(l,f){if(!d(l))throw new f(l)}function d(l){return e.includes(l)}const u={YES:t,NO:o,DEFAULT:n,values:e,raiseError:a,check:s,isValid:d}},266894:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(364842),t=c(951066);function o(d){return`The swing ratio value ${d} is invalid. `}class n extends t.A{constructor(u){const l=o(u);super(l),Object.defineProperty(this,"ratio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadSwingRatioError",this.ratio=u}}var e=c(726042);const a={};a.assert=function(d){a.isValid(d)||a.raiseError(d)},a.raiseError=function(d){const u=`The swing ratio [${d}] is invalid.`;throw new g.default("BadSwingRatio",u)},a.check=function(d){if(!a.isValid(d))throw new n(d)},a.isValid=function(d){return e.default.isNumber(d)&&d>=0&&d<=100};const s=a},269032:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(726042);const t={};t.DIRECTION_FORWARD="forward",t.DIRECTION_BACKWARD="backward",t.DEFAULT_TIMES=2,t.MIN_TIMES=2,t.MAX_TIMES=31;const o="$times";t.isValidDirection=function(e){return!(e!==t.DIRECTION_BACKWARD&&e!==t.DIRECTION_FORWARD)},t.getNbRepeat=function(e){const a=t.getNbplay(e);return t.nbPlayToNbRepeat(a)},t.getTimes=function(e){return t.getNbplay(e)},t.getNbplay=function(e){if(!t.hasTimes(e))return t.DEFAULT_TIMES;const a=parseInt(e[o],10);return t.isValidTimes(a)?a:t.DEFAULT_TIMES},t.getRawTimes=function(e){return parseInt(e[o],10)},t.hasTimes=function(e){return typeof e[o]!="undefined"},t.removeTimes=function(e){delete e[o]},t.isValidTimes=function(e){return g.default.isInteger(e)&&e>=t.MIN_TIMES&&e<=t.MAX_TIMES},t.isForward=function(e){return t.getDirection(e)===t.DIRECTION_FORWARD},t.isBackward=function(e){return t.getDirection(e)===t.DIRECTION_BACKWARD},t.getDirection=function(e){return e.$direction},t.setTimes=function(e,a){e[o]=a.toString()},t.nbRepeatToNbPlay=function(e){return e+1},t.nbPlayToNbRepeat=function(e){return e-1},t.createRepeat=function(e,a,s){const d={$direction:a,$winged:"none"};return typeof s=="number"?d[o]=s.toString():a===t.DIRECTION_BACKWARD&&t.setTimes(d,t.DEFAULT_TIMES),e.repeat=d,e},t.DEFAULT_NB_REPEAT=t.nbPlayToNbRepeat(t.DEFAULT_TIMES);const n=t},274486:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(951066);class t extends g.A{constructor(l){const f=`The multi-measures rest nbMeasures value [${l}] is invalid.`;super(f),Object.defineProperty(this,"nbMeasures",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="InvalidMMRNbMeasures",this.nbMeasures=l}}var o=c(726042);const n=2,e=100;function a(u){return o.default.isInteger(u)&&u>=n&&u<=e}function s(u){if(!a(u))throw new t(u)}const d={isValidNbMeasures:a,checkNbMeasures:s,MIN_NB_MEASURES:n,MAX_NB_MEASURES:e}},278243:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(607682);class t extends g.default{constructor(){super("This operation is not possible on rests."),this.name="NotPossibleOnRestsError"}}},287331:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`the harmonic type value [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadHarmonicTypeError",this.type=e}}},287719:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(364842),t=c(568357),o=c(316826),n=c(648920),e=c(726042);const a={};a.hasFirstBeam=function(u){return u.some(n.A.isFirst)},a.hasForward=function(u){const l=a.getFirst(u);return n.A.hasForward(l)},a.hasBackward=function(u){const l=a.getFirst(u);return n.A.hasBackward(l)},a.isBegin=function(u){const l=a.getFirst(u);return n.A.isBegin(l)},a.isContinue=function(u){const l=a.getFirst(u);return n.A.isContinue(l)},a.isEnd=function(u){const l=a.getFirst(u);return n.A.isEnd(l)},a.getFirst=function(u){return u.find(n.A.isFirst)},a.getLastType=function(u){const l=a.getLast(u);return n.A.getType(l)},a.getLast=function(u){return u.reduce(a.max)},a.max=function(u,l){const f=n.A.compare(u,l);if(f>0)return u;if(f<0)return l;{const p="There should not be two beams with the same number.";throw new g.default("Unexpected",p)}},a.createBegin=function(u){return a.createBeams(n.A.createBegin,u)},a.createContinue=function(u){return a.createBeams(n.A.createContinue,u)},a.createEnd=function(u){return a.createBeams(n.A.createEnd,u)},a.createBeams=function(u,l){const f=[];for(let p=0;p<l;p++){const h=u(p);f.push(h)}return f},a.durationToNbBeams=function(u){return-Math.floor(e.default.log(u,2))},a.getNb=function(u){return u.length},a.getOrderedBeams=function(u){return u=u.slice(),u.sort(n.A.compareSafe),u},a.createFromTremolo=function(u,l,f){l=s(l);const p=[];for(let h=0;h<u;h++){const r=h+f,i=n.A.create(r,l);n.A.setIsTremolo(i),p.push(i)}return p};function s(u){if(u===t.A.START)return o.A.BEGIN;if(u===t.A.STOP)return o.A.END;t.A.raiseError(u)}const d=a},294148:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(951066);function t(r){return`the function value [${r}] is invalid.`}class o extends g.A{constructor(i){const O=t(i);super(O),Object.defineProperty(this,"chordFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadChordFunctionError",this.chordFunction=i}}const n=["I","II","III","IV","V","VI","VII"];function e(r){return r.toLowerCase()}const a=n.map(e),s=n.concat(a);function d(r){if(!u(r))throw new o(r)}function u(r){return l(r)}function l(r){return s.includes(r)}function f(r){return n.includes(r)}function p(r){return a.includes(r)}const h={values:s,majorValues:n,minorValues:a,check:d,isSupported:u,isValid:l,isMajor:f,isMinor:p}},297098:(C,P,c)=>{c.d(P,{A:()=>l});const g="single",t="begin",o="end",n="middle",e=[g,t,o,n];function a(f){return e.includes(f)}function s(f){return f===n||f===t}function d(f){return f===n||f===o}function u(f){return f===n||f===t||f===o}const l={SINGLE:g,BEGIN:t,END:o,MIDDLE:n,values:e,isValid:a,hasRightConnection:s,hasLeftConnection:d,hasConnection:u}},300152:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`tuning-octave value ${n} is invalid. It has to be a positive integer between the following values [0, 9]`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"tuningOctave",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadStaffTuningTuningOctave",this.tuningOctave=e}}},301696:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(364842),t=c(476943);const o="yes",n="no",e={};e.isSound=function(s){if(!t.default.isObject(s)||typeof s.$sound!="string")return!1;const d=s.$sound;if(d===o)return!0;if(d===n)return!1;{const u=`Invalid value for offset.$sound: [${d}].`;throw new g.default("BadOffsetSound",u)}},e.create=function(s,d){return d?{content:s.toString(),$sound:o}:s.toString()};const a=e},309534:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(951066);class t extends g.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BadRecorderTabsTypeError"}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=i}}const o=function(r){return`the recorder tabs type value [${r}] is invalid.`},n="recorderSopranoBaroque",e="recorderSopranoGerman",a="recorderAltoBaroque",s="recorderAltoGerman",d=[n,e,a,s],u=n;function l(r){return d.includes(r)}function f(r){l(r)||p(r)}function p(r){throw new t(r)}const h={RECORDER_SOPRANO_BAROQUE:n,RECORDER_SOPRANO_GERMAN:e,RECORDER_ALTO_BAROQUE:a,RECORDER_ALTO_GERMAN:s,values:d,DEFAULT:u,isValid:l,check:f,raiseError:p}},309617:(C,P,c)=>{c.d(P,{A:()=>D});var g=c(141624),t=c(464173),o=c(365340),n=c(301696),e=c(476943);const a=g.A.ABOVE,s="$adagio-kind";function d(_){return u(_)}function u(_){return typeof _.root!="undefined"}function l(_){return o.default.hasStringOrContentOrArray(_.function)}function f(_){return l(_)}function p(_,y){const S=h(_),x=h(y);return S-x}function h(_){return _["$adagio-location"].timePos}function r(_){return _["$adagio-location"].dpq}function i(_,y){M(_),_["$adagio-location"].timePos=y}function O(_,y){M(_),_["$adagio-location"].dpq=y}function M(_){m(_)||(_["$adagio-location"]={})}function m(_){return typeof _["$adagio-location"]!="undefined"}function E(_){typeof _.$adagio=="undefined"&&(_.$adagio={})}function v(_,y){E(_),_.$adagio.harmonyUuid=y}function R(_){return _.$adagio.harmonyUuid}function B(_,y){_.noteBefore=y}function L(_){return parseInt(_.noteBefore,10)}function F(_){delete _.noteBefore,delete _.offset,_.staff="1",d(_)?_.$placement=g.A.ABOVE:_.$placement=g.A.BELOW}function V(_){_.forEach(function(y){delete y.noteBefore})}function G(_){if(!$(_))return!1;const y=I(_);return n.A.isSound(y)}function U(_,y){y===0?delete _.offset:_.offset=n.A.create(y,!0)}function $(_){return typeof _.offset!="undefined"}function j(_){const y=I(_);if(o.default.hasStringOrContent(y)){let S=o.default.stringOrContent(y);return S=parseInt(S,10),S}else return 0}function I(_){return _.offset}function N(_){return typeof _.$placement=="undefined"?a:_.$placement}function w(_){return typeof _.staff=="undefined"?0:parseInt(_.staff,10)-1}function K(_,y){_[s]=y}function H(_){return typeof _[s]!="undefined"}function X(_){return H(_)?_[s]:Q(_)}function Z(_){return o.default.hasStringOrContentOrArray(_.kind)}function Q(_){let y=ee(_);return y=o.default.stringOrContent(y),y===""&&(y=t.A.MAJOR),y}function ee(_){return _.kind}function k(_,y){const S=[];if(S.push(y),se(_)){const x=re(_);S.push(x)}o.default.setArray(_,"kind",S)}function J(_,y){const S=[];if(Z(_)){const x=Q(_);S.push(x)}else S.push({});S.push(y),_.kind=S}function se(_){const y=_.kind;return!e.default.isArray(y)||y.length<2?!1:o.default.hasStringOrContent(y[1])}function re(_){return o.default.stringOrContent(_.kind[1])}const D={isJazz:d,hasRoot:u,hasFunction:l,isClassic:f,compareTimePos:p,getTimePos:h,getDpq:r,setTimePos:i,setDpq:O,add$adagioLocationIfNeeded:M,has$adagioLocation:m,create$adagioIfNeeded:E,setHarmonyUuid:v,getHarmonyUuid:R,setNoteBefore:B,getNoteBefore:L,cleanRaw:F,cleanNoteBefore:V,hasSoundOffset:G,setOffset:U,hasOffset:$,getOffsetValue:j,getOffset:I,getPlacement:N,getStaffIdx:w,setAdagioKind:K,hasAdagioKind:H,getAdagioKind:X,hasKind:Z,getKindValue:Q,getKind:ee,setKind:k,setSecondaryKind:J,hasSecondaryKind:se,getSecondaryKind:re}},311510:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The glissando type [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadGlissandoTypeError",this.type=e}}},312616:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(341046);const t="yes",o={};o.hasValidValue=function(e){const a=o.getValue(e);return g.A.isValid(a)},o.getValue=function(e){return parseInt(e.content)},o.isNormal=function(e){return!o.isSubstitution(e)&&!o.isAlternate(e)},o.isSubstitution=function(e){return e.$substitution===t},o.isAlternate=function(e){return e.$alternate===t};const n=o},316826:(C,P,c)=>{c.d(P,{A:()=>f});var g=c(364842);const t="begin",o="continue",n="end",e="forward hook",a="backward hook",s=[t,o,n,e,a];function d(p){u(p)||l(p)}function u(p){return s.includes(p)}function l(p){const h=`The beam type [${p}] is invalid.`;throw new g.default("BadBeamType",h)}const f={BEGIN:t,CONTINUE:o,END:n,FORWARD:e,BACKWARD:a,values:s,assert:d,isValid:u,raiseError:l}},319731:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`The rebearsal type [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadRehearsalTypeError",this.type=i}}const e="auto",a="measure-number",s="custom",d=e,u=[e,a,s];function l(r){const i=`The rehearsal type value: [${r}] is invalid`;throw new g.default("BadRehearsalType",i)}function f(r){if(!p(r))throw new n(r)}function p(r){return u.includes(r)}const h={AUTO:e,MEASURE_NUMBER:a,CUSTOM:s,DEFAULT:d,values:u,raiseError:l,check:f,isValid:p}},330369:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(607682);class t extends g.default{constructor(e){const a=`The ${e} entity is not editable/removable.'`;super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TemplateLockedError",this.type=e}}Object.defineProperty(t,"NOTE",{enumerable:!0,configurable:!0,writable:!0,value:"note"});const o=t},341046:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);function t(s){return`The fingering value [${s}] is invalid. It must be an integer between 1 and 5.`}class o extends g.A{constructor(d){const u=t(d);super(u),Object.defineProperty(this,"fingering",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFingeringError",this.fingering=d}}var n=c(726042);const e={MAX:5,MIN:0};e.check=function(s){if(!e.isValid(s))throw new o(s)},e.isValid=function(s){return n.default.isInteger(s)&&e.MIN<=s&&s<=e.MAX};const a=e},346797:(C,P,c)=>{c.d(P,{A:()=>u});var g=c(909748),t=c(952818),o=c(717434),n=c(501696),e=c(515819);const a={};a.create=function(l,f,p,h){const r={};t.A.setTimePos(r,l),t.A.setDpq(r,f);const i=n.A.create(p,h),O=o.A.createTempoChange(i);return t.A.setEntry(r,O),r},a.compare=function(l,f){const p=a.getQuarterPos(l),h=a.getQuarterPos(f),r=p-h;if(r!==0)return r;const i=a.getType(l),O=a.getType(f);return s(i,O)};const s=function(l,f){return g.A.isStart(l)&&f===g.A.STOP?1:l===g.A.STOP&&g.A.isStart(f)?-1:0};a.isSame=function(l,f){if(!a.isSamePayload(l,f))return!1;const p=a.getQuarterPos(l),h=a.getQuarterPos(f);return p===h},a.isSamePayload=function(l,f){const p=a.getType(l),h=a.getType(f),r=a.getLocation(l),i=a.getLocation(f);return p===h&&r===i},a.getQuarterPos=function(l){const f=a.getTimePos(l),p=a.getDpq(l);return e.default.divisionsToQuarter(f,p)},a.getTimePos=function(l){return t.A.getTimePos(l)},a.getDpq=function(l){return t.A.getDpq(l)},a.getType=function(l){return t.A.getTempoChangeType(l)},a.isStart=function(l){const f=a.getType(l);return g.A.isStart(f)},a.isStop=function(l){const f=a.getType(l);return g.A.isStop(f)},a.getLocation=function(l){return t.A.getTempoChangeLocation(l)},a.isInstanceOf=function(l){return t.A.getEntries(l).some(d)};const d=function(l){if(!o.A.isTempoChange(l))return!1;const f=o.A.getTempoChange(l),p=n.A.getType(f);return g.A.isValidInternal(p)};a.getTempoChangeUuid=function(l){return t.A.getDirectionUuid(l)},a.setTempoChangeUuid=function(l,f){t.A.setDirectionUuid(l,f)};const u=a},351692:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(951066);class t extends g.A{constructor(a){const s=`The roman numeral alter value [${a}] is invalid. 'It must be an integer between [-1 and 1].`;super(s),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadRomanNumeralAlterError",this.alter=a}}const o={};o.DEFAULT=0,o.isValid=function(e){return e===0||e===1||e===-1},o.check=function(e){if(!o.isValid(e))throw new t(e)};const n=o},353922:(C,P,c)=>{c.d(P,{A:()=>ee});var g=c(951066);function t(k){return`The note head value ${k} is invalid. `}class o extends g.A{constructor(J){const se=t(J);super(se),Object.defineProperty(this,"notehead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadNoteheadError",this.notehead=J}}const n="normal",e="x",a="circle-x",s="diamond",d="slash",u="triangle",l="back slashed",f="slashed",p="square",h="cross",r="inverted triangle",i="arrow down",O="arrow up",M="do",m="re",E="mi",v="fa",R="fa up",B="so",L="la",F="ti",V="none",G="adagio-big-x",U=[n,e,a,s,d,u,l,f,p,h,r,i,O,M,m,E,v,R,B,L,F],$=[M,m,E,v,R,B,L,F],j=[n,e,s],I=[n,e,a,s,d,u,l,f,p,h,r,i,O,M,m,E,v,R,B,L,F];function N(k){return $.includes(k)}function w(k){return U.includes(k)}function K(k){if(!H(k))throw new o(k)}function H(k){return j.includes(k)}function X(k){if(!Z(k))throw new o(k)}function Z(k){return I.includes(k)}function Q(k){return U.indexOf(k)}const ee={NORMAL:n,X:e,X_CIRCLE:a,DIAMOND:s,SLASH:d,TRIANGLE:u,BACK_SLASHED:l,SLASHED:f,SQUARE:p,CROSS:h,INVERTED_TRIANGLE:r,ARROW_DOWN:i,ARROW_UP:O,DO:M,RE:m,MI:E,FA:v,FA_UP:R,SO:B,LA:L,TI:F,NONE:V,BIG_X:G,values:U,pitchShapes:$,PitchedNotehHeads:j,PercuNoteHeads:I,isPitchShape:N,isValid:w,checkPitched:K,isValidPitched:H,checkPercu:X,isValidPercu:Z,getNoteHeadIdx:Q}},359363:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);function t(){return"There are duplicates in the chord degrees."}class o extends g.A{constructor(){const d=t();super(d),this.name="DegreeDuplicateError"}}var n=c(74957);const e={};e.copy=function(s){return s.map(n.A.copy)},e.check=function(s){if(e.sort(s),e.hasDuplicate(s))throw new o;s.forEach(n.A.check)},e.isValid=function(s){return!(!s.every(n.A.isValid)||(e.sort(s),e.hasDuplicate(s)))},e.sort=function(s){s.sort(n.A.compare)},e.hasDuplicate=function(s){const d=s.length;for(let u=0;u+1<d;u++){const l=s[u],f=s[u+1],p=n.A.getValue(l),h=n.A.getValue(f);if(p===h)return!0}return!1},e.isSame=function(s,d){return s.length!==d.length?!1:!s.some((l,f)=>{const p=d[f];if(!n.A.isSame(l,p))return!0})};const a=e},360700:(C,P,c)=>{c.d(P,{A:()=>I});var g=c(364842),t=c(640231),o=c(294148),n=c(96410),e=c(351692),a=c(365340),s=c(476943),d=c(309617);const u="$adagio-alter";function l(N,w,K){return{function:N,kind:w,inversion:K.toString()}}function f(N){if(d.A.isJazz(N))return!1;const w=v(N);if(!o.A.isValid(w))return!1;const K=O(N);if(d.A.hasKind(N)){const H=d.A.getKindValue(N);if(!t.A.isSupported(H))return!1;const X=t.A.getNbNotes(H);if(!n.A.isValid(K,X))return!1}else if(!n.A.isValidAlone(K))return!1;return R(N)?p(N):!0}function p(N){const w=B(N);if(!o.A.isValid(w))return!1;const K=m(N);if(d.A.hasSecondaryKind(N)){const H=d.A.getSecondaryKind(N);if(!t.A.isSupported(H))return!1;const X=t.A.getNbNotes(H);if(!n.A.isValid(K,X))return!1}else if(!n.A.isValidAlone(K))return!1;return!0}function h(N){let w,K=v(N);if(d.A.hasKind(N))w=d.A.getKindValue(N),K=i(K,w),L(N,K);else{const H=O(N);w=t.A.infer(K,H),d.A.setKind(N,w)}R(N)&&r(N)}function r(N){let w,K=B(N);if(d.A.hasSecondaryKind(N))w=d.A.getSecondaryKind(N),K=i(K,w),F(N,K);else{const H=m(N);w=t.A.infer(K,H),d.A.setSecondaryKind(N,w)}}function i(N,w){const K=t.A.getCase(w);if(K===t.A.UPPER)N=N.toUpperCase();else if(K===t.A.LOWER)N=N.toLowerCase();else throw new g.default("Unexpected");return N}function O(N){return M(N)?a.default.numberOrContent(N.inversion):0}function M(N){return a.default.hasNumberOrContent(N.inversion)}function m(N){return E(N)?a.default.numberOrContent(N.inversion[1]):0}function E(N){const w=N.inversion;return!s.default.isArray(w)||w.length<2?!1:a.default.hasNumberOrContent(w[1])}function v(N){return a.default.stringOrContent(N.function)}function R(N){const w=N.function;return!s.default.isArray(w)||w.length<2?!1:a.default.hasStringOrContent(w[1])}function B(N){return a.default.stringOrContent(N.function[1])}function L(N,w){const K=[];if(K.push(w),R(N)){const H=B(N);K.push(H)}a.default.setArray(N,"function",K)}function F(N,w){const K=[];if(d.A.hasFunction(N)){const H=v(N);K.push(H)}else K.push({});K.push(w),N.function=K}function V(N,w){const K=[];if(M(N)){const H=O(N);K.push(H.toString())}else K.push("0");K.push(w.toString()),N.inversion=K}function G(N){if(typeof N[u]=="number")return N[u];if(s.default.isArray(N[u])){const w=N[u];if(w.length>0)return w[0]}return e.A.DEFAULT}function U(N,w){const K=N[u];!s.default.isArray(K)||K.length<2?N[u]=w:K[0]=w}function $(N){if(s.default.isArray(N[u])){const w=N[u];if(w.length>1)return w[1]}return e.A.DEFAULT}function j(N,w){const H=[G(N),w];N[u]=H}const I={createClassic:l,isValidClassic:f,normalizeClassic:h,getInversion:O,hasInversion:M,getSecondaryInversion:m,hasSecondaryInversion:E,getFunction:v,hasSecondaryFunction:R,getSecondaryFunction:B,setFunction:L,setSecondaryFunction:F,setSecondaryInversion:V,getAlter:G,setAlter:U,getSecondaryAlter:$,setSecondaryAlter:j,getGoodCaseChordFunction:i}},368495:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(97324),t=c(952818),o=c(717434),n=c(375950);const e={};e.create=function(u,l,f,p,h){const r={};t.A.setPlacement(r,l),t.A.setStaffIdx(r,u),t.A.setTimePos(r,f);const i=n.A.create(p,h),O=o.A.createPluckedRange(i);return t.A.setEntry(r,O),r},e.compare=function(u,l){const f=e.getQuarterPos(u),p=e.getQuarterPos(l),h=f-p;if(h!==0)return h;const r=e.getType(u),i=e.getType(l);return a(r,i)};const a=function(u,l){return g.A.isStart(u)&&l===g.A.STOP?1:u===g.A.STOP&&g.A.isStart(l)?-1:0};e.isSame=function(u,l){const f=e.getTimePos(u),p=e.getTimePos(l),h=e.getStaffIdx(u),r=e.getStaffIdx(l),i=e.getPlacement(u),O=e.getPlacement(l),M=e.getType(u),m=e.getType(l),E=e.getLocation(l),v=e.getLocation(u);return f===p&&h===r&&i===O&&M===m&&v===E},e.getTimePos=function(u){return t.A.getTimePos(u)},e.getType=function(u){return t.A.getPluckedRangeType(u)},e.getStaffIdx=function(u){return t.A.getStaffIdx(u)},e.getPlacement=function(u){return t.A.getPlacement(u)},e.isStart=function(u){const l=e.getType(u);return g.A.isStart(l)},e.isStop=function(u){const l=e.getType(u);return g.A.isStop(l)},e.getLocation=function(u){return t.A.getPluckedRangeLocation(u)},e.isInstanceOf=function(u){return t.A.getEntries(u).some(s)};const s=function(u){if(!o.A.isPluckedRange(u))return!1;const l=o.A.getPluckedRange(u),f=n.A.getType(l);return g.A.isValidInternal(f)};e.getPluckedRangeUuid=function(u){return t.A.getDirectionUuid(u)},e.setPluckedRangeUuid=function(u,l){t.A.setDirectionUuid(u,l)};const d=e},369790:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(364842);const t="start",o="stop",n=[t,o];function e(u){a(u)||s(u)}function a(u){return n.includes(u)}function s(u){const l=`Invalid value for hammer-on pull-off type: [${u}].`;throw new g.default("BadHammerOnPullOffTypeError",l)}const d={START:t,STOP:o,check:e,isValid:a,raiseError:s}},375950:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(97324);const t={};t.create=function(n,e){const a={$type:n};return t.check(a),typeof e!="undefined"&&t.setLocation(a,e),a},t.check=function(n){const e=t.getType(n);g.A.check(e)},t.copy=function(n){const e=t.getType(n),a=t.getLocation(n);return t.create(e,a)},t.getType=function(n){return n.$type},t.setLocation=function(n,e){n.$location=e},t.getLocation=function(n){return n.$location},t.hasLocation=function(n){return typeof n.$location!="undefined"};const o=t},376551:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n,e){return`The following length of staff-tuning [${n}] doest not match the number of staff-lines [${e}]`}class o extends g.A{constructor(e,a){const s=t(e,a);super(s),Object.defineProperty(this,"staffTuningLength",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"staffLines",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadStaffTuningNumberError",this.staffTuningLength=e,this.staffLines=a}}},378432:(C,P,c)=>{c.d(P,{A:()=>g});class g extends Error{constructor(o){const n=o||"The pitch setted is outside authorized range";super(n),this.name="PitchRangeError"}}},381216:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`The degree type [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadDegreeTypeError",this.type=i}}const e="add",a="alter",s="subtract",d=[e,a,s];function u(r){if(!p(r))throw new n(r)}function l(r){p(r)||f(r)}function f(r){const i=`The degree type [${r}] is invalid.`;throw new g.default("BadDegreeType",i)}function p(r){return d.includes(r)}const h={ADD:e,ALTER:a,SUBTRACT:s,values:d,check:u,assert:l,raiseError:f,isValid:p}},387617:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(364842);class t extends g.default{constructor(n,e){const a=`The time modification [${e}/${n}] is neither binary or ternary.`;super("UnsupportedTimeModifNormal",a),Object.defineProperty(this,"normal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"actual",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.normal=n,this.actual=e}}},417226:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(607682);class t extends g.default{constructor(){super("This operation is not possible on chord."),this.name="NotPossibleOnChordError"}}},423790:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(104907),t=c(627300),o=c(351277),n=c(377180),e=c(431043);function a(s,d){const u=g.default.getStaffTuningsLength(d),l=[];for(let f=1;f<=u;f++){const p=g.default.getShiftedTuningByString(d,f),h=t.default.toPitch(p),r=o.default.getTransposeDiff(s,h),i=n.default.getChromatic(r),O=n.default.getOctaveChange(r),M=i+O*n.default.NB_CHROMATIC;e.A.isValid(M)&&l.push({fret:M,string:f})}return l}},431043:(C,P,c)=>{c.d(P,{A:()=>e});var g=c(804963),t=c(726042);const o=36,n={};n.check=function(a){if(!n.isValid(a))throw new g.A("fret")},n.isValid=function(a){return t.default.isNumber(a)&&a>=0&&a<=o};const e=n},432712:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(364842),t=c(227829);class o{constructor(e){if(Object.defineProperty(this,"nbStaves",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e<0)throw new g.default("BadStaffNumber",`bad number of staves: [${e}]. `);this.nbStaves=e}checkStaffIdx(e){if(e<0||e>=this.nbStaves||typeof e!="number"){const a=`the staffIdx ${e} is out of bound [0 : ${this.nbStaves}[`;throw new g.default("BadStaffIdx",a)}}checkStaffInsertionIdx(e){if(e<0||e>this.nbStaves||typeof e!="number"){const a=`the staffIdx ${e} is out of bound [0 : ${this.nbStaves}]`;throw new g.default("BadStaffIdx",a)}}increase(){this.nbStaves++}decrease(){this.checkRemoveLast(),this.nbStaves--}checkRemoveLast(){if(this.nbStaves===1)throw new t.A(t.A.STAFF)}get(){return this.nbStaves}}},434243:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(364842);const t="+",o="sharp",n="flat",e="natural",a="flat-flat",s="sharp-sharp",d=[t,o,n,e,a,s];function u(h){l(h)||f(h)}function l(h){return d.includes(h)}function f(h){const r=`The figure prefix value [${h}] is invalid.`;throw new g.default("BadFigurePrefix",r)}const p={PLUS:t,SHARP:o,FLAT:n,NATURAL:e,FLATFLAT:a,SHARPSHARP:s,values:d,assert:u,isValid:l,raiseError:f}},435808:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`The slur placement [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadSlurPlacementError",this.placement=i}}const e="above",a="below",s="auto",d=[e,a,s],u=s;function l(r){if(!f(r))throw new n(r)}function f(r){return d.includes(r)}function p(r){const i=`Invalid value for slur placement: [${r}].`;throw new g.default("BadSlurPlacement",i)}const h={ABOVE:e,BELOW:a,AUTO:s,DEFAULT:u,values:d,check:l,isValid:f,raiseError:p}},446921:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(701387);const t={};t.getNbStaves=function(n){const e=t.getFirstMeasure(n);return g.default.has$adagio(e)?g.default.getNbStaves(e):g.default.getOwnNbStaves(e)},t.getWrappedStaffDetailsOrDefault=function(n){const e=t.getFirstMeasure(n);return g.default.getWrappedStaffDetailsOrDefault(e)},t.getWrappedClef=function(n){const e=t.getFirstMeasure(n);return g.default.getWrappedClef(e)},t.getFirstMeasure=function(n){return t.getMeasures(n)[0]},t.getNbMeasures=function(n){return t.getMeasures(n).length},t.getMeasures=function(n){return n.measure},t.getMeasure=function(n,e){return n.measure[e]},t.updateInstrumentsIds=function(n,e){t.getMeasures(n).forEach(function(s){g.default.updateInstrumentsIds(s,e)})},t.getInstrumentContext=function(n){const a=t.getMeasures(n)[0];return g.default.getInstrumentContext(a)},t.getId=function(n){return n.$id},t.setId=function(n,e){n.$id=e},t.hasUuid=function(n){return typeof n.uuid!="undefined"},t.setUuid=function(n,e){n.uuid=e},t.getUuid=function(n){return n.uuid},t.isKodaly=function(n){const e=t.getFirstMeasure(n);return g.default.isKodaly(e)},t.isTab=function(n){const e=t.getFirstMeasure(n);return g.default.isTab(e)},t.hasTuning=function(n){const e=t.getFirstMeasure(n);return g.default.hasStaffTuning(e)},t.hasTabFrame=function(n){const e=t.getFirstMeasure(n);return g.default.hasTabFrame(e)},t.hasSlur=function(n,e){return typeof t.getSlursMap(n)[e]!="undefined"},t.getSlur=function(n,e){return t.getSlursMap(n)[e]},t.addSlur=function(n,e){const a=t.getSlursMap(n);a[e.slurUuid]=e},t.removeSlur=function(n,e){const a=t.getSlursMap(n);delete a[e]},t.getSlursMap=function(n){return t.create$adagioIfNeeded(n),typeof n.$adagio.slursMap=="undefined"&&(n.$adagio.slursMap={}),n.$adagio.slursMap},t.hasWedge=function(n,e){return typeof t.getWedgesMap(n)[e]!="undefined"},t.getWedge=function(n,e){return t.getWedgesMap(n)[e]},t.addWedge=function(n,e){const a=t.getWedgesMap(n);a[e.wedgeUuid]=e},t.removeWedge=function(n,e){const a=t.getWedgesMap(n);delete a[e]},t.getWedgesMap=function(n){return t.create$adagioIfNeeded(n),typeof n.$adagio.wedgesMap=="undefined"&&(n.$adagio.wedgesMap={}),n.$adagio.wedgesMap},t.hasOctaveShift=function(n,e){return typeof t.getOctaveShiftsMap(n)[e]!="undefined"},t.getOctaveShift=function(n,e){return t.getOctaveShiftsMap(n)[e]},t.addOctaveShift=function(n,e){const a=t.getOctaveShiftsMap(n);a[e.octaveShiftUuid]=e},t.removeOctaveShift=function(n,e){const a=t.getOctaveShiftsMap(n);delete a[e]},t.getOctaveShiftsMap=function(n){return t.create$adagioIfNeeded(n),typeof n.$adagio.octaveShiftsMap=="undefined"&&(n.$adagio.octaveShiftsMap={}),n.$adagio.octaveShiftsMap},t.hasPluckedRange=function(n,e){return typeof t.getPluckedRangesMap(n)[e]!="undefined"},t.getPluckedRange=function(n,e){return t.getPluckedRangesMap(n)[e]},t.addPluckedRange=function(n,e){const a=t.getPluckedRangesMap(n);a[e.pluckedRangeUuid]=e},t.removePluckedRange=function(n,e){const a=t.getPluckedRangesMap(n);delete a[e]},t.getPluckedRangesMap=function(n){return t.create$adagioIfNeeded(n),typeof n.$adagio.pluckedRangesMap=="undefined"&&(n.$adagio.pluckedRangesMap={}),n.$adagio.pluckedRangesMap},t.hasPedal=function(n,e){return typeof t.getPedalsMap(n)[e]!="undefined"},t.getPedal=function(n,e){return t.getPedalsMap(n)[e]},t.addPedal=function(n,e){const a=t.getPedalsMap(n);a[e.pedalUuid]=e},t.removePedal=function(n,e){const a=t.getPedalsMap(n);delete a[e]},t.getPedalsMap=function(n){return t.create$adagioIfNeeded(n),typeof n.$adagio.pedalsMap=="undefined"&&(n.$adagio.pedalsMap={}),n.$adagio.pedalsMap},t.create$adagioIfNeeded=function(n){t.has$adagio(n)||t.create$adagio(n)},t.has$adagio=function(n){return typeof n.$adagio!="undefined"},t.create$adagio=function(n){n.$adagio={}};const o=t},447597:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The number of strings [${n}] for the frame is invalid.`;super(e),Object.defineProperty(this,"nbStrings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFrameNbStringsError",this.nbStrings=n}}},447819:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(956112),t=c(952818),o=c(717434),n=c(882934);const e={};e.create=function(s,d,u,l){const f={};t.A.setPlacement(f,d),t.A.setStaffIdx(f,s),t.A.setTimePos(f,u);const p=g.A.getText(l),h=o.A.createWord(p);t.A.setEntry(f,h);const r={};return n.A.setMute(r,l),t.A.setSound(f,r),f},e.isSame=function(s,d){const u=e.getTimePos(s),l=e.getTimePos(d),f=e.getStaffIdx(s),p=e.getStaffIdx(d),h=e.getPlacement(s),r=e.getPlacement(d),i=e.getType(s),O=e.getType(d);return u===l&&f===p&&h===r&&i===O},e.getTimePos=function(s){return t.A.getTimePos(s)},e.getStaffIdx=function(s){return t.A.getStaffIdx(s)},e.getPlacement=function(s){return t.A.getPlacement(s)},e.getType=function(s){const d=t.A.getSound(s);return n.A.getMute(d)},e.getUuid=function(s){return t.A.getDirectionUuid(s)},e.setUuid=function(s,d){t.A.setDirectionUuid(s,d)};const a=e},458057:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(726042),t=c(694426),o=c(951066);function n(u){return`the bend alter value [${u}] is invalid.`}class e extends o.A{constructor(l){const f=n(l);super(f),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBendAlterError",this.alter=l}}var a=c(364842);const s={};s.check=function(u,l){if(!s.isValid(u,l))throw new e(u)},s.isValid=function(u,l){return g.default.isInteger(u)?l===t.A.RELEASE?u===0||u===1:u===1||u===2:!1},s.raiseError=function(u){const l=`The bend alter value: [${u}] is invalid.`;throw new a.default("BadBendAlterError",l)};const d=s},460204:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(364842),t=c(951066);function o(s){return`the kodaly display type value [${s}] is invalid.`}class n extends t.A{constructor(d){const u=o(d);super(u),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadKodalyDoTypeError",this.type=d}}const e={FIXED:"fixed",MOVABLE:"movable"};e.values=[e.FIXED,e.MOVABLE],e.DEFAULT=e.MOVABLE,e.isValid=function(s){return e.values.includes(s)},e.check=function(s){if(!e.isValid(s))throw new n(s)},e.raiseError=function(s){const d=`The kodaly display type value: [${s}] is invalid.`;throw new g.default("BadKodalyDoTypeError",d)};const a=e},464173:(C,P,c)=>{c.d(P,{A:()=>fe});var g=c(907920);const t="power",o="suspended-fourth",n="suspended-second",e="adagio-sus-2-4",a="major",s="minor",d="augmented",u="diminished",l="adagio-major-2",f="adagio-minor-2",p="major-sixth",h="minor-sixth",r="adagio-6-9",i="adagio-minor-6-9",O="dominant",M="major-seventh",m="minor-seventh",E="major-minor",v="augmented-seventh",R="adagio-augmented-major-7",B="half-diminished",L="diminished-seventh",F="adagio-7-6",V="dominant-ninth",G="major-ninth",U="minor-ninth",$="adagio-minor-major-9",j="adagio-augmented-9",I="adagio-augmented-major-9",N="adagio-half-diminished-9",w="adagio-diminished-9",K="dominant-11th",H="major-11th",X="minor-11th",Z="adagio-minor-major-11",Q="adagio-augmented-11",ee="adagio-augmented-major-11",k="adagio-half-diminished-11",J="adagio-diminished-11",se="dominant-13th",re="major-13th",D="minor-13th",_="adagio-minor-major-13",y="adagio-augmented-13",S="adagio-augmented-major-13",x="adagio-half-diminished-13",z="adagio-diminished-13",q="Neapolitan",oe="Italian",ie="French",A="German",T="dominant",b="major-minor",W="half-diminished",Y=[t,n,o,a,s,d,u,O,p,h,M,m,L,v,B,E,V,G,U,K,H,X,se,re,D],te=[t,a,s,d,u,l,f,p,h,r,i,O,M,m,E,v,R,B,L,F,V,G,U,$,j,I,N,w,K,H,X,Z,Q,ee,k,J,se,re,D,_,y,S,x,z];function ae(ne){if(!ue(ne)&&![n,o].includes(ne))throw new g.A(ne)}function ue(ne){return te.includes(ne)}function de(ne){if(!ce(ne))throw new g.A(ne)}function ce(ne){return le(ne)}function le(ne){return Y.includes(ne)}const fe={POWER:t,SUS_4:o,SUS_2:n,SUS_24:e,MAJOR:a,MINOR:s,AUGMENTED:d,DIMINISHED:u,MAJOR_2:l,MINOR_2:f,MAJOR_6:p,MINOR_6:h,SIX_NINE:r,MINOR_69:i,DOMINANT_7:O,MAJOR_7:M,MINOR_7:m,MINOR_MAJOR_7:E,AUGMENTED_7:v,AUGMENTED_MAJOR_7:R,HALF_DIMINISHED_7:B,DIMINISHED_7:L,DOMINANT_7_6:F,DOMINANT_9:V,MAJOR_9:G,MINOR_9:U,MINOR_MAJOR_9:$,AUGMENTED_9:j,AUGMENTED_MAJOR_9:I,HALF_DIMINISHED_9:N,DIMINISHED_9:w,DOMINANT_11:K,MAJOR_11:H,MINOR_11:X,MINOR_MAJOR_11:Z,AUGMENTED_11:Q,AUGMENTED_MAJOR_11:ee,HALF_DIMINISHED_11:k,DIMINISHED_11:J,DOMINANT_13:se,MAJOR_13:re,MINOR_13:D,MINOR_MAJOR_13:_,AUGMENTED_13:y,AUGMENTED_MAJOR_13:S,HALF_DIMINISHED_13:x,DIMINISHED_13:z,NEAPOLITAN:q,ITALIAN:oe,FRENCH:ie,GERMAN:A,DOMINANT:T,MAJOR_MINOR:b,HALF_DIMINISHED:W,values:Y,jazzValues:te,checkJazz:ae,isSupportedJazz:ue,check:de,isSupported:ce,isValid:le}},473723:(C,P,c)=>{c.d(P,{A:()=>t});const g={};g.hasWedge=function(o){return typeof o.wedge!="undefined"},g.getWedge=function(o){return o.wedge},g.setWedge=function(o,n){o.wedge=n},g.removeWedge=function(o){delete o.wedge},g.hasPluckedRange=function(o){return typeof o.pluckedRange!="undefined"},g.getPluckedRange=function(o){return o.pluckedRange},g.setPluckedRange=function(o,n){o.pluckedRange=n},g.removePluckedRange=function(o){delete o.pluckedRange},g.hasSlur=function(o){return typeof o.slur!="undefined"},g.getSlur=function(o){return o.slur},g.setSlur=function(o,n){o.slur=n},g.removeSlur=function(o){delete o.slur},g.hasPedal=function(o){return typeof o.pedal!="undefined"},g.getPedal=function(o){return o.pedal},g.setPedal=function(o,n){o.pedal=n},g.removePedal=function(o){delete o.pedal},g.hasOctaveShift=function(o){return typeof o.octaveShift!="undefined"},g.getOctaveShift=function(o){return o.octaveShift},g.setOctaveShift=function(o,n){o.octaveShift=n},g.removeOctaveShift=function(o){delete o.octaveShift};const t=g},474072:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(819795),t=c(35802),o=c(364596),n=c(518558),e=c(721247),a=c(377180),s=c(104907);const d={},u=-1,l="$adagio-isFirst";d.markOwn=function(r){d.setNoteBeforeIdx(r,-1),d.setTimePos(r,0),d.setDpq(r,1)},d.isInitial=function(r){return d.getNoteBeforeIdx(r)===-1},d.getNoteBeforeIdx=function(r){return typeof r.noteBefore=="undefined"?u:parseInt(r.noteBefore,10)},d.setNoteBeforeIdx=function(r,i){r.noteBefore=i},d.setIsFirst=function(r,i){r[l]=i},d.mergeInto=function(r,i){if(t.default.hasNbStaves(i)&&!t.default.hasNbStaves(r)){const $=t.default.getNbStaves(i);t.default.setNbStaves(r,$)}if(t.default.hasDpq(i)&&!t.default.hasDpq(r)){const $=t.default.getDpq(i);t.default.setDpq(r,$)}const O=t.default.getTime(r);let M=t.default.getTime(i);M=M.map(f,n.default.copy),Array.prototype.push.apply(O,M),t.default.setTime(r,O);const m=t.default.getPersistedTime(r);let E=t.default.getPersistedTime(i);E=E.map(f,n.default.copy),Array.prototype.push.apply(m,E),t.default.setPersistedTime(r,m);const v=t.default.getClef(r);let R=t.default.getClef(i);R=R.map(f,e.default.copy),Array.prototype.push.apply(v,R),t.default.setClef(r,v);const B=t.default.getKey(r);let L=t.default.getKey(i);L=L.map(f,o.default.copy),Array.prototype.push.apply(B,L),t.default.setKey(r,B);const F=t.default.getTranspose(r);let V=t.default.getTranspose(i);V=V.map(f,a.default.copy),Array.prototype.push.apply(F,V),t.default.setTranspose(r,F);const G=t.default.getStaffDetails(r);let U=t.default.getStaffDetails(i);return U=U.map(f,s.default.copy),Array.prototype.push.apply(G,U),t.default.setStaffDetails(r,G),r};const f=function(r){return p(r,this)},p=function(r,i){const O=i(r);if(g.A.hasStaffIdx(r)){const M=g.A.getStaffIdx(r);g.A.setStaffIdx(O,M)}return O};d.getDpq=function(r){return r["$adagio-location"].dpq},d.setDpq=function(r,i){d.add$adagioLocationIfNeeded(r),r["$adagio-location"].dpq=i},d.getTimePos=function(r){return r["$adagio-location"].timePos},d.setTimePos=function(r,i){d.add$adagioLocationIfNeeded(r),r["$adagio-location"].timePos=i},d.add$adagioLocationIfNeeded=function(r){d.has$adagioLocation(r)||(r["$adagio-location"]={})},d.hasTimePos=function(r){return d.has$adagioLocation(r)?typeof r["$adagio-location"].timePos!="undefined":!1},d.has$adagioLocation=function(r){return typeof r["$adagio-location"]!="undefined"};const h=d},483139:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(607682);class t extends g.default{constructor(e,a){typeof a=="undefined"&&(a=t.GET);const s=`${a.msgPrefix} measure with the following Uuid ${e}`;super(s),Object.defineProperty(this,"measureUuid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadMeasureUuidError",this.measureUuid=e,this.action=a}}Object.defineProperty(t,"GET",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"There is no"}}),Object.defineProperty(t,"INSERT",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"Cannot insert"}});const o=t},485437:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The number of strings [${n}] for the frame is invalid.`;super(e),Object.defineProperty(this,"nbFrets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFrameNbFretsError",this.nbFrets=n}}},493528:(C,P,c)=>{c.d(P,{A:()=>u});var g=c(138717),t=c(724095),o=c(555247),n=c(141624);const e={},a=[{long:!0,approach:null,departure:null,type:o.A.LONG_INVERTED_MORDENT},{long:!0,approach:n.A.BELOW,departure:null,type:o.A.BELOW_APPROACH_INVERTED_MORDENT},{long:!0,approach:n.A.ABOVE,departure:null,type:o.A.ABOVE_APPROACH_INVERTED_MORDENT},{long:!0,approach:null,departure:n.A.BELOW,type:o.A.BELOW_DEPARTURE_INVERTED_MORDENT},{long:!0,approach:null,departure:n.A.ABOVE,type:o.A.ABOVE_DEPARTURE_INVERTED_MORDENT}];e.invertedMordentToDisplayType=function(l){const f=a.find(d,l);return typeof f!="undefined"?f.type:t.A.INVERTED_MORDENT};const s=[{long:!0,approach:null,departure:null,type:o.A.LONG_MORDENT},{long:!0,approach:n.A.BELOW,departure:null,type:o.A.BELOW_APPROACH_MORDENT},{long:!0,approach:n.A.ABOVE,departure:null,type:o.A.ABOVE_APPROACH_MORDENT}];e.mordentToDisplayType=function(l){const f=s.find(d,l);return typeof f!="undefined"?f.type:t.A.MORDENT};function d(l){const f=this,p=e.isLong(f),h=e.getApproach(f),r=e.getDeparture(f);return l.long===p&&l.approach===h&&l.departure===r}e.isLong=function(l){return l.$long===g.A.YES},e.getApproach=function(l){return e.hasApproach(l)?l.$approach:null},e.hasApproach=function(l){return typeof l.$approach!="undefined"},e.getDeparture=function(l){return e.hasDeparture(l)?l.$departure:null},e.hasDeparture=function(l){return typeof l.$departure!="undefined"};const u=e},494815:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(365340);const t={};t.hasDynamics=function(e){return g.default.hasArrayNotEmpty(e,"dynamics")},t.getDynamics=function(e){return g.default.getArray(e,"dynamics")},t.setDynamics=function(e,a){return g.default.setArrayStrict(e,"dynamics",a)},t.removeDynamics=function(e){delete e.dynamics},t.hasPizzicatos=function(e){return g.default.hasArrayNotEmpty(e,"pizzicatos")},t.getPizzicatos=function(e){return g.default.getArray(e,"pizzicatos")},t.setPizzicatos=function(e,a){return g.default.setArrayStrict(e,"pizzicatos",a)},t.removePizzicatos=function(e){delete e.pizzicatos};const o="mutes";t.hasMutes=function(e){return g.default.hasArrayNotEmpty(e,o)},t.getMutes=function(e){return g.default.getArray(e,o)},t.setMutes=function(e,a){return g.default.setArrayStrict(e,o,a)},t.removeMutes=function(e){delete e[o]},t.hasWords=function(e){return g.default.hasArrayNotEmpty(e,"words")},t.getWords=function(e){return g.default.getArray(e,"words")},t.setWords=function(e,a){return g.default.setArrayStrict(e,"words",a)},t.removeWords=function(e){delete e.words},t.hasPedals=function(e){return g.default.hasArrayNotEmpty(e,"pedals")},t.getPedals=function(e){return g.default.getArray(e,"pedals")},t.setPedals=function(e,a){return g.default.setArrayStrict(e,"pedals",a)},t.hasOctaveShifts=function(e){return g.default.hasArrayNotEmpty(e,"octaveShifts")},t.getOctaveShifts=function(e){return g.default.getArray(e,"octaveShifts")},t.setOctaveShifts=function(e,a){return g.default.setArrayStrict(e,"octaveShifts",a)},t.removeOctaveShifts=function(e){delete e.octaveShifts},t.hasWedges=function(e){return g.default.hasArrayNotEmpty(e,"wedges")},t.getWedges=function(e){return g.default.getArray(e,"wedges")},t.setWedges=function(e,a){return g.default.setArrayStrict(e,"wedges",a)},t.removeWedges=function(e){delete e.wedges},t.hasPluckedRanges=function(e){return g.default.hasArrayNotEmpty(e,"pluckedRanges")},t.getPluckedRanges=function(e){return g.default.getArray(e,"pluckedRanges")},t.setPluckedRanges=function(e,a){return g.default.setArrayStrict(e,"pluckedRanges",a)},t.removePluckedRanges=function(e){delete e.pluckedRanges},t.hasMiddleClefs=function(e){return g.default.hasArrayNotEmpty(e,"middleClefs")},t.getMiddleClefs=function(e){return g.default.getArray(e,"middleClefs")},t.setMiddleClefs=function(e,a){return g.default.setArrayStrict(e,"middleClefs",a)},t.removeMiddleClefs=function(e){delete e.middleClefs},t.hasMeasureRepeat=function(e){return typeof e.measureRepeat!="undefined"},t.getMeasureRepeat=function(e){return e.measureRepeat},t.setMeasureRepeat=function(e,a){e.measureRepeat=a},t.removeMeasureRepeat=function(e){delete e.measureRepeat},t.hasSlash=function(e){return typeof e.slash!="undefined"},t.getSlash=function(e){return e.slash},t.setSlash=function(e,a){e.slash=a},t.removeSlash=function(e){delete e.slash};const n=t},496819:(C,P,c)=>{c.d(P,{A:()=>e});var g=c(952818),t=c(717434),o=c(857546);const n={};n.create=function(a,s,d,u,l,f){const p={};g.A.setPlacement(p,s),g.A.setStaffIdx(p,a),g.A.setTimePos(p,d);const h=o.A.create(u,f),r=t.A.createDynamic(h);return g.A.setEntry(p,r),l!==null&&g.A.setSoundDynamic(p,l),p},n.isSame=function(a,s){const d=n.getTimePos(a),u=n.getTimePos(s),l=n.getStaffIdx(a),f=n.getStaffIdx(s),p=n.getPlacement(a),h=n.getOffsetX(a),r=n.getOffsetY(a),i=n.getPlacement(s),O=n.getStyle(a),M=n.getStyle(s),m=n.getSound(a),E=n.getSound(s),v=n.getOffsetX(s),R=n.getOffsetY(s);return d===u&&l===f&&p===i&&O===M&&m===E&&h===v&&r===R},n.getTimePos=function(a){return g.A.getTimePos(a)},n.getStaffIdx=function(a){return g.A.getStaffIdx(a)},n.getPlacement=function(a){return g.A.getPlacement(a)},n.getStyle=function(a){return g.A.getDisplayDynamicStyle(a)},n.hasSound=function(a){return g.A.hasSoundDynamic(a)},n.getSound=function(a){return g.A.getSoundDynamic(a)},n.setOffsetX=function(a,s){const d=g.A.getDisplayDynamic(a);o.A.setRelativePositionX(d,s)},n.setOffsetY=function(a,s){const d=g.A.getDisplayDynamic(a);o.A.setRelativePositionY(d,s)},n.getOffsetX=function(a){const s=g.A.getDisplayDynamic(a),d=o.A.getRelativePositionX(s);return d?Number(d):0},n.getOffsetY=function(a){const s=g.A.getDisplayDynamic(a),d=o.A.getRelativePositionY(s);return d?Number(d):0},n.getOffsetXForDisplay=function(a){return n.getOffsetX(a)},n.getOffsetYForDisplay=function(a){return-n.getOffsetY(a)},n.getDynamicUuid=function(a){return g.A.getDirectionUuid(a)},n.setDynamicUuid=function(a,s){g.A.setDirectionUuid(a,s)};const e=n},501696:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(909748);const t={};t.create=function(n,e){const a={$type:n};return t.check(a),typeof e!="undefined"&&t.setLocation(a,e),a},t.check=function(n){const e=t.getType(n);g.A.check(e)},t.copy=function(n){const e=t.getType(n),a=t.getLocation(n);return t.create(e,a)},t.getType=function(n){return n.$type},t.setLocation=function(n,e){n.$location=e},t.getLocation=function(n){return n.$location},t.hasLocation=function(n){return typeof n.$location!="undefined"};const o=t},505657:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(e){const a=o(e);super(a),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BadArticulationTypeError"}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=e}}const o=function(n){return`Articulation ${n} is invalid.`}},511872:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`the number of dots [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"nbDots",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadNbDotsError",this.nbDots=e}}},513318:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(364842),t=c(951066);function o(d){return`the voiceIdx value [${d}] is invalid.`}class n extends t.A{constructor(u){const l=o(u);super(l),Object.defineProperty(this,"voiceIdx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="InvalidVoiceIdxError",this.voiceIdx=u}}var e=c(726042);const a={};a.check=function(d){if(!a.isValid(d))throw new n(d)},a.assert=function(d){if(!a.isValid(d)){const u=`The voiceIdx [${d}] is invalid.`;throw new g.default("InvalidVoiceIdx",u)}},a.isValid=function(d){return e.default.isInteger(d)&&d>=0};const s=a},529355:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(951066);function t(h){return`The root step value [${h}] is invalid. `}class o extends g.A{constructor(r){const i=t(r);super(i),Object.defineProperty(this,"step",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadRootStepError",this.step=r}}function n(h){return`The root alter value [${h}] is invalid. It must be an integer between [-1 and 1].`}class e extends g.A{constructor(r){const i=n(r);super(i),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadRootAlterError",this.alter=r}}var a=c(606741),s=c(726042),d=c(365340),u=c(351277);const l={},f=0;l.check=function(h){const r=l.getStep(h);if(!l.isValidStep(r))throw new o(h["root-step"]);const i=l.getAlter(h);if(!l.isValidAlter(i))throw new e(h["root-alter"])},l.isValidStep=function(h){return a.default.isValid(h)},l.isValidAlter=function(h){return s.default.isInteger(h)&&h>=-2&&h<=2},l.isSame=function(h,r){const i=l.getStep(h),O=l.getStep(r);if(i!==O)return!1;const M=l.getAlter(h),m=l.getAlter(r);return M===m},l.copy=function(h){const r=l.getStep(h),i=l.getAlter(h);return l.create(r,i)},l.transpose=function(h,r){const i=l.getStep(h),O=l.getAlter(h),m=u.default.create(4,i,O),E=u.default.transpose(m,r),v=u.default.getStep(E),R=u.default.getAlter(E);return l.create(v,R)},l.getStep=function(h){const r=h["root-step"];return d.default.stringOrContent(r)},l.getAlter=function(h){let r=h["root-alter"];return d.default.hasStringOrContent(r)?(r=d.default.stringOrContent(r),r=parseInt(r,10),r):f},l.setStep=function(h,r){h["root-step"]=r},l.setAlter=function(h,r){h["root-alter"]=r.toString()},l.create=function(h,r){const i={"root-step":h};return r!==f&&typeof r!="undefined"&&(i["root-alter"]=r.toString()),i};const p=l},533007:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(476943),t=c(890439);const o={};o.setHeadCssClassesSet=function(u,l){u.headCssClassesSet=l},o.hasHeadCssClassesSet=function(u){return typeof u.headCssClassesSet!="undefined"},o.getHeadCssClassesStr=function(u){if(o.hasHeadCssClassesSet(u)){const l=u.headCssClassesSet;return t.Ay.toList(l).join("")}else return""};const n=o,e={};e.setGlobalCssClassesSet=function(u,l){u.globalCssClassesSet=l},e.hasGlobalCssClassesSet=function(u){return typeof u.globalCssClassesSet!="undefined"},e.getGlobalCssClassesStr=function(u){if(e.hasGlobalCssClassesSet(u)){const l=u.globalCssClassesSet;return t.Ay.toList(l).join("")}else return""};const a=e,s={};s.setHeadCssClassesSet=function(u,l){const f=s.getHead(u);n.setHeadCssClassesSet(f,l),s.setHead(u,f)},s.getHeadCssClassesStr=function(u){const l=s.getHead(u);return n.getHeadCssClassesStr(l)},s.setHead=function(u,l){g.default.isObjectEmpty(l)?delete u.head:u.head=l},s.hasHead=function(u){return typeof u.head!="undefined"},s.getHead=function(u){return s.hasHead(u)?u.head:{}},s.setGlobalCssClassesSet=function(u,l){const f=s.getCommon(u);a.setGlobalCssClassesSet(f,l),s.setCommon(u,f)},s.getGlobalCssClassesStr=function(u){const l=s.getCommon(u);return a.getGlobalCssClassesStr(l)},s.setCommon=function(u,l){g.default.isObjectEmpty(l)?delete u.common:u.common=l},s.hasCommon=function(u){return typeof u.common!="undefined"},s.getCommon=function(u){return s.hasCommon(u)?u.common:{}};const d=s},533296:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(915033);const t={};t.hasStart=function(n){return n.some(g.A.isStart)},t.hasStop=function(n){return n.some(g.A.isStop)},t.addStop=function(n){const e=g.A.createStop();n.unshift(e)},t.addStart=function(n){const e=g.A.createStart();n.push(e)},t.addTie=function(n,e){n.push(e)},t.removeStart=function(n){const e=n.findIndex(g.A.isStart);e>=0&&n.splice(e,1)},t.removeStop=function(n){const e=n.findIndex(g.A.isStop);e>=0&&n.splice(e,1)},t.copy=function(n){return n.map(g.A.copy)};const o=t},536949:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(603581),t=c(952818),o=c(717434),n=c(882934);const e={};e.create=function(s,d,u,l){const f={};t.A.setPlacement(f,d),t.A.setStaffIdx(f,s),t.A.setTimePos(f,u);const p=g.A.getText(l),h=o.A.createWord(p);t.A.setEntry(f,h);const r={};return n.A.setPizzicato(r,l),t.A.setSound(f,r),f},e.isSame=function(s,d){const u=e.getTimePos(s),l=e.getTimePos(d),f=e.getStaffIdx(s),p=e.getStaffIdx(d),h=e.getPlacement(s),r=e.getPlacement(d),i=e.getType(s),O=e.getType(d);return u===l&&f===p&&h===r&&i===O},e.getTimePos=function(s){return t.A.getTimePos(s)},e.getStaffIdx=function(s){return t.A.getStaffIdx(s)},e.getPlacement=function(s){return t.A.getPlacement(s)},e.getType=function(s){const d=t.A.getSound(s);return n.A.getPizzicato(d)},e.getPizzicatoUuid=function(s){return t.A.getDirectionUuid(s)},e.setPizzicatoUuid=function(s,d){t.A.setDirectionUuid(s,d)};const a=e},555172:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(269032),t=c(719476);const o={};o.validStyle=["regular","dotted","dashed","heavy","light-light","light-heavy","heavy-light","heavy-heavy","tick","none"],o.validSingleStyles=["regular","dotted","dashed","heavy","light","tick","none"],o.supportedSingleStyles=["regular","heavy","light","tick"],o.supportedDoubleStyles=["light-light","light-heavy","heavy-light","heavy-heavy"],o.validLocation=["left","right","middle"],o.RIGHT="right",o.LEFT="left",o.DEFAULT_LOCATION=o.RIGHT,o.DEFAULT_STYLE="regular",o.POS_FIRST="first",o.POS_SECOND="second",o.BACKWARD="light-heavy",o.FORWARD="heavy-light",o.DOUBLE_LIGHT="light-light",o.FINAL="light-heavy",o.isValidStyle=function(e){return o.validStyle.indexOf(e)>=0},o.isSupportedStyle=function(e){return o.supportedSingleStyles.includes(e)||o.supportedDoubleStyles.includes(e)},o.isValidLocation=function(e){return o.validLocation.indexOf(e)>=0},o.getLocation=function(e){return o.hasLocation(e)?e.$location:o.DEFAULT_LOCATION},o.hasLocation=function(e){return typeof e.$location!="undefined"},o.isSpecific=function(e){return o.getStyle(e)!==o.DEFAULT_STYLE},o.getStyle=function(e){return o.hasStyle(e)?e["bar-style"]:o.DEFAULT_STYLE},o.hasStyle=function(e){return typeof e["bar-style"]!="undefined"},o.setStyle=function(e,a){e["bar-style"]=a},o.createDefaultBarline=function(){const e=o.DEFAULT_LOCATION,a=o.DEFAULT_STYLE;return o.createBarline(e,a)},o.createBackwardRepeat=function(e){const a=o.RIGHT,s=o.BACKWARD,d=o.createBarline(a,s);return g.A.createRepeat(d,g.A.DIRECTION_BACKWARD,e)},o.createForwardRepeat=function(){const e=o.LEFT,a=o.FORWARD,s=o.createBarline(e,a);return g.A.createRepeat(s,g.A.DIRECTION_FORWARD)},o.createFinalBarline=function(){const e=o.RIGHT;return o.createBarline(e,"light-heavy")},o.isFinalBarline=function(e){return!(o.getStyle(e)!==o.FINAL||o.hasRepeatBackward(e))},o.create=function(e,a){return o.createBarline(e,a)},o.createBarline=function(e,a){return{$location:e,"bar-style":a}},o.isRight=function(e){return o.getLocation(e)===o.RIGHT},o.isLeft=function(e){return o.getLocation(e)===o.LEFT},o.hasRepeatForward=function(e){if(o.hasRepeat(e)){const a=o.getRepeat(e);return g.A.isForward(a)}else return!1},o.hasRepeatBackward=function(e){if(o.hasRepeat(e)){const a=o.getRepeat(e);return g.A.isBackward(a)}else return!1},o.hasRepeat=function(e){return typeof e.repeat!="undefined"},o.getRepeat=function(e){return e.repeat},o.removeRepeat=function(e){delete e.repeat},o.hasEnding=function(e){return typeof e.ending!="undefined"},o.removeEnding=function(e){delete e.ending},o.getEndingNumbers=function(e){const a=o.getEnding(e);return t.A.getNumbers(a)},o.getEnding=function(e){return e.ending},o.setEnding=function(e,a){e.ending=a},o.getTimePos=function(e){return e["$adagio-location"].timePos},o.getDpq=function(e){return e["$adagio-location"].dpq},o.getNoteBefore=function(e){return e.noteBefore},o.setTimePos=function(e,a){o.add$adagioLocationIfNeeded(e),e["$adagio-location"].timePos=a},o.setDpq=function(e,a){o.add$adagioLocationIfNeeded(e),e["$adagio-location"].dpq=a},o.add$adagioLocationIfNeeded=function(e){o.has$adagioLocation(e)||(e["$adagio-location"]={})},o.has$adagioLocation=function(e){return typeof e["$adagio-location"]!="undefined"},o.setNoteBefore=function(e,a){e.noteBefore=a};const n=o},555247:(C,P,c)=>{c.d(P,{A:()=>t});const t={TREMOLO1:"tremolo1",TREMOLO2:"tremolo2",TREMOLO3:"tremolo3",TREMOLO4:"tremolo4",TREMOLO5:"tremolo5",LONG_MORDENT:"long-mordent",LONG_INVERTED_MORDENT:"long-inverted-mordent",ABOVE_APPROACH_MORDENT:"above-approach-mordent",BELOW_APPROACH_MORDENT:"below-approach-mordent",ABOVE_APPROACH_INVERTED_MORDENT:"above-approach-inverted-mordent",BELOW_APPROACH_INVERTED_MORDENT:"below-approach-inverted-mordent",ABOVE_DEPARTURE_INVERTED_MORDENT:"above-departure-inverted-mordent",BELOW_DEPARTURE_INVERTED_MORDENT:"below-departure-inverted-mordent"}},558280:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(612040),t=c(995677),o=c(952818),n=c(717434),e=c(782615);const a={};a.createStart=function(d,u,l,f,p,h){const r=g.A.LEFT,i=a.create(d,u,l,f,r,h);return a.setNbNotes(i,p),i},a.createStop=function(d,u,l,f,p){const h=g.A.RIGHT;return a.create(d,u,l,f,h,p)},a.create=function(d,u,l,f,p,h){const r={};o.A.setPlacement(r,u),o.A.setStaffIdx(r,d),o.A.setTimePos(r,l);const i=e.A.create(p,f);typeof h!="undefined"&&e.A.setNumber(i,h);const O=n.A.createWedge(i);return o.A.setEntry(r,O),r},a.createRaw=function(d,u,l,f,p){const h={};o.A.setPlacement(h,u),o.A.setStaffIdx(h,d),o.A.setTimePos(h,l);const r=e.A.createRaw(f,p),i=n.A.createWedge(r);return o.A.setEntry(h,i),h},a.setNbNotes=function(d,u){const l=o.A.getWedge(d);e.A.setNbNotes(l,u)},a.isSame=function(d,u){const l=a.getTimePos(d),f=a.getTimePos(u),p=a.getStaffIdx(d),h=a.getStaffIdx(u),r=a.getPlacement(d),i=a.getPlacement(u),O=a.getType(d),M=a.getType(u),m=a.getLocation(u),E=a.getLocation(d),v=a.getNumber(d),R=a.getNumber(u);return l===f&&p===h&&r===i&&O===M&&E===m&&v===R},a.getTimePos=function(d){return o.A.getTimePos(d)},a.getStaffIdx=function(d){return o.A.getStaffIdx(d)},a.getPlacement=function(d){return o.A.getPlacement(d)},a.getType=function(d){const u=o.A.getWedge(d);return e.A.getType(u)},a.getRawType=function(d){const u=o.A.getWedge(d);return e.A.getRawType(u)},a.getLocation=function(d){const u=o.A.getWedge(d);return e.A.getLocation(u)},a.getNumber=function(d){const u=o.A.getWedge(d);return e.A.getNumber(u)},a.getNbNotes=function(d){const u=o.A.getWedge(d);return e.A.getNbNotes(u)},a.hasNbNotes=function(d){const u=o.A.getWedge(d);return e.A.hasNbNotes(u)},a.fillStartTagInternalValues=function(d,u,l){const f=o.A.getWedge(d);e.A.fillStartTagInternalValues(f,u,l)},a.fillStopTagInternalValues=function(d,u){const l=o.A.getWedge(d);e.A.fillStopTagInternalValues(l,u)},a.isRawStart=function(d){const u=a.getRawType(d);return t.A.isStart(u)},a.isRawStop=function(d){const u=a.getRawType(d);return t.A.isStop(u)},a.isRaw=function(d){const u=o.A.getWedge(d);return!e.A.has$adagio(u)},a.isLeft=function(d){const u=o.A.getWedge(d);return e.A.isLeft(u)},a.isRight=function(d){const u=o.A.getWedge(d);return e.A.isRight(u)},a.compare=function(d,u){const l=a.getTimePos(d),f=a.getTimePos(u);if(l!==f)return l-f;const p=a.getNumber(d),h=a.getNumber(u);if(p!==h)return p-h;if(a.isRaw(d)||a.isRaw(u)){if(a.isRawStop(d)&&a.isRawStart(u))return-1;if(a.isRawStart(d)&&a.isRawStop(u))return 1}else{if(a.isRight(d)&&a.isLeft(u))return-1;if(a.isLeft(d)&&a.isRight(u))return 1}return 0},a.getWedgeUuid=function(d){return o.A.getDirectionUuid(d)},a.setWedgeUuid=function(d,u){o.A.setDirectionUuid(d,u)};const s=a},561248:(C,P,c)=>{c.d(P,{A:()=>f});var g=c(319731);const t="$adagio-type";function o(p){const h=s(p),r=l(p);return e(h,r)}function n(p){return e(p,g.A.DEFAULT)}function e(p,h){return{content:p,[t]:h}}function a(p,h){const r=s(p),i=s(h),O=l(p),M=l(h);return O===M&&r===i}function s(p){return p.content}function d(p){return l(p)===g.A.AUTO}function u(p){return l(p)===g.A.MEASURE_NUMBER}function l(p){return typeof p[t]=="undefined"?g.A.DEFAULT:p[t]}const f={copy:o,createWithDefaultType:n,create:e,isSame:a,getText:s,isAuto:d,isMeasureNumber:u,getType:l}},564004:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The fret [${n}] in the frame note is invalid.`;super(e),Object.defineProperty(this,"fret",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFrameNoteFretError",this.fret=n}}},568357:(C,P,c)=>{c.d(P,{A:()=>l});var g=c(364842);const t="start",o="stop",n=[t,o];function e(f){return f===t}function a(f){return f===o}function s(f){d(f)||u(f)}function d(f){return n.includes(f)}function u(f){const p=`The start/stop value [${f}] is invalid.`;throw new g.default("BadStartStop",p)}const l={START:t,STOP:o,isStart:e,isStop:a,assert:s,isValid:d,raiseError:u}},575502:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(140887),t=c(951066);class o extends t.A{constructor(){super("the brass fingering value is invalid/missing."),this.name="BadBrassFingeringError"}}function n(u){return u||(u=g.A.DEFAULT),{instrument:u}}function e(u){return u.instrument}function a(u,l){const f=e(u),p=e(l);return f===p}function s(u){if(typeof u!="object")throw new o;const l=e(u);g.A.check(l)}const d={create:n,getInstrument:e,isSame:a,check:s}},579102:(C,P,c)=>{c.d(P,{A:()=>E});var g=c(737903),t=c(838603),o=c(668674),n=c(187694);const e="measure-repeat",a="slash",s="multiple-rest";function d(v,R){v[e]=R}function u(v){return typeof v[e]!="undefined"}function l(v){if(!v[e])throw new Error("No measure repeat inside the measure style");return v[e]}function f(v,R){v[a]=R}function p(v){return typeof v[a]!="undefined"}function h(v){if(!v[a])throw new Error("No slash inside the measure style");return v[a]}function r(v,R){v[s]=R}function i(v){return typeof v[s]!="undefined"}function O(v){if(!v[s])throw new Error("No MMR inside the measure style");return v[s]}function M(v,R){if(u(v)){if(!u(R))return!1;const B=l(v),L=l(R);if(!t.A.isSame(B,L))return!1}else if(u(R))return!1;if(p(v)){if(!p(R))return!1;const B=h(v),L=h(R);if(!o.A.isSame(B,L))return!1}else if(p(R))return!1;if(i(v)){if(!i(R))return!1;const B=O(v),L=O(R);if(!n.A.isSame(B,L))return!1}else if(i(R))return!1;return!0}function m(v){const R={};if(u(v)){let B=l(v);B=(0,g.default)(B),R[e]=B}if(p(v)){let B=h(v);B=(0,g.default)(B),R[a]=B}if(i(v)){const B=O(v),L=n.A.getNbMeasures(B);R[s]=L.toString()}return R}const E={setMeasureRepeat:d,hasMeasureRepeat:u,getMeasureRepeat:l,setSlash:f,hasSlash:p,getSlash:h,setMultiMeasureRest:r,hasMultiMeasureRest:i,getMultiMeasureRest:O,isSame:M,copy:m}},584416:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(868743),t=c(952818),o=c(717434),n=c(234421);const e={};e.create=function(s,d,u,l,f){const p={};t.A.setPlacement(p,d),t.A.setStaffIdx(p,s),t.A.setTimePos(p,u);const h=n.A.create(l,f),r=o.A.createPedal(h);return t.A.setEntry(p,r),p},e.isSame=function(s,d){const u=e.getTimePos(s),l=e.getTimePos(d),f=e.getStaffIdx(s),p=e.getStaffIdx(d),h=e.getPlacement(s),r=e.getPlacement(d),i=e.getLocation(d),O=e.getLocation(s),M=e.getType(s),m=e.getType(d);return u===l&&f===p&&h===r&&O===i&&M===m},e.getTimePos=function(s){return t.A.getTimePos(s)},e.getStaffIdx=function(s){return t.A.getStaffIdx(s)},e.getPlacement=function(s){return t.A.getPlacement(s)},e.isStart=function(s){const d=t.A.getPedalType(s);return g.A.isStart(d)},e.isStop=function(s){const d=t.A.getPedalType(s);return g.A.isStop(d)},e.compare=function(s,d){const u=e.getTimePos(s),l=e.getTimePos(d);return u!==l?u-l:e.isStop(s)&&e.isStart(d)?-1:e.isStart(s)&&e.isStop(d)?1:0},e.getType=function(s){return t.A.getPedalType(s)},e.getLocation=function(s){return t.A.getPedalLocation(s)},e.getPedalUuid=function(s){return t.A.getDirectionUuid(s)},e.setPedalUuid=function(s,d){t.A.setDirectionUuid(s,d)};const a=e},589501:(C,P,c)=>{c.d(P,{A:()=>j});var g=c(951066);class t extends g.A{constructor(){super("The figured bass data is empty."),this.name="EmptyFiguresData"}}class o extends g.A{constructor(N){const w=`The figure number value [${N}] appears twice.`;super(w),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DuplicateFigureNumber"}),Object.defineProperty(this,"number",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.number=N}}var n=c(364842),e=c(365340),a=c(434243),s=c(808988);class d extends g.A{constructor(N){const w=`The figure number value [${N}] is invalid.`;super(w),Object.defineProperty(this,"number",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="InvalidFigureNumber",this.number=N}}var u=c(726042);const l=1,f=19;function p(I){h(I)||r(I)}function h(I){return u.default.isInteger(I)&&I>=l&&I<=f}function r(I){const N=`The figure number value [${I}] is invalid.`;throw new n.default("BadFigureNumber",N)}function i(I){if(!h(I))throw new d(I)}const O={MIN:l,MAX:f,assert:p,isValid:h,raiseError:r,check:i};class M extends g.A{constructor(N){const w=`The figure alter value [${N}] is invalid.`;super(w),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="InvalidFigureAlter",this.alter=N}}class m extends g.A{constructor(){super("The figure data entry is empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyFigureData"})}}const E="figure-number",v="prefix",R="suffix",B={};B.hasNumber=function(I){return e.default.hasNumberOrContent(I[E])},B.getNumber=function(I){return e.default.numberOrContent(I[E])},B.hasAlter=function(I){return!!(B.hasSupportedPrefix(I)||B.hasSupportedSuffix(I))},B.hasSupportedPrefix=function(I){if(!B.hasPrefix(I))return!1;const N=B.getPrefix(I);return a.A.isValid(N)},B.hasPrefix=function(I){return e.default.hasStringOrContent(I[v])},B.getPrefix=function(I){return e.default.stringOrContent(I[v])},B.hasSupportedSuffix=function(I){if(!B.hasSuffix(I))return!1;const N=B.getSuffix(I);return s.A.isValid(N)},B.hasSuffix=function(I){return e.default.hasStringOrContent(I[R])},B.getSuffix=function(I){return e.default.stringOrContent(I[R])},B.getAlter=function(I){if(B.hasSupportedPrefix(I))return B.getPrefix(I);if(B.hasSupportedSuffix(I))return B.getSuffix(I);throw new n.default("No alter available")},B.create=function({number:I,alter:N}){const w={};if(I&&(w[E]=I.toString()),N)if(s.A.isValid(N))w[R]=N;else if(a.A.isValid(N))w[v]=N;else throw new n.default("Inalid alter");return w},B.getData=function(I){const N={};if(B.hasAlter(I)){const w=B.getAlter(I);N.alter=w}if(B.hasNumber(I)){const w=B.getNumber(I);N.number=w}return N},B.isValid=function(I){let N=!1,w=!1;if(B.hasNumber(I)){N=!0;const K=B.getNumber(I);if(!O.isValid(K))return!1}return B.hasAlter(I)&&(w=!0),N||w},B.copy=function(I){const N=B.getData(I);return B.create(N)},B.checkData=function(I){if(!I.number&&!I.alter)throw new m;I.number&&O.check(I.number),I.alter&&B.checkAlter(I.alter)},B.checkAlter=function(I){if(!a.A.isValid(I)&&!s.A.isValid(I))throw new M(I)};const L=B,F="figure",V={};V.isSupported=function(I){return V.isValid(I)},V.isValid=function(I){return V.getFigures(I).some(L.isValid)},V.getFigures=function(I){return e.default.getArray(I,F)},V.create=function(I){const N=I.map(L.create),w={};return w[F]=N,w},V.copy=function(I){const N=V.getFiguresData(I);return V.create(N)},V.normalize=function(I){let N=V.getFigures(I);N=N.filter(L.isValid);let w=N.map(L.getData);const K={};w=w.filter(G,K),N=w.map(L.create),e.default.setArray(I,F,N)};function G(I){const N=this,w=U(I);return N[w]===!0?!1:(N[w]=!0,!0)}function U(I){return typeof I.number=="number"?I.number:3}V.getFiguresData=function(I){return V.getFigures(I).map(L.getData)},V.getNoteBefore=function(I){return parseInt(I.noteBefore,10)},V.setUuid=function(I,N){V.create$adagioIfNeeded(I),I.$adagio.figuredBassUuid=N},V.getUuid=function(I){return I.$adagio.figuredBassUuid},V.hasOffset=function(){return!1},V.getTimePos=function(I){return I["$adagio-location"].timePos},V.getDpq=function(I){return I["$adagio-location"].dpq},V.compareTimePos=function(I,N){const w=V.getTimePos(I),K=V.getTimePos(N);return w-K},V.setTimePos=function(I,N){V.add$adagioLocationIfNeeded(I),I["$adagio-location"].timePos=N},V.setDpq=function(I,N){V.add$adagioLocationIfNeeded(I),I["$adagio-location"].dpq=N},V.setTimePos=function(I,N){V.add$adagioLocationIfNeeded(I),I["$adagio-location"].timePos=N},V.add$adagioLocationIfNeeded=function(I){V.has$adagioLocation(I)||(I["$adagio-location"]={})},V.has$adagioLocation=function(I){return typeof I["$adagio-location"]!="undefined"},V.create$adagioIfNeeded=function(I){typeof I.$adagio=="undefined"&&(I.$adagio={})},V.checkFiguresData=function(I){if(I.length===0)throw new t;I.forEach(L.checkData);const N={};I.forEach($,N)};function $(I){const N=this,w=U(I);if(N[w]===!0)throw new o(w);return N[w]=!0,!0}const j=V},595382:(C,P,c)=>{c.d(P,{A:()=>l});var g=c(364842),t=c(606741),o=c(351277),n=c(364596),e=c(377180),a=c(859418);const s={};s.switchEnharmonic=function(f,p){const h=s.normalize(f,p);if(!o.default.isSamePitch(f,h))return h;const r=s.getAlterDiff(f,p);if(r!==0){const M=e.default.createDefault();return e.default.setDiatonic(M,r),f=o.default.transpose(f,M,!0),f}const i=o.default.getStep(f);let O=s.getChromaticShift(i,1,p);return O===1?(f=d(f),f):(O=s.getChromaticShift(i,-1,p),O===-1&&(f=u(f)),f)},s.shiftDiatonicUp=function(f,p){const h=o.default.getStep(f),r=s.getChromaticShift(h,1,p),i=s.getAlterDiff(f,p),O=e.default.create(r-i);return e.default.setDiatonic(O,1),f=o.default.transpose(f,O,!0),f},s.shiftDiatonicDown=function(f,p){const h=o.default.getStep(f),r=s.getChromaticShift(h,-1,p),i=s.getAlterDiff(f,p),O=e.default.create(r-i);return e.default.setDiatonic(O,-1),f=o.default.transpose(f,O,!0),f},s.shiftHalfToneUp=function(f,p){f=s.normalize(f,p);let h=s.getAlterDiff(f,p);h++;const r=e.default.create(1),i=o.default.getStep(f),O=s.getChromaticShift(i,1,p);return h>=O&&e.default.setDiatonic(r,1),f=o.default.transpose(f,r,!0),f},s.shiftHalfToneDown=function(f,p){f=s.normalize(f,p);let h=s.getAlterDiff(f,p);h--;const r=e.default.create(-1),i=o.default.getStep(f),O=s.getChromaticShift(i,-1,p);return h<=O&&e.default.setDiatonic(r,-1),f=o.default.transpose(f,r,!0),f},s.getChromaticShift=function(f,p,h){const r=n.default.getTonic(h),i=o.default.getStep(r);let O=t.default.getStepIdx(f);const M=t.default.getStepIdx(i);O-=M;const m=t.default.getSize();return O<0&&(O+=m),f=t.default.idxToStep(O),a.default.getChromaticShift(f,p)},s.normalize=function(f,p){return f=s.normalizeFromKey(f,p),f=s.normalizeFromInterval(f,p),f},s.normalizeFromKey=function(f,p){let h=s.getAlterDiff(f,p);return h>1?f=d(f):h<-1&&(f=u(f)),h=s.getAlterDiff(f,p),h>1?f=d(f):h<-1&&(f=u(f)),f},s.normalizeFromInterval=function(f,p){const h=s.getAlterDiff(f,p);let r;const i=o.default.getStep(f);if(h===1||h===.5)return r=s.getChromaticShift(i,1,p),r===1&&(f=d(f)),f;if(h===-1||h===-.5)return r=s.getChromaticShift(i,-1,p),r===-1&&(f=u(f)),f;if(h===0)return f;throw new g.default("Unexpected")},s.getAlterDiff=function(f,p){const h=o.default.getStep(f),r=n.default.getFifths(p),i=o.default.stepToAlter(h,r);return o.default.getAlter(f)-i};const d=function(f){const p=e.default.createDefault();return e.default.setDiatonic(p,1),f=o.default.transpose(f,p,!0),f},u=function(f){const p=e.default.createDefault();return e.default.setDiatonic(p,-1),f=o.default.transpose(f,p,!0),f},l=s},596114:(C,P,c)=>{c.d(P,{A:()=>g});class g extends Error{constructor(o){super(o),this.name="WTFError"}}},603581:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`The pizzicato type [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadPizzicatoTypeError",this.type=i}}const e="yes",a="no",s=[e,a],d=new Map([[e,"pizz."],[a,"arco"]]);function u(r){if(!l(r))throw new n(r)}function l(r){return s.includes(r)}function f(r){const i=d.get(r);if(typeof i=="undefined")throw p(r);return i}function p(r){const i=`The mute type value: [${r}] is invalid.`;throw new g.default("BadMuteTypeError",i)}const h={PIZZICATO:e,ARCO:a,values:s,check:u,isValid:l,getText:f,raiseError:p}},607801:(C,P,c)=>{c.d(P,{A:()=>F});var g=c(951066);function t(V){return`The sound type [${V}] is invalid.`}class o extends g.A{constructor(G){const U=t(G);super(U),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadSoundTypeError",this.type=G}}var n=c(364842);class e extends n.default{constructor(G){const U=`The jump call value \`${G} is invalid.\``;super("BadJumpCall",U),Object.defineProperty(this,"jumpCall",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.jumpCall=G}}const a="segno",s="coda",d="dalsegno",u="dacapo",l="fine",f="tocoda",p=[a,d,s,u,l,f],h=[a,s],r=[d,u,l,f];function i(V){return p.includes(V)}function O(V){return h.includes(V)}function M(V){return r.includes(V)}function m(V){return V===d||V===u}function E(V){return V===l||V===f}function v(V){if(!i(V))throw new o(V)}function R(V){if(!O(V))throw new o(V)}function B(V){if(!M(V))throw new o(V)}function L(V){throw new e(V)}const F={SEGNO:a,CODA:s,DALSEGNO:d,DACAPO:u,FINE:l,TOCODA:f,values:p,tagValues:h,callValues:r,isValid:i,isTagValid:O,isCallValid:M,isJumpBackward:m,isJumpForward:E,check:v,tagCheck:R,callCheck:B,raiseBadJumpCall:L}},612040:(C,P,c)=>{c.d(P,{A:()=>r});var g=c(364842);const t="left",o="right",n="left-continue",e="right-continue",a=[t,n,o,e];function s(i){return a.includes(i)}function d(i){s(i)||h(i)}function u(i){return i===t||i===n}function l(i){return i===o||i===e}function f(i){return i===t||i===o}function p(i){return i===n||i===e}function h(i){const O=`The wedge location [${i}] is invalid.`;throw new g.default("BadWedgeLocation",O)}const r={LEFT:t,RIGHT:o,LEFT_CONTINUE:n,RIGHT_CONTINUE:e,values:a,isValid:s,assert:d,isLeft:u,isRight:l,isMiddle:f,isContinue:p,raiseError:h}},613903:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`the harmony type value [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadHarmonyTypeError",this.type=i}}const e="explicit",a="implied",s="alternate",d=e,u=[e,a,s];function l(r){if(!f(r))throw new n(r)}function f(r){return u.includes(r)}function p(r){const i=`The harmony type value: [${r}] is invalid.`;throw new g.default("BadHarmonyTypeError",i)}const h={EXPLICIT:e,IMPLIED:a,ALTERNATE:s,DEFAULT:d,values:u,check:l,isValid:f,raiseError:p}},615428:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(607682);class t extends g.default{constructor(){super("This operation is not possible on singlenote."),this.name="NotPossibleOnSingleNoteError"}}},635707:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(951066),t=c(886190);function o(e){return`MIDI program value ${e} is invalid. It should be a positive integer between [1 and ${t.default.NB_MIDI_PROGRAMS}]`}class n extends g.A{constructor(a){const s=o(a);super(s),Object.defineProperty(this,"MIDIProgram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadMIDIProgramError",this.MIDIProgram=a}}},640231:(C,P,c)=>{c.d(P,{A:()=>I});var g=c(364842),t=c(907920),o=c(464173),n=c(294148);const e=o.A.MAJOR,a=o.A.MINOR,s=o.A.AUGMENTED,d=o.A.DIMINISHED,u=o.A.DOMINANT,l=o.A.MAJOR_7,f=o.A.MINOR_7,p=o.A.DIMINISHED_7,h=o.A.AUGMENTED_7,r=o.A.HALF_DIMINISHED,i=o.A.MAJOR_MINOR,O=o.A.NEAPOLITAN,M=o.A.ITALIAN,m=o.A.FRENCH,E=o.A.GERMAN,v="upper",R="lower",B=new Map([[e,{nbNotes:3,case:v}],[a,{nbNotes:3,case:R}],[s,{nbNotes:3,case:v}],[d,{nbNotes:3,case:R}],[O,{nbNotes:3,case:v}],[m,{nbNotes:3,case:v}],[M,{nbNotes:3,case:v}],[E,{nbNotes:3,case:v}],[u,{nbNotes:4,case:v}],[l,{nbNotes:4,case:v}],[f,{nbNotes:4,case:R}],[p,{nbNotes:4,case:R}],[h,{nbNotes:4,case:v}],[r,{nbNotes:4,case:R}],[i,{nbNotes:4,case:R}]]);function L(N){if(!F(N))throw new t.A(N)}function F(N){return V(N)}function V(N){return typeof B.get(N)!="undefined"}function G(N){const w=B.get(N);if(typeof w=="undefined")throw new g.default(`Classic chord kind ${N} is not supported`);return w.nbNotes}function U(N){const w=B.get(N);if(typeof w=="undefined")throw new g.default(`Classic chord kind ${N} is not supported`);return w.case}function $(N){return N===o.A.ITALIAN||N===o.A.FRENCH||N===o.A.GERMAN}function j(N,w){if(w>2){if(n.A.isMajor(N))return u;if(n.A.isMinor(N))return f;throw new g.default("Unexpected")}else{if(n.A.isMajor(N))return e;if(n.A.isMinor(N))return a;throw new g.default("Unexpected")}}const I={MAJOR:e,MINOR:a,AUGMENTED:s,DIMINISHED:d,DOMINANT:u,MAJOR_7:l,MINOR_7:f,DIMINISHED_7:p,AUGMENTED_7:h,HALF_DIMINISHED:r,MAJOR_MINOR:i,NEAPOLITAN:O,ITALIAN:M,FRENCH:m,GERMAN:E,UPPER:v,LOWER:R,check:L,isSupported:F,isValid:V,getNbNotes:G,getCase:U,isAugmentedSixth:$,infer:j}},648920:(C,P,c)=>{c.d(P,{A:()=>U});var g=c(364842),t=c(316826);const o="$adagio-isTremolo";function n($){return u($)||l($)}function e($){return u($)||d($)}function a($){return s($)===0}function s($){return parseInt($.$number,10)-1}function d($){return f($)===t.A.BEGIN}function u($){return f($)===t.A.CONTINUE}function l($){return f($)===t.A.END}function f($){return $.content}function p($){return m($,t.A.BEGIN)}function h($){return m($,t.A.CONTINUE)}function r($){return m($,t.A.END)}function i($){const j=s($),I=f($);return m(j,I)}function O($,j){const I=s($),N=s(j);return I-N}function M($,j){$.$number=(j+1).toString()}function m($,j){return t.A.assert(j),{$number:($+1).toString(),content:j}}function E($){const j=f($);if(j===t.A.BEGIN||j===t.A.CONTINUE||j===t.A.END)return!0;if(j===t.A.FORWARD||j===t.A.BACKWARD)return!1;t.A.raiseError(j)}function v($,j){const I=f($),N=f(j);if(t.A.assert(N),N===t.A.BEGIN)return I===t.A.BEGIN||I===t.A.FORWARD;if(N===t.A.FORWARD)return I===t.A.FORWARD;if(N===t.A.END)return I===t.A.END||I===t.A.BACKWARD;if(N===t.A.BACKWARD)return I===t.A.BACKWARD;if(N===t.A.CONTINUE)return!0;t.A.raiseError(N)}function R($){const j=f($);return j===t.A.BEGIN||j===t.A.FORWARD}function B($){const j=f($);return j===t.A.END||j===t.A.BACKWARD}function L($,j){let I;$!==null?(I=f($),t.A.assert(I)):I=null;const N=j===null?null:f(j);if(N===null||N===t.A.FORWARD||N===t.A.BACKWARD||N===t.A.END)return I===null||I===t.A.BEGIN||I===t.A.FORWARD||I===t.A.BACKWARD;if(N===t.A.BEGIN)return I===t.A.END||I===t.A.CONTINUE;if(N===t.A.CONTINUE)return I===t.A.CONTINUE||I===t.A.END;t.A.raiseError(N)}function F($,j){const I=O($,j);if(I===0){const N="There should not be two beams with the same number.";throw new g.default("Unexpected",N)}else return I}function V($){$[o]=!0}function G($){return!!$[o]}const U={hasBackward:n,hasForward:e,isFirst:a,getNumber:s,isBegin:d,isContinue:u,isEnd:l,getType:f,createBegin:p,createContinue:h,createEnd:r,copy:i,compare:O,setNumber:M,create:m,isTopConsistent:E,isConsistentWithUpper:v,isConsistentBegin:R,isConsistentEnd:B,isConsistentWithLeft:L,compareSafe:F,setIsTremolo:V,isTremolo:G}},657335:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(723631),t=c(952818),o=c(717434),n=c(68990);const e={};e.create=function(s,d,u){const l={};t.A.setPlacement(l,g.A.ABOVE),t.A.setStaffIdx(l,0),t.A.setTimePos(l,0);const f=n.A.create(s,d,u),p=o.A.createMetronome(f);return t.A.setEntry(l,p),l},e.isInstanceOf=function(s){if(!t.A.hasMetronome(s))return!1;const d=t.A.getMetronome(s);return!!n.A.isValid(d)},e.getMetronome=function(s){return t.A.getMetronome(s)};const a=e},668674:(C,P,c)=>{c.d(P,{A:()=>i});var g=c(364842),t=c(568357),o=c(250769);const n="$use-stems";function e(){return{$type:t.A.STOP}}function a(O){O.$type=t.A.START}function s(O){return O[n]===o.A.YES}function d(O,M){const m=s(O),E=s(M);return m===E}function u(O,M){const m=s(O),E=s(M),v=r(O),R=r(M);return m===E&&v===R}function l(O){const M={};return s(O)&&(M[n]=o.A.YES),M}function f(O){const M={};return O&&(M[n]=o.A.YES),M}function p(O){const M=r(O);return t.A.isStart(M)}function h(O){const M=r(O);return t.A.isStop(M)}function r(O){if(typeof O.$type=="undefined")throw new g.default("MissingStartStop","The slash is missing the StartStop field.");return O.$type}const i={createStop:e,makeStart:a,isUsingStems:s,isSameWorking:d,isSame:u,copy:l,create:f,isStart:p,isStop:h,getType:r}},669038:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(607682);class t extends g.default{constructor(e,a){typeof a=="undefined"&&(a=t.GET);const s=`${a.msgPrefix} part with the following Uuid ${e}`;super(s),Object.defineProperty(this,"partUuid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadPartUuidError",this.partUuid=e,this.action=a}}Object.defineProperty(t,"GET",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"There is no"}}),Object.defineProperty(t,"INSERT",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"Cannot insert"}});const o=t},674411:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(971249);function t(u){return{$type:u}}function o(u){return u.$type}function n(u){const l=o(u);return g.A.hasLeftConnection(l)}function e(u){const l=o(u);return g.A.hasRightConnection(l)}function a(u){return o(u)===g.A.CONTINUE}function s(u){const l=o(u);return t(l)}const d={create:t,getType:o,hasLeftConnection:n,hasRightConnection:e,isContinued:a,copy:s}},681670:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(951066);function t(h){return`The bass step value [${h}] is invalid. `}class o extends g.A{constructor(r){const i=t(r);super(i),Object.defineProperty(this,"step",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBassStepError",this.step=r}}function n(h){return`The bass alter value [${h}] is invalid. It must be an integer between [-1 and 1].`}class e extends g.A{constructor(r){const i=n(r);super(i),Object.defineProperty(this,"alter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBassAlterError",this.alter=r}}var a=c(606741),s=c(365340),d=c(726042),u=c(351277);const l={},f=0;l.check=function(h){const r=l.getStep(h);if(!l.isValidStep(r))throw new o(h["bass-step"]);const i=l.getAlter(h);if(!l.isValidAlter(i))throw new e(h["bass-alter"])},l.isValidStep=function(h){return a.default.isValid(h)},l.isValidAlter=function(h){return d.default.isInteger(h)&&h>=-2&&h<=2},l.isSame=function(h,r){const i=l.getStep(h),O=l.getStep(r);if(i!==O)return!1;const M=l.getAlter(h),m=l.getAlter(r);return M===m},l.copy=function(h){const r=l.getStep(h),i=l.getAlter(h);return l.create(r,i)},l.transpose=function(h,r){const i=l.getStep(h),O=l.getAlter(h),m=u.default.create(4,i,O),E=u.default.transpose(m,r),v=u.default.getStep(E),R=u.default.getAlter(E);return l.create(v,R)},l.getStep=function(h){const r=h["bass-step"];return s.default.stringOrContent(r)},l.getAlter=function(h){let r=h["bass-alter"];return s.default.hasStringOrContent(r)?(r=s.default.stringOrContent(r),r=parseInt(r,10),r):f},l.setAlter=function(h,r){h["bass-alter"]=r.toString()},l.create=function(h,r){const i={"bass-step":h};return r!==f&&typeof r!="undefined"&&(i["bass-alter"]=r.toString()),i};const p=l},694426:(C,P,c)=>{c.d(P,{A:()=>r});var g=c(364842),t=c(951066);function o(i){return`the bend type value [${i}] is invalid.`}class n extends t.A{constructor(O){const M=o(O);super(M),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBendTypeError",this.type=O}}const e="bend",a="release",s="pre-bend",d=[e,a,s];function u(i){if(!f(i))throw new n(i)}function l(i){if(!p(i))throw new n(i)}function f(i){return i===e||i===a}function p(i){return d.includes(i)}function h(i){const O=`The bend type value: [${i}] is invalid.`;throw new g.default("BadBendTypeError",O)}const r={checkNotPreBend:u,check:l,isValidNotPreBend:f,isValid:p,raiseError:h,BEND:e,RELEASE:a,PRE_BEND:s}},706650:(C,P,c)=>{c.d(P,{A:()=>ie});var g=c(364842),t=c(601277),o=c(474976),n=c(724095),e=c(555247),a=c(129283),s=c(568357),d=c(476943),u=c(365340);const l=d.default.pairsToMap([{key:o.default.STACCATO,value:[o.default.TENUTO,o.default.STACCATISSIMO,o.default.STACCATO_TENUTO]},{key:o.default.TENUTO,value:[o.default.STACCATO,o.default.STACCATISSIMO,o.default.STACCATO_TENUTO]},{key:o.default.STACCATISSIMO,value:[o.default.TENUTO,o.default.STACCATO,o.default.STACCATO_TENUTO]},{key:o.default.STACCATO_TENUTO,value:[o.default.TENUTO,o.default.STACCATO,o.default.STACCATISSIMO]},{key:o.default.ACCENT,value:[o.default.STRONG]},{key:o.default.STRONG,value:[o.default.ACCENT]},{key:o.default.BREATHMARK,value:[o.default.TENUTO,o.default.STACCATO,o.default.CAESURA]},{key:o.default.CAESURA,value:[o.default.TENUTO,o.default.STACCATO,o.default.BREATHMARK]},{key:o.default.DOIT,value:[o.default.FALLOFF]},{key:o.default.FALLOFF,value:[o.default.DOIT]},{key:o.default.PLOP,value:[o.default.SCOOP]},{key:o.default.SCOOP,value:[o.default.PLOP]}]),f=[o.default.STACCATO,o.default.TENUTO,o.default.STACCATISSIMO],p=[o.default.TENUTO,o.default.ACCENT],h={};h.addArticulation=function(A,T){if(typeof l[T]=="undefined")throw new g.default("unexpected",T);if(l[T].forEach(function(b){Object.prototype.hasOwnProperty.call(A,b)&&h.removeArticulation(A,b)}),o.default.isValid(T))A[T]={};else throw new g.default("unexpected",T)},h.removeArticulation=function(A,T){if(o.default.isValid(T))delete A[T];else throw new g.default("unexpected",T)},h.isLowerArticulation=function(A){return f.includes(A)},h.isCenteredArticulation=function(A){return p.includes(A)},h.hasArticulation=function(A,T){return typeof A[T]!="undefined"},h.hasIncompatibleArticulations=function(A,T){if(typeof l[T]=="undefined")throw new g.default("unexpected",T);return l[T].some(function(b){return Object.prototype.hasOwnProperty.call(A,b)})},h.getIncompatibleArticulations=function(A,T){return l[T].filter(function(b){return Object.prototype.hasOwnProperty.call(A,b)})};const r=h;var i=c(212642),O=c(316197);const M={};M.hasGlissando=function(A,T,b){const W=O.default.create(T,b);return A.some(m,W)},M.hasGlissandoType=function(A,T){return A.some(function(b){return O.default.getType(b)===T})},M.getGlissando=function(A,T,b){const W=O.default.create(T,b);return A.find(m,W)},M.getGlissandosType=function(A,T){return A.filter(function(b){return O.default.getType(b)===T})},M.removeGlissando=function(A,T){const b=A.findIndex(m,T);b>-1&&A.splice(b,1)};const m=function(A){const T=this;return O.default.isSame(A,T)},E=M;var v=c(493528),R=c(726042),B=c(870437);const L={};L.getTupletStartsWithin=function(A,T){return A.filter(F,T)};const F=function(A){const T=this.valueOf();return B.A.isStartAndWithinLevel(A,T)};L.removeTupletStartsWithin=function(A,T){return A.filter(V,T)};const V=function(A){const T=this.valueOf();return!B.A.isStartAndWithinLevel(A,T)};L.getTupletStopsWithin=function(A,T){return A.filter(G,T)};const G=function(A){const T=this.valueOf();return B.A.isStopAndWithinLevel(A,T)};L.removeTupletStopsWithin=function(A,T){return A.filter(U,T)};const U=function(A){const T=this.valueOf();return!B.A.isStopAndWithinLevel(A,T)};L.addBounds=function(A,T){if(L.isColliding(A,T)){const b="Some tuplet bounds are colliding.";throw new g.default("CollidingTupletBound",b)}else return A.concat(T)},L.isColliding=function(A,T){const b=d.default.listToMap(A,B.A.stringify);return T.some($,b)};const $=function(A){const T=this,b=B.A.stringify(A);return typeof T[b]!="undefined"};L.hasStart=function(A){return A.some(B.A.isStart)},L.hasStop=function(A){return A.some(B.A.isStop)},L.getStartLevel=function(A){return A.filter(B.A.isStart).map(B.A.getLevel).reduce(R.default.max2)},L.getStopLevel=function(A){return A.filter(B.A.isStop).map(B.A.getLevel).reduce(R.default.min2)},L.removeLevelAndOutside=function(A,T){return A.filter(j,T)};const j=function(A){const T=this.valueOf();return B.A.getLevel(A)<T};L.getStarts=function(A){return A.filter(B.A.isStart)},L.getStart=function(A,T){return A.find(I,T)},L.getStops=function(A){return A.filter(B.A.isStop)};const I=function(A){if(B.A.isStop(A))return!1;{const T=this.valueOf();return B.A.getLevel(A)===T}};L.getStop=function(A,T){return A.find(N,T)};const N=function(A){if(B.A.isStart(A))return!1;{const T=this.valueOf();return B.A.getLevel(A)===T}},w=L,H=function(A){A.hasTupletBounds=function(T){return typeof T.tuplet!="undefined"},A.getTupletBounds=function(T){return typeof T.tuplet=="undefined"?[]:d.default.isArray(T.tuplet)?T.tuplet:[T.tuplet]},A.setTupletBounds=function(T,b){b.length===0?delete T.tuplet:b.length===1?T.tuplet=b[0]:T.tuplet=b},A.getTupletStartsWithin=function(T,b){const W=A.getTupletBounds(T);return w.getTupletStartsWithin(W,b)},A.removeTupletStartsWithin=function(T,b){let W=A.getTupletBounds(T);W=w.removeTupletStartsWithin(W,b),A.setTupletBounds(T,W)},A.getTupletStopsWithin=function(T,b){const W=A.getTupletBounds(T);return w.getTupletStopsWithin(W,b)},A.removeTupletStopsWithin=function(T,b){let W=A.getTupletBounds(T);W=w.removeTupletStopsWithin(W,b),A.setTupletBounds(T,W)},A.addTupletBounds=function(T,b){let W=A.getTupletBounds(T);W=w.addBounds(W,b),A.setTupletBounds(T,W)},A.hasTupletStart=function(T){if(A.hasTupletBounds(T)){const b=A.getTupletBounds(T);return w.hasStart(b)}else return!1},A.hasTupletStop=function(T){if(A.hasTupletBounds(T)){const b=A.getTupletBounds(T);return w.hasStop(b)}else return!1},A.getTupletStartLevel=function(T){const b=A.getTupletBounds(T);return w.getStartLevel(b)},A.getTupletStopLevel=function(T){const b=A.getTupletBounds(T);return w.getStopLevel(b)},A.removeTupletLevelAndOutside=function(T,b){let W=A.getTupletBounds(T);W=w.removeLevelAndOutside(W,b),A.setTupletBounds(T,W)},A.getTupletStarts=function(T){const b=A.getTupletBounds(T);return w.getStarts(b)},A.getTupletStart=function(T,b){const W=A.getTupletBounds(T);return w.getStart(W,b)},A.getTupletStops=function(T){const b=A.getTupletBounds(T);return w.getStops(b)},A.getTupletStop=function(T,b){const W=A.getTupletBounds(T);return w.getStop(W,b)},A.removeTupletBounds=function(T){A.setTupletBounds(T,[])}};var X=c(712947);const Q=function(A){A.hasIntraMeasureSlur=function(T){if(A.hasSlur(T)){const b=A.getSlur(T);return!X.default.isCrossMeasure(b)}else return!1},A.hasSlurStart=function(T){if(A.hasSlur(T)){const b=A.getSlur(T);return X.default.isStart(b)}else return!1},A.hasSlurStop=function(T){if(A.hasSlur(T)){const b=A.getSlur(T);return X.default.isStop(b)}else return!1},A.hasSlur=function(T){return typeof T.slur!="undefined"},A.setSlur=function(T,b){T.slur=b},A.getSlurType=function(T){const b=A.getSlur(T);return X.default.getType(b)},A.getSlur=function(T){if(d.default.isArray(T.slur))return T.slur[0];if(typeof T.slur!="undefined")return T.slur;throw new g.default("Unexpected")},A.removeSlur=function(T){delete T.slur},A.getSlurs=function(T){return u.default.getArray(T,"slur")},A.setSlurs=function(T,b){u.default.setArray(T,"slur",b)}};var ee=c(359932),k=c(964845),J=c(312616);const re=function(A){A.hasTechnicals=function(T){return d.default.isObject(T.technical)},A.hasTechnical=function(T,b,W){const Y=A.getTechnical(T);return k.A.hasTechnical(Y,b,W)},A.hasIncompatibleTechnical=function(T,b,W){const Y=A.getTechnical(T);return k.A.hasIncompatibleTechnical(Y,b,W)},A.getIncompatibleTechnical=function(T,b,W){const Y=A.getTechnical(T);return k.A.getIncompatibleTechnical(Y,b,W)},A.addTechnical=function(T,b,W){const Y=A.getTechnical(T);k.A.addTechnical(Y,b,W),A.setTechnical(T,Y)},A.removeTechnical=function(T,b,W){const Y=A.getTechnical(T);k.A.removeTechnical(Y,b,W),A.setTechnical(T,Y)},A.removeAllTechnicals=function(T,b){if(d.default.isArray(b)){const W=A.getTechnical(T);Object.keys(W).forEach(function(te){b.includes(te)||A.removeTechnical(T,te)})}else A.setTechnical(T,{})},A.setTechnical=function(T,b){d.default.isObjectEmpty(b)?delete T.technical:T.technical=b},A.getTechnical=function(T){return A.hasTechnicals(T)?T.technical:{}},A.getTechnicalOpts=function(T,b){const W=A.getTechnical(T);return k.A.getTechnicalOpts(W,b)},A.getTechnicalContent=function(T,b){const W=A.getTechnical(T);return k.A.getTechnicalContent(W,b)},A.getTechnicalFullList=function(T){const b=A.getTechnical(T);return Object.keys(b)},A.getTechnicalList=function(T){return A.getTechnicalFullList(T).filter(ee.default.isCommonValid)},A.hasFingering=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasFingering(b)}else return!1},A.getFingering=function(T){const b=A.getTechnical(T);return k.A.getFingering(b)},A.getFingerings=function(T){const b=A.getTechnical(T);let W=k.A.getFingerings(b);return W=W.filter(J.A.hasValidValue),W=W.filter(J.A.isNormal),W=W.map(J.A.getValue),W},A.setFingering=function(T,b){const W=A.getTechnical(T);k.A.setFingering(W,b),A.setTechnical(T,W)},A.removeFingering=function(T){const b=A.getTechnical(T);k.A.removeFingering(b),A.setTechnical(T,b)},A.hasString=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasString(b)}else return!1},A.getString=function(T){const b=A.getTechnical(T);return k.A.getString(b)},A.hasTabData=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasTabData(b)}else return!1},A.getTabData=function(T){const b=A.getTechnical(T);return k.A.getTabData(b)},A.hasBend=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasBend(b)}else return!1},A.hasPreBend=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasPreBend(b)}else return!1},A.getBend=function(T){const b=A.getTechnical(T);return k.A.getBend(b)},A.getPreBend=function(T){const b=A.getTechnical(T);return k.A.getPreBend(b)},A.setBend=function(T,b){const W=A.getTechnical(T);k.A.setBend(W,b),A.setTechnical(T,W)},A.setPreBend=function(T,b){const W=A.getTechnical(T);k.A.setPreBend(W,b),A.setTechnical(T,W)},A.getRawBends=function(T){const b=A.getTechnical(T);return k.A.getRawBends(b)},A.setRawBends=function(T,b){const W=A.getTechnical(T);k.A.setRawBends(W,b),A.setTechnical(T,W)},A.removeBend=function(T){const b=A.getTechnical(T);k.A.removeBend(b),A.setTechnical(T,b)},A.removePreBend=function(T){const b=A.getTechnical(T);k.A.removePreBend(b),A.setTechnical(T,b)},A.hasHarmonic=function(T){if(A.hasTechnicals(T)){const b=A.getTechnical(T);return k.A.hasHarmonic(b)}else return!1},A.getHarmonic=function(T){const b=A.getTechnical(T);return k.A.getHarmonic(b)},A.setHarmonic=function(T,b){const W=A.getTechnical(T);k.A.setHarmonic(W,b),A.setTechnical(T,W)},A.removeHarmonic=function(T){const b=A.getTechnical(T);k.A.removeHarmonic(b),A.setTechnical(T,b)}};var D=c(511890);const _=d.default.pairsToMap([{key:t.default.FERMATA,value:[o.default.TENUTO,o.default.STACCATO,o.default.STACCATISSIMO,o.default.STACCATO_TENUTO]}]),y=d.default.pairsToMap([{key:t.default.FERMATA,value:2},{key:o.default.ACCENT,value:1},{key:o.default.STRONG,value:1},{key:o.default.STACCATO,value:0},{key:o.default.STACCATISSIMO,value:0},{key:o.default.TENUTO,value:0},{key:o.default.STACCATO_TENUTO,value:0},{key:o.default.BREATHMARK,value:0},{key:o.default.CAESURA,value:0},{key:o.default.DOIT,value:0},{key:o.default.FALLOFF,value:0},{key:o.default.PLOP,value:0},{key:o.default.SCOOP,value:0}]),S={};H(S),Q(S),re(S),S.addNotation=function(A,T){if(typeof _[T]=="undefined")throw new g.default("unexpected",T);if(_[T].forEach(function(b){S.hasArticulation(A,b)&&S.removeArticulation(A,b)}),T===t.default.FERMATA)A.fermata={};else throw new g.default("unexpected",T)},S.removeNotation=function(A,T){if(T===t.default.FERMATA)delete A.fermata;else throw new g.default("unexpected",T)},S.hasNotationIncompatibleArticulations=function(A){const T=this.getArticulations(A);return _[t.default.FERMATA].some(function(b){return Object.prototype.hasOwnProperty.call(T,b)})},S.getNotationIncompatibleArticulations=function(A){const T=this.getArticulations(A);return _[t.default.FERMATA].filter(function(b){return Object.prototype.hasOwnProperty.call(T,b)})},S.addArticulation=function(A,T){S.hasArticulations(A)&&Object.keys(_).forEach(function(Y){_[Y].includes(T)&&S.removeNotation(A,Y)});const b=S.getArticulations(A);r.addArticulation(b,T),S.setArticulations(A,b)},S.removeArticulation=function(A,T){const b=S.getArticulations(A);r.removeArticulation(b,T),S.setArticulations(A,b)},S.removeAllArticulations=function(A){S.setArticulations(A,{})},S.removeAllOrnaments=function(A){S.setOrnaments(A,{})},S.isArticulationCompatibleWithNotation=function(A,T){return _[t.default.FERMATA].some(function(b){return T===b})},S.setArticulations=function(A,T){d.default.isObjectEmpty(T)?delete A.articulations:A.articulations=T},S.getArticulations=function(A){return S.hasArticulations(A)?A.articulations:{}},S.getArticulationsList=function(A){const T=S.getArticulations(A);return Object.keys(T)},S.getFullArticulationsList=function(A){const T=S.getArticulations(A),b=Object.keys(T);return S.hasNotation(A,t.default.FERMATA)&&!b.includes(t.default.FERMATA)&&b.push(t.default.FERMATA),b},S.sortArticulationsList=function(A){A.sort(S.compareArticulations)},S.compareArticulations=function(A,T){if(typeof y[A]=="undefined")throw new g.default("unexpected",A);if(typeof y[T]=="undefined")throw new g.default("unexpected",T);return y[A]-y[T]},S.hasArticulations=function(A){return typeof A.articulations!="undefined"},S.hasArticulation=function(A,T){const b=S.getArticulations(A);return r.hasArticulation(b,T)},S.hasIncompatibleArticulations=function(A,T){const b=S.getArticulations(A);return r.hasIncompatibleArticulations(b,T)},S.getIncompatibleArticulations=function(A,T){const b=S.getArticulations(A);return r.getIncompatibleArticulations(b,T)},S.hasNotation=function(A,T){return typeof A[T]!="undefined"},S.isValidArticulation=function(A){return o.default.values.includes(A)||A===t.default.FERMATA},S.hasOrnaments=function(A){return typeof A.ornaments!="undefined"},S.getOrnaments=function(A){return S.hasOrnaments(A)?A.ornaments:{}},S.hasOrnament=function(A,T,b){const W=S.getOrnaments(A);return i.A.hasOrnament(W,T,b)},S.hasOrnamentType=function(A,T){const b=S.getOrnaments(A);return i.A.hasOrnamentType(b,T)},S.addOrnament=function(A,T,b){const W=S.getOrnaments(A);i.A.addOrnament(W,T,b),S.setOrnaments(A,W)},S.setOrnaments=function(A,T){d.default.isObjectEmpty(T)?delete A.ornaments:A.ornaments=T},S.removeOrnament=function(A,T){const b=S.getOrnaments(A);i.A.removeOrnament(b,T),S.setOrnaments(A,b)},S.getOrnamentsList=function(A){const T=S.getOrnaments(A);return i.A.getList(T)},S.getOrnamentsWithOpts=function(A){const T=S.getOrnaments(A);return i.A.getOrnamentsWithOpts(T)},S.getOrnamentOpts=function(A,T){const b=S.getOrnaments(A);return i.A.getOrnamentOpts(b,T)},S.getOrnamentsListForDrawer=function(A){const T=[],b=S.getOrnaments(A);return Object.keys(b).forEach(function(W){switch(W){case n.A.TREMOLO:{const Y=u.default.getSingle(b,n.A.TREMOLO);if(s.A.isValid(Y.$type))break;let te=u.default.stringOrContent(Y);switch(te=parseInt(te,10),te){case 1:T.push(e.A.TREMOLO1);break;case 2:T.push(e.A.TREMOLO2);break;case 3:T.push(e.A.TREMOLO3);break;case 4:T.push(e.A.TREMOLO4);break;case 5:T.push(e.A.TREMOLO5);break;default:{const ae=`Bad number of tremolo [${te}].`;throw new g.default("Unexpected",ae)}}break}case n.A.MORDENT:{const Y=u.default.getSingle(b,W),te=v.A.mordentToDisplayType(Y);T.push(te);break}case n.A.INVERTED_MORDENT:{const Y=u.default.getSingle(b,W),te=v.A.invertedMordentToDisplayType(Y);T.push(te);break}default:n.A.isValid(W)&&T.push(W);break}}),T},S.hasIncompatibleOrnaments=function(A,T){const b=S.getOrnaments(A);return i.A.hasIncompatibleOrnaments(b,T)},S.getIncompatibleOrnaments=function(A,T){const b=S.getOrnaments(A);return i.A.getIncompatibleOrnaments(b,T)},S.setArpeggiate=function(A,T){A.arpeggiate=T},S.hasArpeggiate=function(A){return typeof A.arpeggiate!="undefined"},S.removeArpeggiate=function(A){delete A.arpeggiate},S.getArpeggiate=function(A){return A.arpeggiate},S.setGlissandos=function(A,T){u.default.setArray(A,"glissando",T)},S.hasGlissandos=function(A){return typeof A.glissando!="undefined"},S.removeGlissandos=function(A){delete A.glissando},S.getGlissandos=function(A){return u.default.getArray(A,"glissando")},S.hasGlissando=function(A,T,b){if(!S.hasGlissandos(A))return!1;const W=S.getGlissandos(A);return E.hasGlissando(W,T,b)},S.hasGlissandoType=function(A,T){if(!S.hasGlissandos(A))return!1;const b=S.getGlissandos(A);return E.hasGlissandoType(b,T)},S.addGlissando=function(A,T){const b=S.getGlissandos(A),W=O.default.getType(T);W===a.default.START?b.push(T):W===a.default.STOP?b.unshift(T):a.default.raiseError(W),S.setGlissandos(A,b)},S.removeGlissando=function(A,T){const b=S.getGlissandos(A);E.removeGlissando(b,T),S.setGlissandos(A,b)},S.getGlissando=function(A,T,b){const W=S.getGlissandos(A);return E.getGlissando(W,T,b)},S.getGlissandosType=function(A,T){const b=S.getGlissandos(A);return E.getGlissandosType(b,T)},S.removeGlissandoStart=function(A,T){const b=S.getGlissandos(A),W=b.findIndex(x,T);if(W<0)throw new g.default("Unexpected",`There is no glissando start to remove with the $number ${T}`);b.splice(W,1),u.default.setArray(A,"glissando",b)};function x(A){const T=this.valueOf();return O.default.getNumber(A)===T&&O.default.isStart(A)}S.removeGlissandoStop=function(A,T){const b=S.getGlissandos(A),W=b.findIndex(z,T);if(W<0)throw new g.default("Unexpected",`There is no glissando stop to remove with the $number ${T}`);b.splice(W,1),u.default.setArray(A,"glissando",b)};function z(A){const T=this.valueOf();return O.default.getNumber(A)===T&&O.default.isStop(A)}S.getGlissandoStarts=function(A){return S.getGlissandos(A).filter(O.default.isStart)},S.getGlissandoStops=function(A){return S.getGlissandos(A).filter(O.default.isStop)},S.hasGlissandoStart=function(A){return S.getGlissandos(A).some(O.default.isStart)},S.hasGlissandoStop=function(A){return S.getGlissandos(A).some(O.default.isStop)},S.getTieds=function(A){return u.default.getArray(A,"tied")},S.setTieds=function(A,T){T.length>1?A.tied=T:T.length===1?A.tied=T[0]:delete A.tied},S.removeSlides=function(A){delete A.slide},S.removeSlideStart=function(A,T){const b=S.getSlides(A),W=b.findIndex(q,T);if(W<0)throw new g.default("Unexpected",`There is no slide start to remove with the $number ${T}`);b.splice(W,1),u.default.setArray(A,"slide",b)};function q(A){const T=this.valueOf();return D.default.getNumber(A)===T&&D.default.isStart(A)}S.removeSlideStop=function(A,T){const b=S.getSlides(A),W=b.findIndex(oe,T);if(W<0)throw new g.default("Unexpected",`There is no slide stop to remove with the $number ${T}`);b.splice(W,1),u.default.setArray(A,"slide",b)};function oe(A){const T=this.valueOf();return D.default.getNumber(A)===T&&D.default.isStop(A)}S.removeSlide=function(A,T){const b=S.getSlides(A),W=b.indexOf(T);if(W<0)throw new g.default("Unexpected","The given slide is not inside");b.splice(W,1),u.default.setArray(A,"slide",b)},S.addSlide=function(A,T){const b=S.getSlides(A);b.push(T),u.default.setArray(A,"slide",b)},S.getSlideStarts=function(A){return S.getSlides(A).filter(D.default.isStart)},S.getSlideStops=function(A){return S.getSlides(A).filter(D.default.isStop)},S.getSlides=function(A){return u.default.getArray(A,"slide")},S.hasSlideStart=function(A){return S.getSlides(A).some(D.default.isStart)},S.hasSlideStop=function(A){return S.getSlides(A).some(D.default.isStop)},S.hasTremoloSide=function(A){if(!S.hasOrnaments(A))return!1;const T=S.getOrnaments(A);return i.A.hasTremoloSide(T)},S.hasTremoloStart=function(A){if(!S.hasOrnaments(A))return!1;const T=S.getOrnaments(A);return i.A.hasTremoloStart(T)},S.hasTremoloStop=function(A){if(!S.hasOrnaments(A))return!1;const T=S.getOrnaments(A);return i.A.hasTremoloStop(T)};const ie=S},708809:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);function t(s){return`The capo position [${s}] is invalid. It must be a number between 0 and 12.`}class o extends g.A{constructor(d){const u=t(d);super(u),Object.defineProperty(this,"tabCapo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadTabCapoError",this.tabCapo=d}}var n=c(726042);const e={MIN:0,MAX:12,DEFAULT:0};e.check=function(s){if(!e.isValid(s))throw new o(s)},e.isDefault=function(s){return s===e.DEFAULT},e.isValid=function(s){return n.default.isNumber(s)&&e.MIN<=s&&s<=e.MAX};const a=e},717434:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(364842),t=c(735178),o=c(476943),n=c(365340);const e={},a={dynamics:t.A.DYNAMIC,wedge:t.A.WEDGE,words:t.A.WORDS,segno:t.A.SEGNO,coda:t.A.CODA,pedal:t.A.PEDAL,"octave-shift":t.A.OCTAVE_SHIFT,"$adagio-tempoChange":t.A.TEMPO_CHANGE,"$adagio-pluckedRange":t.A.PLUCKED_RANGE,rehearsal:t.A.REHEARSAL,metronome:t.A.METRONOME};e.getType=function(u){const l=Object.keys(u);let f;if(l.length===0)throw f="a direction-type should have one value.",new g.default("Unexpected",f);return s(l[0])};const s=function(u){return typeof a[u]!="undefined"?a[u]:t.A.OTHER};e.createWord=function(u){const l={};return l.words=u,l},e.isValidWord=function(u){const l=n.default.getSingle(u,"words");return n.default.hasStringOrContent(l)},e.getWordText=function(u){const l=n.default.getSingle(u,"words");return n.default.stringOrContent(l)},e.createDynamic=function(u){const l={};return l.dynamics=u,l},e.getDynamic=function(u){return o.default.isArray(u.dynamics)?u.dynamics[0]:u.dynamics},e.isDynamic=function(u){return e.getType(u)===t.A.DYNAMIC},e.isWord=function(u){return e.getType(u)===t.A.WORDS},e.createMetronome=function(u){const l={};return l.metronome=u,l},e.isMetronome=function(u){return e.getType(u)===t.A.METRONOME},e.getMetronome=function(u){if(o.default.isObject(u[t.A.METRONOME]))return u[t.A.METRONOME];throw new g.default("NotMetronome")},e.isWedge=function(u){return e.getType(u)===t.A.WEDGE},e.hasWedge=function(u){return typeof u.wedge!="undefined"},e.createWedge=function(u){const l={};return l.wedge=u,l},e.getWedge=function(u){if(o.default.isObject(u.wedge))return u.wedge;throw new g.default("NotWedge")},e.isPedal=function(u){return e.getType(u)===t.A.PEDAL},e.hasPedal=function(u){return typeof u.pedal!="undefined"},e.createPedal=function(u){const l={};return l[t.A.PEDAL]=u,l},e.getPedal=function(u){if(o.default.isObject(u[t.A.PEDAL]))return u[t.A.PEDAL];throw new g.default("NotPedal")},e.isRehearsal=function(u){if(e.getType(u)!==t.A.REHEARSAL)return!1;const l=u[t.A.REHEARSAL];return n.default.hasStringOrContent(l)},e.getRehearsal=function(u){let l=u[t.A.REHEARSAL];return l=n.default.getWrappedString(l),l},e.createRehearsal=function(u){const l={};return l[t.A.REHEARSAL]=u,l},e.isSegno=function(u){return e.getType(u)===t.A.SEGNO},e.isOctaveShift=function(u){return e.getType(u)===t.A.OCTAVE_SHIFT},e.getOctaveShift=function(u){return e.hasOctaveShift(u)?u[t.A.OCTAVE_SHIFT]:{}},e.hasOctaveShift=function(u){return typeof u[t.A.OCTAVE_SHIFT]!="undefined"},e.createOctaveShift=function(u){const l={};return l[t.A.OCTAVE_SHIFT]=u,l},e.isPluckedRange=function(u){return e.getType(u)===t.A.PLUCKED_RANGE},e.getPluckedRange=function(u){return e.hasPluckedRange(u)?u[t.A.PLUCKED_RANGE]:{}},e.hasPluckedRange=function(u){return typeof u[t.A.PLUCKED_RANGE]!="undefined"},e.createPluckedRange=function(u){const l={};return l[t.A.PLUCKED_RANGE]=u,l},e.isTempoChange=function(u){return e.getType(u)===t.A.TEMPO_CHANGE},e.getTempoChange=function(u){return e.hasTempoChange(u)?u[t.A.TEMPO_CHANGE]:{}},e.hasTempoChange=function(u){return typeof u[t.A.TEMPO_CHANGE]!="undefined"},e.createTempoChange=function(u){const l={};return l[t.A.TEMPO_CHANGE]=u,l};const d=e},719476:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(951066);function t(){return"Ending numbers must be an array of strictly positive integers."}class o extends g.A{constructor(r){const i=t();super(i),Object.defineProperty(this,"numbers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadEndingNumberError",this.numbers=r}}var n=c(726042),e=c(365340);const a={};a.getType=function(h){return h.$type},a.create=function(h,r){return{$number:a.numbersToRaw(r),$type:h}},a.getValue=function(h){return e.default.stringOrContent(h)},a.getNumbers=function(h){const r=a.getRawNumbers(h);return a.parseRaw(r)},a.setRawNumbers=function(h,r){h.$number=r},a.getRawNumbers=function(h){return h.$number},a.checkNumbers=function(h){if(h.length===0)throw new o(h);h.forEach(s),h.forEach(d)};function s(h,r,i){if(!n.default.isInteger(h)||h<=0||h>4)throw new o(i)}function d(h,r,i){if(r>0&&i[r-1]>=h)throw new o(i)}a.parseRaw=function(h){let r=h.split(",");return r=r.map(u),r.map(n.default.intPart)};const u=function(h){return h.trim()};a.numbersToRaw=function(h){return h.map(l).join(", ")},a.numbersToText=function(h){let r=h.map(l);return r=r.map(f),r.join(", ")},a.isSame=function(h,r){const i=a.numbersToText(h),O=a.numbersToText(r);return i===O};const l=function(h){return h.toString()},f=function(h){return`${h}.`},p=a},723631:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(746796);const t="above",o="below",n=[t,o];function e(d){return n.includes(d)}function a(d){if(!e(d))throw new g.A(d)}const s={ABOVE:t,BELOW:o,values:n,isValid:e,check:a}},724095:(C,P,c)=>{c.d(P,{A:()=>l});const g="trill-mark",t="tremolo",o="$adagio-buzz",n="mordent",e="inverted-mordent",a="turn",s="inverted-turn",d=[g,t,n,e,a,s,o];function u(f){return d.includes(f)}const l={TRILLMARK:g,TREMOLO:t,BUZZ:o,MORDENT:n,INVERTED_MORDENT:e,TURN:a,INVERTED_TURN:s,values:d,isValid:u}},724926:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(369790);const t={};t.create=function(n){return{$type:n}},t.check=function(n){const e=t.getType(n);g.A.check(e)},t.isSame=function(n,e){const a=t.getType(n),s=t.getType(e);return a===s},t.getType=function(n){return n.$type};const o=t},726620:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The value ${n} does not seem to be a correct Uuid`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"uuid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadUuidValueError",this.uuid=e}}},735178:(C,P,c)=>{c.d(P,{A:()=>t});const t={DYNAMIC:"dynamic",WEDGE:"wedge",SEGNO:"segno",CODA:"coda",WORDS:"words",PEDAL:"pedal",OCTAVE_SHIFT:"octave-shift",TEMPO_CHANGE:"$adagio-tempoChange",PLUCKED_RANGE:"$adagio-pluckedRange",REHEARSAL:"rehearsal",METRONOME:"metronome",OTHER:"other"}},735696:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`Ornament ${n} is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadOrnamentTypeError",this.type=e}}},746641:(C,P,c)=>{c.d(P,{A:()=>e});var g=c(737903),t=c(819795),o=c(432712),n=c(364842);class e{constructor(s,d,u){Object.defineProperty(this,"utils",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nbStaves",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tmpGlobal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nbStaves=new o.A(d),this.utils=u,this.map=new Map,this.tmpGlobal=null,this.initEntries(s)}static isSame(s,d){e.checkCanCompare(s,d);function u(l,f){return l===null&&f===null?!0:l===null||f===null?!1:s.utils.isSame(l,f)}for(let l=0;l<s.getNbStaves();l++){const f=s.getEntry(l),p=d.getEntry(l);if(!u(f,p))return!1}return!0}static checkCanCompare(s,d){if(s.getNbStaves()!==d.getNbStaves())throw new Error("comparing attributes of different size");if(s.utils!==d.utils)throw new Error("comparing attributes of different types")}initEntries(s){s.forEach(this.initEntry,this)}initEntry(s){if(t.A.hasStaffIdx(s)){const d=t.A.getStaffIdx(s);s=(0,g.default)(s),t.A.removeStaffIdx(s),this.setSpecificEntry((0,g.default)(s),d)}else this.setGlobalEntry(s)}setSpecificEntry(s,d){this.nbStaves.checkStaffIdx(d),s!==null&&(t.A.setStaffIdx(s,d),this.map.set(d,s))}removeSpecificEntry(s){this.nbStaves.checkStaffIdx(s),this.map.delete(s)}setGlobalEntry(s){if(this.getNbStaves()===0){this.tmpGlobal=s;return}for(let d=0;d<this.getNbStaves();d++){if(this.map.has(d))continue;const u=(0,g.default)(s);this.map.set(d,u)}}hasEntry(s){return this.map.has(s)}getEntry(s){this.nbStaves.checkStaffIdx(s);const d=this.map.get(s);return d===void 0?null:d}getAnyEntry(){if(this.map.size===0){if(this.tmpGlobal!==null)return this.tmpGlobal;throw new n.default("There is no entry in this AttributeWrapper")}return this.map.values().next().value}insertEntry(s,d){this.nbStaves.checkStaffInsertionIdx(d),this.nbStaves.increase(),this.increaseEntriesAfter(d-1),this.setSpecificEntry(s,d)}increaseEntriesAfter(s){for(let d=this.getNbStaves()-1;d>s;d--)if(this.hasEntry(d)){const u=this.getEntry(d);this.removeSpecificEntry(d),this.setSpecificEntry(u,d+1)}}decreaseEntriesAfter(s){for(let d=s+1;d<this.getNbStaves();d++)if(this.hasEntry(d)){const u=this.getEntry(d);this.removeSpecificEntry(d),this.setSpecificEntry(u,d-1)}}setEntry(s,d){this.nbStaves.checkStaffIdx(d),s===null?this.removeSpecificEntry(d):this.setSpecificEntry(s,d)}removeEntry(s){this.nbStaves.checkStaffIdx(s),this.nbStaves.checkRemoveLast(),this.removeSpecificEntry(s),this.decreaseEntriesAfter(s),this.nbStaves.decrease()}dumpAttribute(){if(this.map.size===0)return[];if(this.isAllSame()){let s=this.getAnyEntry();return s=(0,g.default)(s),t.A.removeStaffIdx(s),[s]}else{const s=[];for(let d=0;d<this.getNbStaves();d++)if(this.hasEntry(d)){const u=this.getEntry(d);t.A.setStaffIdx(u,d),s.push(u)}return s}}isAllSame(){let s=null;const d=this.nbStaves.get();for(let u=0;u<d;u++){const l=this.getEntry(u);if(l===null)return!1;if(s===null)s=l;else if(!this.utils.isSame(l,s))return!1}return!0}getNbStaves(){return this.nbStaves.get()}getDiffWith(s){e.checkCanCompare(s,this);const d=[];for(let u=0;u<this.getNbStaves();u++){const l=s.getEntry(u),f=this.getEntry(u);if(l===null||f===null)throw new Error("An entry is null");if(!this.utils.isSame(l,f)){const p=this.utils.makeDiff(l,f);t.A.setStaffIdx(p,u),d.push(p)}}return d}replaceWith(s){e.checkCanCompare(s,this);for(let d=0;d<this.getNbStaves();d++)if(s.hasEntry(d)){const u=(0,g.default)(s.getEntry(d));this.setEntry(u,d)}}}},746796:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`Placement ${n} is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadPlacementDirectionError",this.placement=e}}},748049:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);class t extends g.A{constructor(d){const u=o(d);super(u),Object.defineProperty(this,"beamStatus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadBeamStatusError",this.beamStatus=d}}const o=function(s){return`the beamStatus value [${s}] is invalid.`};var n=c(364842);const e={YES:"yes",NO:"no",AUTO:"auto"};e.DEFAULT=e.AUTO,e.values=[e.YES,e.NO,e.AUTO],e.check=function(s){if(!e.isValid(s))throw new t(s)},e.isValid=function(s){return e.values.includes(s)},e.raiseError=function(s){const d=new n.default("BadBeamStatus",`The beamStatus ${s} is invalid`);throw d.beamStatus=s,d};const a=e},752512:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The first fret [${n}] for the frame is invalid.`;super(e),Object.defineProperty(this,"firstFret",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFrameFirstFretError",this.firstFret=n}}},759240:(C,P,c)=>{c.d(P,{A:()=>e});var g=c(364842),t=c(515819),o=c(209175),n=c(721370);class e{constructor(s,d,u,l,f){this.timePos=s,this.timeToDispatch=d,this.timePerBeat=u,this.divisionsPerQuarter=l,this.timeModif=f,this.shards=[]}dispatch(){for(;this.timeToDispatch>0;){this.timePos=this.timePos%this.timePerBeat;const s=this.seekShardSize();this.insertSpace(s)}}seekShardSize(){return this.isCompound()?this.seekShardSizeCompound(0,this.timePerBeat):this.seekShardSizeIter(0,this.timePerBeat)}seekShardSizeCompound(){if(this.timePos===0)return this.timePerBeat;const s=this.timePerBeat/3,d=s*2;if(0<=this.timePos&&this.timePos<s)return this.seekShardSizeIter(0,s);if(s<=this.timePos&&this.timePos<d)return this.seekShardSizeIter(s,d);if(d<=this.timePos&&this.timePos<this.timePerBeat)return this.seekShardSizeIter(d,this.timePerBeat);throw new g.default("Unreachable")}seekShardSizeIter(s,d){let u=d-s;for(;s!==this.timePos;){const l=s+u/2;if(0<=this.timePos&&this.timePos<l)d=l;else if(this.timePos<d)s=l;else throw new g.default("Unreachable");u=d-s}return u}insertSpace(s){if(s>this.timeToDispatch)for(s=this.timeToDispatch;s>0;){const d=this.extractBaseSpace(s);s-=d,this.storeSpaceShard(d)}else this.storeSpaceShard(s)}extractBaseSpace(s){const d=t.default.actualToNormal(s,this.timeModif),u=t.default.divisionsToQuarter(d,this.divisionsPerQuarter),l=t.default.extractBaseDuration(u),f=t.default.quarterToDuration(l,this.divisionsPerQuarter);let p=t.default.normalToActual(f,this.timeModif);const h=this.getSubBeat();return p=Math.min(p,h),p}getSubBeat(){return this.isCompound()?this.timePerBeat/3:this.timePerBeat/2}isCompound(){if(!o.default.isNormal(this.timeModif))return!1;const s=new n.default(this.timePerBeat,this.divisionsPerQuarter);return s.simplify(),s.getNumerator()%3===0}storeSpaceShard(s){this.timeToDispatch-=s,this.timePos+=s,this.shards.push(s)}getDispatchedRests(){return this.shards}}},760367:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(364842),t=c(951066);function o(h){return`The tie direction value [${h}] is invalid.`}class n extends t.A{constructor(r){const i=o(r);super(i),Object.defineProperty(this,"tieDirection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadTieDirectionError",this.tieDirection=r}}const e="auto",a="flipped",s=[e,a];function d(h){l(h)||f(h)}function u(h){if(!l(h))throw new n(h)}function l(h){return s.includes(h)}function f(h){const r=`The tie direction value [${h}] is invalid.`;throw new g.default("BadTieDirection",r)}const p={AUTO:e,FLIPPED:a,assert:d,check:u,isValid:l,raiseError:f}},760890:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(e){const a=o(e);super(a),Object.defineProperty(this,"tuningStep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadStaffTuningTuningStep",this.tuningStep=e}}const o=function(n){return`tuning-step value ${n} is invalid. It has to be a letter in the following range [A, B, C, D, E, F, G]`}},764644:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The string [${n}] in the frame note is invalid.`;super(e),Object.defineProperty(this,"string",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFrameNoteStringError",this.string=n}}},773948:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(951066);function o(r){return`The octave shift size [${r}] is invalid.`}class n extends t.A{constructor(i){const O=o(i);super(O),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadOctaveShiftSizeError",this.size=i}}const e=8,a=15,s=22,d=[e,a,s];function u(r){return d.includes(r)}function l(r){if(!u(r)){const i=`Invalid value for octave shift size: [${r}].`;throw new g.default("OctaveShiftSize",i)}}function f(r){if(!u(r))throw new n(r)}function p(r){switch(f(r),r){case e:return 1;case a:return 2;case s:return 3}}const h={EIGHT:e,FIFTEEN:a,TWENTY_TWO:s,values:d,isValid:u,assert:l,check:f,sizeToOctaveShift:p}},780192:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(726042);const t={};t.hasNewSystem=function(n){return typeof n["$new-system"]!="undefined"},t.getNewSystem=function(n){return n["$new-system"]},t.setNewSystem=function(n,e){n["$new-system"]=e},t.hasNewPage=function(n){return typeof n["$new-page"]!="undefined"},t.getNewPage=function(n){return n["$new-page"]},t.setNewPage=function(n,e){n["$new-page"]=e},t.setNoteBefore=function(n,e){n.noteBefore=e},t.getNoteBefore=function(n){return g.default.toInt(n.noteBefore)},t.setTimePos=function(n,e){t.add$adagioLocationIfNeeded(n),n["$adagio-location"].timePos=e},t.setDpq=function(n,e){t.add$adagioLocationIfNeeded(n),n["$adagio-location"].dpq=e},t.getDpq=function(n){return n["$adagio-location"].dpq},t.add$adagioLocationIfNeeded=function(n){t.has$adagioLocation(n)||(n["$adagio-location"]={})},t.has$adagioLocation=function(n){return typeof n["$adagio-location"]!="undefined"},t.getTimePos=function(n){return n["$adagio-location"].timePos};const o=t},782615:(C,P,c)=>{c.d(P,{A:()=>u});var g=c(364842),t=c(995677),o=c(612040);const n={},e=0;n.create=function(l,f){return o.A.assert(l),t.A.assertInternal(f),{$adagio:{location:l,type:f},$type:a(l,f)}},n.createRaw=function(l,f){t.A.assert(l);const p={$type:l};return n.setNumber(p,f),p};const a=function(l,f){if(o.A.isContinue(l))return t.A.CONTINUE;if(l===o.A.LEFT)return f;if(l===o.A.RIGHT)return t.A.STOP;o.A.raiseError(l)};n.fillStartTagInternalValues=function(l,f,p){const h=o.A.LEFT;s(l,h,f),n.setNbNotes(l,p)},n.fillStopTagInternalValues=function(l,f){const p=o.A.RIGHT;s(l,p,f)};const s=function(l,f,p){n.setNumber(l,0),o.A.assert(f),t.A.assertInternal(p);const h=n.getRawType(l),r=n.create$adagio(l);if(!d(h,f,p)){const i=`the wedge type [${p}] with the location [${f}] is not compatible with the raw type [${h}].`;throw new g.default("Unexpected",i)}r.location=f,r.type=p};n.setNbNotes=function(l,f){if(typeof f!="number"){const p=`The wedge number of notes [${f}] is not a number.`;throw new g.default("NotNumber",p)}l.$adagio.nbNotes=f};const d=function(l,f,p){if(f===o.A.LEFT)return l===p;if(f===o.A.RIGHT)return l===t.A.STOP;if(o.A.isContinue(f))return l===t.A.CONTINUE;o.A.raiseError(f)};n.getRawType=function(l){return l.$type},n.create$adagio=function(l){if(n.has$adagio(l)){const f="The wedge has an unexpected $adagio.";throw new g.default("Already$adagio",f)}else return l.$adagio={},l.$adagio},n.has$adagio=function(l){return typeof l.$adagio!="undefined"},n.isRight=function(l){const f=n.getLocation(l);return o.A.isRight(f)},n.isLeft=function(l){const f=n.getLocation(l);return o.A.isLeft(f)},n.isContinue=function(l){const f=n.getLocation(l);return o.A.isContinue(f)},n.getType=function(l){return n.get$adagio(l).type},n.getLocation=function(l){return n.get$adagio(l).location},n.getNbNotes=function(l){return n.get$adagio(l).nbNotes},n.get$adagio=function(l){return l.$adagio},n.getNumber=function(l){return n.hasNumber(l)?parseInt(l.$number,0)-1:e},n.hasNumber=function(l){return typeof l.$number!="undefined"},n.setNumber=function(l,f){f!==e?l.$number=(f+1).toString():delete l.$number},n.hasNbNotes=function(l){return typeof n.get$adagio(l).nbNotes!="undefined"},n.copy=function(l){let f;if(n.has$adagio(l)){const p=n.getType(l),h=n.getLocation(l);if(f=n.create(h,p),n.hasNbNotes(l)){const r=n.getNbNotes(l);n.setNbNotes(f,r)}return f}else{const p=n.getRawType(l),h=n.getNumber(l);return f=n.createRaw(p,h),f}};const u=n},784172:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(951066),t=c(886190);function o(e){return`MIDI channel value ${e} is invalid. It has to be a positive integer between [1 and ${t.default.NB_MIDI_CHANNELS}]`}class n extends g.A{constructor(a){const s=o(a);super(s),Object.defineProperty(this,"MIDIChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadMIDIChannelError",this.MIDIChannel=a}}},794741:(C,P,c)=>{c.d(P,{A:()=>l});var g=c(309534),t=c(176244),o=c(951066);class n extends o.A{constructor(){super("the recorder tabs should be an object"),this.name="BadRecorderTabsError"}}function e(f,p){return f||(f=g.A.DEFAULT),p||(p=t.A.DEFAULT),{type:f,displayType:p}}function a(f){return f.type}function s(f){return f.displayType}function d(f,p){const h=a(f),r=a(p),i=s(f),O=s(p);return!(h!==r||i!==O)}function u(f){if(typeof f!="object")throw new n;const p=a(f);g.A.check(p);const h=s(f);t.A.check(h)}const l={create:e,getType:a,getDisplayType:s,isSame:d,check:u}},794799:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(364842);const t="start",o="stop",n="continue",e=[t,o,n],a=[t,o];function s(h){return e.includes(h)}function d(h){return a.includes(h)}function u(h){if(!s(h)){const r=`Invalid value for slur type: [${h}].`;throw new g.default("SlurType",r)}}function l(h){d(h)||f(h)}function f(h){const r=`Invalid internal value for slur type: [${h}].`;throw new g.default("SlurType",r)}const p={START:t,STOP:o,CONTINUE:n,values:e,internalValues:a,isValid:s,isValidInternal:d,assert:u,assertInternal:l,raiseError:f}},804963:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`Fret data option ${n} is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadFretDataOptsError",this.type=e}}},808988:(C,P,c)=>{c.d(P,{A:()=>u});var g=c(364842);const t="slash",o="vertical",n="back-slash",e=[t,o,n];function a(l){s(l)||d(l)}function s(l){return e.includes(l)}function d(l){const f=`The figure suffix value [${l}] is invalid.`;throw new g.default("BadFigureSuffix",f)}const u={SLASH:t,VERTICAL:o,BACK_SLASH:n,values:e,assert:a,isValid:s,raiseError:d}},819795:(C,P,c)=>{c.d(P,{A:()=>a});function g(s){return typeof s.$number!="undefined"}function t(s,d){s.$number=(d+1).toString()}function o(s){if(typeof s.$number=="undefined")throw new Error("Attribute has no staff index");return parseInt(s.$number,10)-1}function n(s){delete s.$number}function e(s){return!g(s)}const a={hasStaffIdx:g,setStaffIdx:t,getStaffIdx:o,removeStaffIdx:n,isGlobal:e}},832560:(C,P,c)=>{c.d(P,{A:()=>re});var g=c(701387),t=c(59443),o=c(966336),n=c(364842),e=c(847051),a=c(607682);function s(D,_){return`${_.msgPrefix} grace at the index [${D}<${typeof D}>].`}class d extends a.default{constructor(_,y,S){const x=S||d.GET,z=s(y,x);super(z),Object.defineProperty(this,"noteIdx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graceIdx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadGraceIdxError",this.noteIdx=_,this.graceIdx=y,S&&S.msgPrefix==="Cannot insert"?this.action=d.INSERT:this.action=d.GET}}Object.defineProperty(d,"GET",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"There is no"}}),Object.defineProperty(d,"INSERT",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"Cannot insert"}});const u=d;var l=c(278243),f=c(854746),p=c(417226),h=c(615428),r=c(726042),i=c(123491),O=c(209175);class M{constructor(_){this.gracesList=_}insertNote(_,y){this.gracesList.insertNote(_,y)}removeNote(_,y){let S;typeof _=="number"?S=_:S=this.indexOf(_),this.assertSameTimeModifAt(S,y),this.gracesList.removeNote(S)}assertSameTimeModifAt(_,y){if(!this.isSameTimeModifAt(_,y)){const S="Cannot remove a note from a sub-tuplet.";throw new n.default("SubTuplet",S)}}indexOf(_){return this.gracesList.indexOf(_)}indexOfGrace(_,y){return this.gracesList.indexOfGrace(_,y)}removeNoteFromChord(_,y){this.gracesList.removeNoteFromChord(_,y)}addNoteToChord(_,y){this.gracesList.addNoteToChord(_,y)}insertGrace(_,y,S){this.gracesList.insertGrace(_,y,S)}removeGrace(_,y){this.gracesList.removeGrace(_,y)}addGraceToChord(_,y,S){this.gracesList.addGraceToChord(_,y,S)}removeGraceFromChord(_,y,S){this.gracesList.removeGraceFromChord(_,y,S)}assertNoteIdx(_){this.gracesList.assertNoteIdx(_)}assertInsertionIdx(_){this.gracesList.assertInsertionIdx(_)}assertGraceIdx(_,y){this.gracesList.assertGraceIdx(_,y)}checkInsertionIdx(_){const y=this.getNbNotes();if(!r.default.isNumber(_)||_<0||_>y)throw new e.A(_,e.A.INSERT)}checkGraceIdx(_,y){if(this.checkNoteIdx(_),!this.isValidGraceIdx(_,y))throw new u(_,y,u.GET)}isValidGraceIdx(_,y){const S=this.getNbGraces(_);return r.default.isNumber(y)&&y>=0&&y<S}checkGraceInsertionIdx(_,y){this.checkNoteIdx(_);const S=this.getNbGraces(_);if(!r.default.isNumber(y)||y<0||y>S)throw new u(_,y,u.INSERT)}checkNoteIdx(_){if(!this.isValidNoteIdx(_))throw new e.A(_)}isValidNoteIdx(_){const y=this.getNbNotes();return r.default.isNumber(_)&&_>=0&&_<y}checkNotRest(_){if(this.isRest(_))throw new l.A}checkRest(_){if(!this.isRest(_))throw new f.A}checkNotChord(_){if(this.isChord(_))throw new p.A}checkGraceNotChord(_,y){if(this.isGraceChord(_,y))throw new p.A}checkChord(_){if(!this.isChord(_))throw new h.A}checkGraceChord(_,y){if(!this.isGraceChord(_,y))throw new h.A}getSpaceFromIdx(_){const y=this.getNbNotes();return this.getRangeSpace(_,y)}getRangeSpace(_,y){let S=0;for(let x=_;x<y;x++){const z=this.getNote(x),q=i.default.getDuration(z);S+=q}return S}getAvailableSpaceAtIdx(_){const y=this.getNbNotes();return this.getAvailableSpaceLeftToRight(_,y)}getAvailableSpaceLeftToRight(_,y,S){let x=0;for(let z=_;z<y;z++){if(this.isBlockingAdd(z,S))return x;const q=this.getNote(z),oe=i.default.getDuration(q);x+=oe}return x}getAvailableSpaceAtEnd(_){const y=this.getNbNotes();return this.getAvailableSpaceRightToLeft(_,y)}getSpaceToEnd(_){const y=this.getNbNotes();return this.getSpaceRightToLeft(_,y)}getSpaceRightToLeft(_,y){let S=0;for(let x=y-1;x>=_;x--){const z=this.getNote(x),q=i.default.getDuration(z);S+=q}return S}getAvailableSpaceRightToLeft(_,y,S){let x=0;for(let z=y-1;z>=_;z--){if(this.isBlockingAdd(z,S))return x;const q=this.getNote(z),oe=i.default.getDuration(q);x+=oe}return x}isBlockingAdd(_,y){return!this.isRest(_)||!this.isSameTimeModifAt(_,y)}isSameTimeModifAt(_,y){const S=this.getTimeModifAt(_),x=this.timeModifOrOwn(y);return O.default.isSame(S,x)}getTimeModifAt(_){const y=this.getNote(_);return i.default.getTimeModif(y)}getNote(_){return this.gracesList.getNote(_)}isUnpitched(_){const y=this.getNote(_);return i.default.hasUnpitched(y)}isOnlyRests(){const _=this.getNbNotes();for(let y=0;y<_;y++)if(!this.isRest(y))return!1;return!0}isRest(_){if(this.isChord(_))return!1;{const y=this.getNote(_);return i.default.isRest(y)}}isChord(_){return this.gracesList.isChord(_)}getChord(_){return this.gracesList.getChord(_)}isGraceChord(_,y){return this.gracesList.isGraceChord(_,y)}getGrace(_,y){return this.gracesList.getGrace(_,y)}getGraceChord(_,y){return this.gracesList.getGraceChord(_,y)}hasGrace(_){return this.gracesList.hasGrace(_)}getNbGraces(_){return this.gracesList.getNbGraces(_)}getIdx(){return this.getVoiceIdx()}getVoiceIdx(){return this.gracesList.getVoiceIdx()}size(){return this.getNbNotes()}getNbNotes(){return this.gracesList.getNbNotes()}getTupletLevel(){return 0}timeModifOrOwn(_){return typeof _!="undefined"?_:this.getAbsoluteTimeModif()}getAbsoluteTimeModif(){return O.default.createDefault()}getLocalTimeModif(){return O.default.createDefault()}getStartNoteIdx(){return 0}getStopNoteIdx(){return this.getNbNotes()-1}isTuplet(){return!1}}var m=c(596114),E=c(476943);const v=function(D,_){_=_||0,this.voicesList=null,this.notes=[],this.idx=_,this.init(D)};v.createFromVoicesList=function(D,_){const y=D.getVoice(_),S=new v(y,_);return S.setVoicesList(D),S};const R=v.prototype;R.init=function(D){D.forEach(this.initAddNote,this)},R.setVoicesList=function(D){this.voicesList=D},R.hasVoicesList=function(){return this.voicesList!==null},R.initAddNote=function(D){i.default.isChord(D)?this.initAddNoteToChord(D):this.notes.push(D)},R.initAddNoteToChord=function(D){if(this.notes.length===0){const _="try to create chord on en empty voice";throw new m.A(_)}else{const _=this.notes.length-1;this.addNoteToChord(D,_,!0)}},R.makeChord=function(D){const _=this.notes[D];if(E.default.isArray(_)){const y="note is already a chord";throw new m.A(y)}else this.notes[D]=[_]},R.getNote=function(D){return this.isChord(D)?this.notes[D][0]:this.notes[D]},R.insertNote=function(D,_){if(this.assertInsertionIdx(_),this.assertNoteVoiceIdx(D),this.notes.splice(_,0,D),this.hasVoicesList()){const y=this.getIdxInVoiceNotes(_);this.voicesList.addNoteToVoice(D,y,this.getVoiceIdx())}},R.removeNote=function(D){let _;if(typeof D=="number"?_=D:_=this.indexOf(D),this.assertNoteIdx(_),this.isChord(_)){const S=`Cannot remove note at idx ${_} because it is a chord. Remove sub-notes first`;throw new m.A(S)}const y=this.getIdxInVoiceNotes(_);this.notes.splice(_,1),this.hasVoicesList()&&this.voicesList.removeNoteFromVoice(y,this.getVoiceIdx())},R.indexOf=function(D){return this.notes.indexOf(D)},R.removeNoteFromChord=function(D,_){if(this.checkIdxInChord(D,_),!this.isChord(D)){const x=`Cannot remove chord note at idx ${D} because it is not a chord. Use removeNote instead`;throw new m.A(x)}const y=this.getIdxInVoiceNotes(D,_),S=this.getChord(D);if(_===0){const x=i.default.removeChordData(S[0]);i.default.addChordData(S[1],x),F(S[1])}S.splice(_,1),S.length===1&&this.makeNote(D),this.hasVoicesList()&&this.voicesList.removeNoteFromVoice(y,this.getVoiceIdx())},R.addNoteToChord=function(D,_,y){this.assertNotRest(_),this.assertNoteVoiceIdx(D),this.isChord(_)||this.makeChord(_);const S=this.getChord(_),x=B(S,D);if(x===0){const z=S[0],q=i.default.removeChordData(z);i.default.addChordData(D,q),L(z)}else L(D);if(S.splice(x,0,D),!y&&this.hasVoicesList()){const z=this.getIdxInVoiceNotes(_,x);this.voicesList.addNoteToVoice(D,z,this.getVoiceIdx())}},R.getIdxInVoiceNotes=function(D,_){_=_||0;let y=0,S=0;for(;S<D;S++)if(this.isChord(S)){const x=this.getChord(S);y+=x.length}else y++;return this.isChord(S)&&(y+=_),y};const B=function(D,_){let y=0;for(;y<D.length;y++)if(D[y].duration<_.duration)return y;return y};R.assertNotRest=function(D){if(this.isRest(D)){const _=`The operation on the note at index [${D}] is not possible on rests. `,y=new n.default("NotPossibleOnRests",_);throw y.noteIdx=D,y}},R.isRest=function(D){if(this.isChord(D))return!1;{const _=this.getNote(D);return i.default.isRest(_)}},R.checkIdxInChord=function(D,_){let y;if(!this.isChord(D))throw y="Trying to edit a note as a chord",new m.A(y);const S=this.getChord(D);if(typeof _!="number"||_<0||_>=S.length){y=`Bad chord idx [${_}] for the note at idx [${D}].`;const x=new n.default("BadChordIdx",y);throw x.noteIdx=D,x.chordIdx=_,x}},R.makeNote=function(D){const _=this.notes[D];if(!E.default.isArray(_)){const y="The chord is already a single note";throw new m.A(y)}this.notes[D]=_[0]},R.assertNoteVoiceIdx=function(D){const _=i.default.getVoiceIdx(D),y=this.getVoiceIdx();if(_!==y){const S=`The note voiceIdx [${_}] do not match the own voice voiceIdx [${y}]. `,x=new n.default("BadVoiceIdx",S);throw x.voiceIdx=_,x}},R.getVoiceIdx=function(){return this.idx},R.assertInsertionIdx=function(D){const _=this.getNbNotes();if(typeof D!="number"||D<0||D>_){const y=`Invalid note idx for insertion: [${D}]. `,S=new n.default("BadInsertionNoteIdx",y);throw S.noteIdx=D,S}},R.isChord=function(D){return this.assertNoteIdx(D),E.default.isArray(this.notes[D])},R.getChord=function(D){return this.assertNoteIdx(D),this.notes[D]},R.assertNoteIdx=function(D){const _=this.getNbNotes();if(typeof D!="number"||D<0||D>=_){const y=`Invalid note idx for get: [${D}]. `,S=new n.default("BadNoteIdx",y);throw S.noteIdx=D,S}},R.getNbNotes=function(){return this.notes.length};const L=function(D){D.chord={}},F=function(D){delete D.chord},V=v,G=function(D){this.chordsList=D,this.notes=N(D)},U=G.prototype;U.getVoiceIdx=function(){return this.chordsList.getVoiceIdx()},U.getNote=function(D){return this.assertNoteIdx(D),this.isChord(D)?this.notes[D].note[0]:this.notes[D].note},U.isChord=function(D){return this.assertNoteIdx(D),E.default.isArray(this.notes[D].note)},U.getChord=function(D){return this.assertNoteIdx(D),this.notes[D].note},U.getGrace=function(D,_){return this.isGraceChord(D,_)?this.notes[D].graces[_][0]:this.notes[D].graces[_]},U.isGraceChord=function(D,_){return this.assertGraceIdx(D,_),E.default.isArray(this.notes[D].graces[_])},U.getGraceChord=function(D,_){return this.assertGraceIdx(D,_),this.notes[D].graces[_]},U.assertGraceIdx=function(D,_){const y=this.getNbGraces(D);if(!r.default.isNumber(_)||_<0||_>=y){const S=`Invalid graceIdx for get: [${_}] at the noteIdx [${D}]. `,x=new n.default("BadGraceIdx",S);throw x.noteIdx=D,x.graceIdx=_,x}},U.insertNote=function(D,_){this.assertInsertionIdx(_);const y=this.getInsertIdxInChordsList(_);this.chordsList.insertNote(D,y);const S={note:D,graces:[]};this.notes.splice(_,0,S)},U.assertInsertionIdx=function(D){const _=this.getNbNotes();if(!r.default.isNumber(D)||D<0||D>_){const y=`Invalid note idx for insertion: [${D}]. `,S=new n.default("BadInsertionNoteIdx",y);throw S.noteIdx=D,S}},U.getInsertIdxInChordsList=function(D){const _=this.getNbNotes();if(D>_)throw new m.A;let y=0,S;for(let x=0;x<D;x++)S=this.getNbGraces(x),y+=S,y++;return y},U.removeNote=function(D){let _;typeof D=="number"?_=D:_=this.indexOf(D),this.assertNoteIdx(_),this.assertNoGrace(_);const y=this.getIdxInChordsList(_);this.chordsList.removeNote(y),this.notes.splice(_,1)},U.indexOf=function(D){return this.notes.findIndex($,D)};const $=function(D){const _=this;return D.note===_};U.indexOfGrace=function(D,_){return this.assertNoteIdx(D),this.notes[D].graces.findIndex(j,_)};const j=function(D){return D===this};U.assertNoGrace=function(D){if(this.hasGrace(D)){const _=`Cannot remove the note at idx [${D}] because it is has grace notes associated with. Remove grace notes first`,y=new n.default("StillHasGrace",_);throw y.noteIdx=D,y}},U.hasGrace=function(D){return this.getNbGraces(D)>0},U.getNbGraces=function(D){return this.assertNoteIdx(D),this.notes[D].graces.length},U.removeNoteFromChord=function(D,_){this.assertNoteIdx(D);const y=this.getIdxInChordsList(D);this.chordsList.removeNoteFromChord(y,_),this.refreshNote(D,y)},U.addNoteToChord=function(D,_){this.assertNoteIdx(_);const y=this.getIdxInChordsList(_);this.chordsList.addNoteToChord(D,y),this.refreshNote(_,y)},U.assertNoteIdx=function(D){const _=this.getNbNotes();if(!r.default.isNumber(D)||D<0||D>=_){const y=`Invalid note idx for get: [${D}]. `,S=new n.default("BadNoteIdx",y);throw S.noteIdx=D,S}},U.getIdxInChordsList=function(D){const _=this.getNbNotes();if(D>=_)throw new m.A;let y=0,S,x=0;for(;x<D;x++)S=this.getNbGraces(x),y+=S,y++;return S=this.getNbGraces(x),y+=S,y},U.refreshNote=function(D,_){const y=this.notes[D];this.chordsList.isChord(_)?y.note=this.chordsList.getChord(_):y.note=this.chordsList.getNote(_)},U.insertGrace=function(D,_,y){this.assertNotRest(_,y),this.assertGraceInsertionIdx(_,y);const S=this.getGraceIdxInChordsList(_,y);this.chordsList.insertNote(D,S),this.notes[_].graces.splice(y,0,D)},U.assertNotRest=function(D){if(this.isRest(D)){const _=`The operation on the note at index [${D}] is not possible on rests. `,y=new n.default("NotPossibleOnRests",_);throw y.noteIdx=D,y}},U.isRest=function(D){if(this.isChord(D))return!1;{const _=this.getNote(D);return i.default.isRest(_)}},U.assertGraceInsertionIdx=function(D,_){const y=this.getNbGraces(D);if(!r.default.isNumber(_)||_<0||_>y){const S=`Invalid graceIdx for insert: [${_}] at the noteIdx [${D}]. `,x=new n.default("BadGraceInsertionIdx",S);throw x.noteIdx=D,x.graceIdx=_,x}},U.removeGrace=function(D,_){this.assertGraceIdx(D,_);const y=this.getGraceIdxInChordsList(D,_);this.chordsList.removeNote(y),this.notes[D].graces.splice(_,1)},U.addGraceToChord=function(D,_,y){this.assertGraceIdx(_,y);const S=this.getGraceIdxInChordsList(_,y);this.chordsList.addNoteToChord(D,S),this.refreshGrace(_,y,S)},U.removeGraceFromChord=function(D,_,y){this.assertGraceIdx(D,_);const S=this.getGraceIdxInChordsList(D,_);this.chordsList.removeNoteFromChord(S,y),this.refreshGrace(D,_,S)},U.getGraceIdxInChordsList=function(D,_){const y=this.getNbNotes();if(D>=y)throw new m.A;let S=0,x,z=0;for(;z<D;z++)x=this.getNbGraces(z),S+=x,S++;if(x=this.getNbGraces(z),_>x)throw new m.A;return S+=_,S},U.refreshGrace=function(D,_,y){const S=this.notes[D];this.chordsList.isChord(y)?S.graces[_]=this.chordsList.getChord(y):S.graces[_]=this.chordsList.getNote(y)},U.getNbNotes=function(){return this.notes.length};let I=null;const N=function(D){return w().build(D)},w=function(){return I===null&&(I=new K),I},K=function(){},H=K.prototype;H.build=function(D){this.chordsList=D,this.notes=[],this.noteContainer=null;const _=this.chordsList.getNbNotes();for(let y=0;y<_;y++)this.addNote(y);if(this.noteContainer!==null){const y="Some grace notes are not connected to any data";throw new n.default("Unexpected",y)}return this.notes},H.addNote=function(D){const _=this.chordsList.getNote(D);i.default.isGraceNote(_)?this.addGraceNote(D):this.addStandardNote(D)},H.addGraceNote=function(D){const _=this.getNoteContainer(),y=this.getNoteData(D);_.graces.push(y)},H.addStandardNote=function(D){const _=this.getNoteContainer(),y=this.getNoteData(D);_.note=y,this.notes.push(_),this.noteContainer=null},H.getNoteContainer=function(){return this.noteContainer===null&&(this.noteContainer={note:null,graces:[]}),this.noteContainer},H.getNoteData=function(D){return this.chordsList.isChord(D)?this.chordsList.getChord(D):this.chordsList.getNote(D)};const X=G;class Z{constructor(_){this.measure=_,this.barlinelist=g.default.getBarlines(_)}getAtPos(_){for(let y=0;y<this.barlinelist.length;y++)if(this.barlinelist[y].$location===_)return this.barlinelist[y];return null}insertBarline(_){this.barlinelist.push(_)}removeBarline(_){const y=this.barlinelist.indexOf(_);this.barlinelist.splice(y,1)}commit(){g.default.setBarlines(this.measure,this.barlinelist)}}var Q=c(867085),ee=c(961214);const k=function(D){this.init(D)},J=k.prototype;J.init=function(D){this.voice=D,this.tuplet=null},J.initWithVoice=function(){this.tuplet=this.voice},J.getTupletForInsert=function(D){if(this.hasTuplet())return this.assertInsertionIdx(D),this.tuplet;{const _="Cannot create a tuplet when seeking the insertion point: there might be two possible tuplet for the note idx";throw new n.default("NoTuplet",_)}},J.getTupletForGet=function(D){return this.hasTuplet()?(this.assertNoteIdx(D),this.tuplet):(this.createTuplet(D),this.tuplet)},J.clear=function(){this.tuplet=null},J.hasTuplet=function(){return this.tuplet!==null},J.assertInsertionIdx=function(D){this.tuplet.assertInsertionIdx(D)},J.assertNoteIdx=function(D){this.tuplet.assertNoteIdx(D)},J.createTuplet=function(D){const _=(0,ee.A)(this.voice,D);this.tuplet=(0,Q.A)(this.voice,D,_)};const se=k;class re{constructor(_,y=null,S=null,x=null){this.data=_,this.idx=y,this.scroller=S||null,this.scoreData=x||null,this.divisions=null,this.voicesList=null,this.barlineList=null,this.voices={},this.tupletCaches={},this.clefs=null,this.staffsDetails=null,this.keys=null,this.times=null,this.transposes=null,this.scroller!==null&&this.scroller.registerMeasureData(this)}getIdx(){return this.idx}getDivisions(){return this.divisions===null&&(this.divisions=new t.A(this.data)),this.divisions}getDpqValue(){return this.getDivisionsPerQuarterValue()}getDivisionsPerQuarterValue(){return this.getDivisions().getDivisions()}checkVoiceIdx(_){this.getVoicesList().checkVoiceIdx(_)}getStaffNbVoices(_){const y=this.getScoreData(),S=this.getPartIdx();let x=y.getPartStaffVoicesIndexes(S,_);return x=x.filter(this.hasVoice,this),x.length}hasVoice(_){return this.getVoicesList().hasVoice(_)}getAnyVoice(){const y=this.getVoicesIndexes()[0];return this.getVoice(y)}getVoice(_){let y=this.voices[_];if(typeof y=="undefined"){const S=this.getVoicesList(),x=V.createFromVoicesList(S,_),z=new X(x);y=new M(z),this.voices[_]=y}return y}removeVoice(_){this.getVoicesList().removeVoice(_),delete this.voices[_],delete this.tupletCaches[_]}clearVoicesCache(){this.voices={}}forEachVoice(_,y){const S=this.getVoicesIndexes(),x=S.length;for(let z=0;z<x;z++){const q=S[z],oe=this.getVoice(q);_.call(y,oe,q)}}getVoicesIndexes(){return this.getVoicesList().getVoicesIndexes()}getVoicesList(){return this.voicesList===null&&(this.voicesList=new o.A(this.data)),this.voicesList}getNbStaves(){return g.default.getNbStaves(this.data)}getAttributes(){return g.default.getAttributes(this.data)}getClef(_){return this.getClefs().getEntry(_)}getClefs(){return this.clefs===null&&(this.clefs=g.default.getWrappedClef(this.data)),this.clefs}getStaffDetails(_){return this.getStaffsDetails().getEntry(_)}getStaffsDetails(){return this.staffsDetails===null&&(this.staffsDetails=g.default.getWrappedStaffDetailsOrDefault(this.data)),this.staffsDetails}getKey(_){return this.getKeys().getEntry(_)}getKeys(){return this.keys===null&&(this.keys=g.default.getWrappedKey(this.data)),this.keys}getAnyTime(){return this.getTimes().getAnyEntry()}getTime(_){return this.getTimes().getEntry(_)}getTimes(){return this.times===null&&(this.times=g.default.getWrappedTime(this.data)),this.times}getTranspose(_){return this.getTransposes().getEntry(_)}getTransposes(){return this.transposes===null&&(this.transposes=g.default.getWrappedTranspose(this.data)),this.transposes}getBarlineList(){return this.barlineList===null&&(this.barlineList=new Z(this.data)),this.barlineList}getPreviousMeasure(){const _=this.idx-1;return this.scroller.getMeasureData(_)}hasPreviousMeasure(){return this.idx-1>=0}getNextMeasure(){const _=this.idx+1;return this.scroller.getMeasureData(_)}hasNextMeasure(){const _=this.idx+1,y=this.getNbMeasures();return _<y}getNbMeasures(){return this.scroller.getNbMeasures()}getPartIdx(){return this.scroller.getPartIdx()}hasUnpitchedInstrument(_){const y=this.getPartIdx();return this.scoreData.hasUnpitchedInstrument(y,_)}isUnpitched(){const _=this.getPartIdx();return this.scoreData.isPartUnpitched(_)}initTupletCacheWithVoice(_){this.getTupletCache(_).initWithVoice()}getVoiceOrTupletForInsert(_,y){return this.getTupletCache(_).getTupletForInsert(y)}getVoiceOrTupletForGet(_,y){return this.getTupletCache(_).getTupletForGet(y)}getTupletCache(_){if(typeof this.tupletCaches[_]=="undefined"){const y=this.getVoice(_);this.tupletCaches[_]=new se(y)}return this.tupletCaches[_]}clearTupletCache(_){this.getTupletCache(_).clear()}getMeasure(){return this.data}getScoreData(){return this.scoreData}getMeasuresScroller(){return this.scroller}getVoiceMainStaffIdx(_){const y=this.getScoreData(),S=this.getPartIdx();return y.getPartVoiceMainStaffIdx(S,_)}}},838603:(C,P,c)=>{c.d(P,{A:()=>j});var g=c(951066);function t(I){return`The number of measure in the measure-repeat pattern [${I}] is invalid.`}class o extends g.A{constructor(N){const w=t(N);super(w),Object.defineProperty(this,"patternNbMeasures",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadMeasureRepeatPattern",this.patternNbMeasures=N}}var n=c(568357),e=c(726042),a=c(364842);const s="$slashes",d=1,u=1;function l(){return{$type:n.A.STOP}}function f(I){I.$type=n.A.START}function p(I){if(I!==u)throw new o(I)}function h(I){return V(I)===u}function r(I,N){const w=L(I),K=L(N),H=V(I),X=V(N);return w===K&&H===X}function i(I,N){const w=L(I),K=L(N),H=V(I),X=V(N),Z=$(I),Q=$(N);return w===K&&H===X&&Z===Q}function O(I){const N=L(I),w=V(I);if(w===null)throw new Error("The nbMeasures is null in the measure repeat.");return{content:w.toString(),[s]:N.toString()}}function M(I,N){m(I),I.$adagio.measureIdx=N}function m(I){E(I)||v(I)}function E(I){return typeof I.$adagio!="undefined"}function v(I){I.$adagio={}}function R(I,N){return{content:I.toString(),[s]:N.toString()}}function B(I){if(!I.$adagio||typeof I.$adagio.measureIdx=="undefined")throw new Error("The measureIdx is not set in the measure repeat.");return I.$adagio.measureIdx}function L(I){return F(I)?parseInt(I[s],10):d}function F(I){return typeof I[s]=="string"&&e.default.isInteger(parseInt(I[s],10))}function V(I){return typeof I.content=="undefined"?null:parseInt(I.content,10)}function G(I){const N=$(I);return n.A.isStart(N)}function U(I){const N=$(I);return n.A.isStop(N)}function $(I){if(typeof I.$type=="undefined")throw new a.default("MissingStartStop","The measureRepeat is missing the StartStop field.");return I.$type}const j={createStop:l,makeStart:f,checkPatternNbMeasures:p,isSupported:h,isSameWorking:r,isSame:i,copy:O,setPatternMeasureIdx:M,create$adagioIfNeeded:m,has$adagio:E,create$adagio:v,create:R,getPatternMeasureIdx:B,getNbSlashes:L,hasNbSlashes:F,getPatternNbMeasures:V,isStart:G,isStop:U,getType:$}},847051:(C,P,c)=>{c.d(P,{A:()=>n});var g=c(607682);function t(e,a){return`${a.msgPrefix} note at the index [${e}<${typeof e}>].`}class o extends g.default{constructor(a,s){const d=s||o.GET,u=t(a,d);super(u),Object.defineProperty(this,"noteIdx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadNoteIdxError",this.noteIdx=a,this.action=d}}Object.defineProperty(o,"GET",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"There is no"}}),Object.defineProperty(o,"INSERT",{enumerable:!0,configurable:!0,writable:!0,value:{msgPrefix:"Cannot insert"}});const n=o},854746:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(607682);class t extends g.default{constructor(){super("This operation is not possible on nonrests."),this.name="NotPossibleOnNonRestsError"}}},857546:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(364842);const t=["ppp","pp","p","mp","mf","f","ff","fff","sfz","rfz","pf","fp"],o={ppp:16,pp:33,p:49,mp:64,mf:84,f:90,ff:112,fff:126,sfz:112,rfz:112,fp:49,pf:90},n={};n.isValidStyle=function(s){return t.includes(s)},n.getDefaultIntensityForStyle=function(s){if(typeof o[s]!="undefined")return o[s];{const d=`There is no default intensities for the style [${s}].`;throw new g.default("MissingDefault",d)}},n.create=function(s,d){const u={};if(u[s]={},d){const{x:l,y:f}=d;l&&this.setRelativePositionX(u,l),f&&this.setRelativePositionY(u,f)}return u},n.hasStyle=function(s){let d=Object.keys(s);return d=d.filter(e),d.length===1},n.getStyle=function(s){let d=Object.keys(s);d=d.filter(e);let u;if(d.length>1)throw u="There should be only one value for dynamic.",new g.default("MultipleValue",u);if(d.length===0)throw u="There should be one value for dynamic.",new g.default("NoValue",u);return d[0]},n.getRelativePositionX=function(s){return s["$relative-x"]},n.getRelativePositionY=function(s){return s["$relative-y"]},n.setRelativePositionX=function(s,d){s["$relative-x"]=d},n.setRelativePositionY=function(s,d){s["$relative-y"]=d};const e=function(s){return!s.startsWith("$")};n.copy=function(s){const d=n.getStyle(s);return n.create(d)};const a=n},857899:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(555172);const t={};t.hasLeftEnding=function(n){if(t.hasLeft(n)){const e=t.getLeft(n);return g.A.hasEnding(e)}else return!1},t.getLeftEndingNumbers=function(n){const e=t.getLeft(n);return g.A.getEndingNumbers(e)},t.getLeftEnding=function(n){const e=t.getLeft(n);return g.A.getEnding(e)},t.hasRightEnding=function(n){if(t.hasRight(n)){const e=t.getRight(n);return g.A.hasEnding(e)}else return!1},t.getRightEndingNumbers=function(n){const e=t.getRight(n);return g.A.getEndingNumbers(e)},t.getRightEnding=function(n){const e=t.getRight(n);return g.A.getEnding(e)},t.addBarline=function(n,e){n.push(e)},t.hasRightSpecific=function(n){if(t.hasRight(n)){const e=t.getRight(n);return g.A.isSpecific(e)}else return!1},t.hasRight=function(n){return n.some(g.A.isRight)},t.getRight=function(n){return n.find(g.A.isRight)},t.hasRepeatBackward=function(n){return n.some(g.A.hasRepeatBackward)},t.hasRepeatForward=function(n){return n.some(g.A.hasRepeatForward)},t.hasLeft=function(n){return n.some(g.A.isLeft)},t.getLeft=function(n){return n.find(g.A.isLeft)},t.removeRight=function(n){let e=n.findIndex(g.A.isRight);for(;e!==-1;)n.splice(e,1),e=n.findIndex(g.A.isRight)},t.removeLeft=function(n){let e=n.findIndex(g.A.isLeft);for(;e!==-1;)n.splice(e,1),e=n.findIndex(g.A.isLeft)},t.getRightStyle=function(n){const e=t.getRight(n);return g.A.getStyle(e)},t.getLeftStyle=function(n){const e=t.getLeft(n);return g.A.getStyle(e)};const o=t},858375:(C,P,c)=>{c.d(P,{A:()=>t});var g=c(951066);class t extends g.A{constructor(n){const e=`The string [${n}] has already been used for another frame note.`;super(e),Object.defineProperty(this,"string",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="StringAlreadyUsedInFrameError",this.string=n}}},863023:(C,P,c)=>{c.d(P,{A:()=>G});var g=c(613903),t=c(464173),o=c(365340),n=c(359363),e=c(681670),a=c(529355),s=c(309617);function d(U){if(!s.A.hasKind(U)||s.A.isClassic(U))return!1;const $=s.A.getKindValue(U);if(!t.A.isSupported($))return!1;const j=h(U);return!!n.A.isValid(j)}function u(U,$){const j=l(U),I=a.A.transpose(j,$),N=s.A.getKindValue(U),w=s.A.getAdagioKind(U),K=r(I,N),H=s.A.getTimePos(U);if(s.A.setTimePos(K,H),f(U)){const Q=p(U),ee=e.A.transpose(Q,$);O(K,ee)}let X=h(U);X=n.A.copy(X),M(K,X),s.A.setAdagioKind(K,w);const Z=s.A.getHarmonyUuid(U);return s.A.setHarmonyUuid(K,Z),K}function l(U){return U.root}function f(U){return typeof U.bass!="undefined"}function p(U){return U.bass}function h(U){return o.default.getArray(U,"degree")}function r(U,$){return i(U,$)}function i(U,$){return{root:U,kind:$}}function O(U,$){U.bass=$}function M(U,$){o.default.setArray(U,"degree",$)}function m(U,$){U.frame=$}function E(U){return typeof U.frame!="undefined"}function v(U){return U.frame}function R(U,$){if(!U||!$)return!1;const j=s.A.getKind(U)===s.A.getKind($),I=s.A.getAdagioKind(U)===s.A.getAdagioKind($),N=a.A.isSame(l(U),l($)),w=h(U),K=h($),H=n.A.isSame(w,K),X=F(U)===F($),Z=p(U),Q=p($),ee=!Z&&!Q||Z&&Q&&e.A.isSame(Z,Q);return!!(I&&j&&N&&H&&X&&ee)}function B(U,$){U.$type=$}function L(U){return F(U)===g.A.ALTERNATE}function F(U){return V(U)?U.$type:g.A.DEFAULT}function V(U){return typeof U.$type!="undefined"}const G={create:r,createJazz:i,getRoot:l,getBass:p,getDegrees:h,getFrame:v,hasBass:f,hasFrame:E,isValidJazz:d,setBass:O,setDegrees:M,setFrame:m,isSameJazz:R,isAlternate:L,setType:B,getType:F,hasType:V,transpose:u}},867085:(C,P,c)=>{c.d(P,{A:()=>m});var g=c(364842),t=c(123491);const o="NoteIdxOutOfTuplet",n=function(E,v,R,B){this.init(E,v,R,B)},e=n.prototype;e.init=function(E,v,R,B){this.voice=E,this.nbNotes=R,this.startNoteIdx=v,this.tupletLevel=B,this.localTimeModif=null,this.absoluteTimeModif=null,this.durationType=null,this.tupletBuffer=null},e.getChord=function(E){return this.assertNoteIdx(E),this.voice.getChord(E)},e.getNote=function(E){return this.assertNoteIdx(E),this.voice.getNote(E)},e.getTupletLevel=function(){return this.tupletLevel},e.insertNote=function(E,v){if(this.assertInsertionIdx(v),this.getNbNotes()===0)this.tupletBufferToNote(E);else if(v===this.getStartNoteIdx()){const R=this.getStartNote();this.transfertTupletStarts(R,E)}else if(v===this.getStopNoteIdx()+1){const R=this.getStopNote();this.transfertTupletStops(R,E)}this.voice.insertNote(E,v),this.nbNotes++},e.removeNote=function(E){this.assertNoteIdx(E);const v=this.getAbsoluteTimeModif(),R=this.getNote(E);if(this.voice.removeNote(E,v),this.nbNotes--,this.getNbNotes()===0)this.noteToTupletBuffer(R);else if(E===this.getStartNoteIdx()){const B=this.getStartNote();this.transfertTupletStarts(R,B)}else if(E===this.getStopNoteIdx()+1){const B=this.getStopNote();this.transfertTupletStops(R,B)}},e.transfertTupletStarts=function(E,v){const R=this.getTupletLevel(),B=t.default.getTupletStartsWithin(E,R);t.default.removeTupletStartsWithin(E,R),t.default.addTupletBounds(v,B)},e.transfertTupletStops=function(E,v){const R=this.getTupletLevel(),B=t.default.getTupletStopsWithin(E,R);t.default.removeTupletStopsWithin(E,R),t.default.addTupletBounds(v,B)},e.noteToTupletBuffer=function(E){if(this.tupletBuffer!==null){const v="The tuplet buffer is already full.";throw new g.default("TupletBufferFull",v)}else{const v=t.default.getTupletBounds(E);t.default.removeTupletBounds(E),this.tupletBuffer=v}},e.tupletBufferToNote=function(E){if(this.tupletBuffer===null){const v="The tuplet buffer is empty.";throw new g.default("TupletBufferEmpty",v)}else{const v=this.tupletBuffer;t.default.addTupletBounds(E,v),this.tupletBuffer=null}},e.isRest=function(E){return this.assertNoteIdx(E),this.voice.isRest(E)},e.getStartNote=function(){const E=this.getStartNoteIdx();return this.getNote(E)},e.getStartNoteIdx=function(){return this.startNoteIdx},e.getStopNote=function(){const E=this.getStopNoteIdx();return this.getNote(E)},e.getStopNoteIdx=function(){return this.getStartNoteIdx()+this.getNbNotes()-1},e.getIdx=function(){return this.voice.getIdx()},e.assertInsertionIdx=function(E){const v=this.getNbNotes,R=this.getStartNoteIdx(),B=R+v;if(typeof E!="number"||E<R||E>B){const L=`The note idx [${E}] is outside of the tuplet range.`;throw new g.default(o,L)}},e.assertNoteIdx=function(E){const v=this.getNbNotes,R=this.getStartNoteIdx(),B=R+v;if(typeof E!="number"||E<R||E>=B){const L=`The note idx [${E}] is outside of the tuplet range.`;throw new g.default(o,L)}},e.getRangeSpace=function(E,v){return this.voice.getRangeSpace(E,v)},e.getSpaceFromIdx=function(E){const v=this.getStopNoteIdx()+1;return this.voice.getRangeSpace(E,v)},e.getAvailableSpaceAtIdx=function(E){const v=this.getStopNoteIdx()+1,R=this.getAbsoluteTimeModif();return this.voice.getAvailableSpaceLeftToRight(E,v,R)},e.getAvailableSpaceAtEnd=function(E){const v=this.getStopNoteIdx()+1,R=this.getAbsoluteTimeModif();return this.voice.getAvailableSpaceRightToLeft(E,v,R)},e.size=function(){return this.getNbNotes()},e.getNbNotes=function(){return this.nbNotes},e.getAbsoluteTimeModif=function(){return this.absoluteTimeModif},e.getLocalTimeModif=function(){return this.localTimeModif},e.getDurationType=function(){return this.durationType},e.isTuplet=function(){return!0},e.isOnlyRests=function(){const E=this.getStartNoteIdx(),v=this.getStopNoteIdx();for(let R=E;R<=v;R++)if(!this.isRest(R))return!1;return!0};const a=n;var s=c(209175),d=c(870437);const u=function(E){const v=E.getStartNote(),R=E.getTupletLevel(),B=l(v,R),L=f(v,R),F=h(v,R);E.localTimeModif=B,E.absoluteTimeModif=L,E.durationType=F},l=function(E,v){const R=t.default.getTupletStart(E,v);return d.A.getTimeModif(R)},f=function(E,v){let R=t.default.getTupletStarts(E);R=R.slice(),R.sort(p);const B=R.length;let L=t.default.getTimeModif(E);for(let V=0;V<B;V++){const G=R[V];if(d.A.getLevel(G)===v)return L;{const $=d.A.getTimeModif(L);L=s.default.removeLocal(L,$)}}const F="was not able to find the absolute time modification.";throw new g.default("Unexpected",F)},p=function(E,v){const R=d.A.getLevel(E);return d.A.getLevel(v)-R},h=function(E,v){const R=t.default.getTupletStart(E,v);return d.A.getDurationType(R)},r=u,i=function(E,v,R){if(E.isTuplet()){const B="Cannot extract a tuplet from a tuplet.";throw new g.default("AlreadyTuplet",B)}if(R===0)return E;{const B=new O(E,v,R);B.search();const L=B.create();return r(L),L}},O=function(E,v,R){this.init(E,v,R)},M=O.prototype;M.init=function(E,v,R){this.voice=E,this.selectedNoteIdx=v,this.selectedTupletLevel=R},M.search=function(){this.tupletLevel=0,this.searchLowerBound(),this.searchUpperBound()},M.searchLowerBound=function(){let E=0,v=0;for(let R=0;R<=this.selectedNoteIdx;R++){if(R>0){const L=this.voice.getNote(R-1);t.default.hasTupletStop(L)&&(E=t.default.getTupletStopLevel(L)-1)}const B=this.voice.getNote(R);if(t.default.hasTupletStart(B)){const L=t.default.getTupletStartLevel(B);E<this.selectedTupletLevel&&L>=this.selectedTupletLevel&&(v=R),E=L}}if(E<this.selectedTupletLevel){const R=`There are no tuplet of the level [${this.selectedTupletLevel}] for the note idx [${this.selectedNoteIdx}].`;throw new g.default("NoTupletLevel",R)}else this.lowBound=v,this.currentTupletLevel=E},M.searchUpperBound=function(){let E=this.currentTupletLevel,v=this.selectedNoteIdx;for(;E>=this.selectedTupletLevel;v++){const R=this.voice.getNote(v);t.default.hasTupletStop(R)&&(E=t.default.getTupletStopLevel(R)-1)}this.tupletSize=v-this.lowBound},M.create=function(){return this.isVoice()?this.voice:this.createTuplet()},M.isVoice=function(){return this.lowBound===0&&this.tupletSize===this.voice.getNbNotes()&&this.selectedTupletLevel===0},M.createTuplet=function(){return new a(this.voice,this.lowBound,this.tupletSize,this.currentTupletLevel)};const m=i},868743:(C,P,c)=>{c.d(P,{A:()=>m});var g=c(364842),t=c(951066);function o(E){return`The pedal type [${E}] is invalid.`}class n extends t.A{constructor(v){const R=o(v);super(R),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadPedalTypeError",this.type=v}}const e="start",a="stop",s="change",d="continue",u=[e,a,s,d],l=[e,a];function f(E){return u.includes(E)}function p(E){return l.includes(E)}function h(E){return E===e}function r(E){return E===a}function i(E){if(!f(E)){const v=`Invalid value for pedal type: [${E}].`;throw new g.default("PedalType",v)}}function O(E){if(!p(E)){const v=`Invalid internal value for pedal type: [${E}].`;throw new g.default("PedalType",v)}}function M(E){if(!f(E))throw new n(E)}const m={START:e,STOP:a,CHANGE:s,CONTINUE:d,values:u,internalValues:l,isValid:f,isValidInternal:p,isStart:h,isStop:r,assert:i,assertInternal:O,check:M}},870437:(C,P,c)=>{c.d(P,{A:()=>d});var g=c(364842),t=c(230378),o=c(209175);const n="start",e="stop",a=1,s={};s.createStart=function(u,l,f){const p=o.default.getActual(l),h=o.default.getNormal(l),r=t.A.createActual(p,f),i=t.A.createNormal(h);return{$type:n,$number:u.toString(),"tuplet-actual":r,"tuplet-normal":i}},s.createNakedStart=function(u){return typeof u=="undefined"&&(u=a),{$type:n,$number:u.toString()}},s.setTupletActual=function(u,l){u["tuplet-actual"]=l},s.setTupletNormal=function(u,l){u["tuplet-normal"]=l},s.hasDurationType=function(u){if(s.hasActual(u)){const l=s.getActual(u);return t.A.hasDurationType(l)}else return!1},s.getDurationType=function(u){const l=s.getActual(u);return t.A.getDurationType(l)},s.getTimeModif=function(u){const l=s.getActual(u),f=t.A.getNumber(l),p=s.getNormal(u),h=t.A.getNumber(p);return o.default.create(f,h)},s.getNbActual=function(u){const l=s.getActual(u);return t.A.getNumber(l)},s.hasActual=function(u){return typeof u["tuplet-actual"]!="undefined"},s.getActual=function(u){return u["tuplet-actual"]},s.hasNormal=function(u){return typeof u["tuplet-normal"]!="undefined"},s.getNbNormal=function(u){const l=s.getNormal(u);return t.A.getNumber(l)},s.getNormal=function(u){return u["tuplet-normal"]},s.createStop=function(u){return typeof u=="undefined"&&(u=a),{$type:e,$number:u.toString()}},s.isStart=function(u){return s.getType(u)===n},s.isStop=function(u){return s.getType(u)===e},s.getType=function(u){return u.$type},s.getLevel=function(u){return s.hasLevel(u)?parseInt(u.$number,10):a},s.hasLevel=function(u){return typeof u.$number!="undefined"},s.isStopAndWithinLevel=function(u,l){return s.isStop(u)&&s.isWithinLevel(u,l)},s.isStartAndWithinLevel=function(u,l){return s.isStart(u)&&s.isWithinLevel(u,l)},s.isWithinLevel=function(u,l){return s.getLevel(u)<=l},s.isOutsideLevel=function(u,l){return s.getLevel(u)>l},s.stringify=function(u){const l=s.getLevel(u),f=s.getType(u);if(f===n)return`start-${l}`;if(f===e)return`stop-${l}`;{const p=`Unexpected tuplet type: [${f}].`;throw new g.default("Unexpected",p)}};const d=s},882934:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(951066);function t(r){return`The tempo value [${r}] is not valid. The tempo should be a positive non null integer`}class o extends g.A{constructor(i){const O=t(i);super(O),Object.defineProperty(this,"tempo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadTempoError",this.tempo=i}}var n=c(607801),e=c(603581),a=c(726042),s=c(777345),d=c(476943);const u={};u.hasMute=function(r){return typeof r.mute=="string"},u.getMute=function(r){return r.mute},u.setMute=function(r,i){r.mute=i},u.removeMute=function(r){delete r.mute};const l=u,f={};f.DEFAULT_TEMPO=80,f.MAX_DYNAMIC=140,f.getTempoOrDefault=function(r){return f.hasTempo(r)?f.getTempo(r):f.DEFAULT_TEMPO},f.hasTempo=function(r){return typeof r.$tempo!="undefined"},f.setTempo=function(r,i){r.$tempo=i.toString()},f.getTempo=function(r){return parseFloat(r.$tempo)},f.removeTempo=function(r){delete r.$tempo},f.getSwingOrDefault=function(r){return f.hasSwing(r)?f.getSwing(r):s.default.createDefault()},f.hasSwing=function(r){return typeof r["$adagio-swing"]!="undefined"},f.setSwing=function(r,i){r["$adagio-swing"]=i},f.getSwing=function(r){return r["$adagio-swing"]},f.removeSwing=function(r){delete r["$adagio-swing"]},f.setDynamic=function(r,i){r.$dynamics=i.toString()},f.getDynamic=function(r){return parseFloat(r.$dynamics)},f.hasDynamic=function(r){return typeof r.$dynamics!="undefined"},f.isValidDynamic=function(r){return typeof r=="number"&&r>=0&&r<=f.MAX_DYNAMIC},f.checkTempo=function(r){if(!f.isValidTempo(r))throw new o(r)},f.isValidTempo=function(r){return a.default.isInteger(r)&&r>0},f.removeTempo=function(r){delete r.$tempo},f.isNotEmpty=function(r){return!f.isEmpty(r)},f.isEmpty=function(r){return!Object.keys(r).some(p,r)};function p(r){const i=this;return!(!Object.prototype.hasOwnProperty.call(i,r)||r==="noteBefore"||r==="$adagio-location")}f.hasSegno=function(r){return typeof r.$segno!="undefined"},f.createSegno=function(r){r.$segno=n.A.SEGNO},f.deleteSegno=function(r){delete r.$segno},f.hasCoda=function(r){return typeof r.$coda!="undefined"},f.createCoda=function(r){r.$coda=n.A.CODA},f.deleteCoda=function(r){delete r.$coda},f.hasDalsegno=function(r){return typeof r.$dalsegno!="undefined"},f.createDalsegno=function(r){r.$dalsegno=n.A.SEGNO},f.deleteDalsegno=function(r){delete r.$dalsegno},f.hasDacapo=function(r){return typeof r.$dacapo!="undefined"},f.createDacapo=function(r){r.$dacapo="yes"},f.deleteDacapo=function(r){delete r.$dacapo},f.hasFine=function(r){return typeof r.$fine!="undefined"},f.createFine=function(r){r.$fine="yes"},f.deleteFine=function(r){delete r.$fine},f.hasToCoda=function(r){return typeof r.$tocoda!="undefined"},f.createToCoda=function(r){r.$tocoda=n.A.CODA},f.deleteToCoda=function(r){delete r.$tocoda},f.hasPizzicato=function(r){return typeof r.$pizzicato!="undefined"},f.hasValidPizzicato=function(r){const i=f.getPizzicato(r);return e.A.isValid(i)},f.getPizzicato=function(r){return r.$pizzicato},f.setPizzicato=function(r,i){r.$pizzicato=i},f.hasPlay=function(r){let i=r.play;return d.default.isArray(i)&&(i=i[0]),d.default.isObject(i)},f.getPlay=function(r){return f.hasPlay(r)?r.play:{}},f.setPlay=function(r,i){d.default.isObjectEmpty(i)?delete r.play:r.play=i},f.hasMute=function(r){if(!f.hasPlay(r))return!1;const i=f.getPlay(r);return l.hasMute(i)},f.setMute=function(r,i){const O=f.getPlay(r);l.setMute(O,i),f.setPlay(r,O)},f.getMute=function(r){const i=f.getPlay(r);return l.getMute(i)},f.removeMute=function(r){delete r.$tempo},f.setNoteBefore=function(r,i){r.noteBefore=i},f.getNoteBefore=function(r){return a.default.toInt(r.noteBefore)},f.setTimePos=function(r,i){f.add$adagioLocationIfNeeded(r),r["$adagio-location"].timePos=i},f.setDpq=function(r,i){f.add$adagioLocationIfNeeded(r),r["$adagio-location"].dpq=i},f.getDpq=function(r){return r["$adagio-location"].dpq},f.add$adagioLocationIfNeeded=function(r){f.has$adagioLocation(r)||(r["$adagio-location"]={})},f.has$adagioLocation=function(r){return typeof r["$adagio-location"]!="undefined"},f.getTimePos=function(r){return r["$adagio-location"].timePos};const h=f},889113:(C,P,c)=>{c.d(P,{A:()=>e});var g=c(773948);const t={},o=1,n=g.A.EIGHT;t.create=function(a,s,d,u){const l={$type:a};return t.setSize(l,s),t.setNumber(l,u),typeof d!="undefined"&&t.setLocation(l,d),l},t.getSize=function(a){return t.hasSize(a)?parseInt(a.$size,10):n},t.getType=function(a){return a.$type},t.getNumber=function(a){return t.hasNumber(a)?parseInt(a.$number,10):o},t.getLocation=function(a){if(t.has$adagio(a))return t.get$adagio(a).location},t.setSize=function(a,s){a.$size=typeof s!="undefined"?`${s}`:n},t.setNumber=function(a,s){a.$number=typeof s!="undefined"?`${s}`:o},t.setType=function(a,s){a.$type=s},t.setLocation=function(a,s){t.has$adagio(a)||t.create$adagio(a);const d=t.get$adagio(a);d.location=s},t.get$adagio=function(a){return a.$adagio},t.create$adagio=function(a){a.$adagio={}},t.hasLocation=function(a){return t.has$adagio(a)&&typeof a.$adagio.location!="undefined"},t.has$adagio=function(a){return typeof a.$adagio!="undefined"},t.hasType=function(a){return typeof a.$type!="undefined"},t.hasSize=function(a){return typeof a.$size!="undefined"},t.hasNumber=function(a){return typeof a.$number!="undefined"},t.isNumberValid=function(a){return a>0};const e=t},890439:(C,P,c)=>{c.d(P,{Ay:()=>r});function g(i){const O={};return i.forEach(o,O),O}function t(i,O){const M={};return Object.keys(i).forEach(o,M),Object.keys(O).forEach(o,M),M}function o(i){const O=this;O[i]=!0}function n(i,O){return e(i,O)?!0:!!e(O,i)}function e(i,O){for(const M in i)if(typeof O[M]!="undefined")return!0;return!1}function a(i){return Object.keys(i)}function s(i){const O={};for(const M in i)O[M]=!0;return O}function d(i,O){return u(i,O)?!!u(O,i):!1}function u(i,O){for(const M in i)if(typeof O[M]=="undefined")return!1;return!0}function l(i,O){const M={};for(const m in i)typeof O[m]=="undefined"&&(M[m]=!0);return M}function f(i){for(const O in i)return!1;return!0}function p(i){return Object.keys(i).length}const r={fromList:g,merge:t,addToSet:o,haveInter:n,toList:a,copy:s,isSame:d,substract:l,isEmpty:f,getSize:p}},907920:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The chord kind value [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"chordKind",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadChordKindError",this.chordKind=e}}},909748:(C,P,c)=>{c.d(P,{A:()=>m});var g=c(364842),t=c(951066);function o(E){return`The tempo change type [${E}] is invalid.`}class n extends t.A{constructor(v){const R=o(v);super(R),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadTempoChangeTypeError",this.type=v}}const e="ritardando",a="accelerando",s="stop",d="continue",u=[e,a,s,d],l=[e,a,s];function f(E){return u.includes(E)}function p(E){return l.includes(E)}function h(E){if(!f(E)){const v=`Invalid value for tempo change type: [${E}].`;throw new g.default("TempoChangeType",v)}}function r(E){if(!p(E)){const v=`Invalid internal value for tempo change type: [${E}].`;throw new g.default("TempoChangeType",v)}}function i(E){if(!f(E))throw new n(E)}function O(E){return E===a||E===e}function M(E){return E===s}const m={RITARDANDO:e,ACCELERANDO:a,STOP:s,CONTINUE:d,values:u,internalValues:l,isValid:f,isValidInternal:p,assert:h,assertInternal:r,check:i,isStart:O,isStop:M}},915033:(C,P,c)=>{c.d(P,{A:()=>t});const g={};g.isStart=function(o){return g.getType(o)==="start"},g.isStop=function(o){return g.getType(o)==="stop"},g.getType=function(o){return o.$type},g.createStart=function(){return{$type:"start"}},g.createStop=function(){return{$type:"stop"}},g.copy=function(o){return{$type:o.$type}};const t=g},916388:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(951066);class t extends g.A{constructor(d){const u=o(d);super(u),Object.defineProperty(this,"reverberation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadReverberationError",this.reverberation=d}}const o=function(s){return`The reverberation [${s}] is invalid. It must be a number between 0 and 100.`};var n=c(726042);const e={MIN:0,MAX:100,DEFAULT:0};e.check=function(s){if(!e.isValid(s))throw new t(s)},e.isValid=function(s){return n.default.isNumber(s)&&e.MIN<=s&&s<=e.MAX};const a=e},924784:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The wedge type [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadWedgeTypeError",this.type=e}}},951066:(C,P,c)=>{c.d(P,{A:()=>g});class g extends Error{constructor(o,n){super(o),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="ValueError",typeof n!="undefined"&&(this.code=n)}}},952818:(C,P,c)=>{c.d(P,{A:()=>M});var g=c(364842),t=c(735178),o=c(476943),n=c(726042),e=c(365340),a=c(717434),s=c(857546),d=c(234421),u=c(889113),l=c(501696),f=c(882934),p=c(301696),h=c(375950);const r="$adagio-isFirst",i={};i.setStaffIdx=function(m,E){m.staff=(E+1).toString()},i.getStaffIdx=function(m){return typeof m.staff=="undefined"?0:parseInt(m.staff,10)-1},i.hasDisplayDynamics=function(m){return i.hasType(m,t.A.DYNAMIC)},i.hasWedge=function(m){return i.hasType(m,t.A.WEDGE)},i.hasMetronome=function(m){return i.hasType(m,t.A.METRONOME)},i.hasType=function(m,E){return i.getTypes(m).includes(E)},i.getTypes=function(m){return i.getEntries(m).map(a.A.getType)},i.getType=function(m){const E=i.getTypes(m);if(E.length>1)throw new g.default("DirectionNotSingle");if(E.length===0)throw new g.default("EmptyDirection");return E[0]},i.extractCanvas=function(m){const E=i.getTimePos(m),v=i.getStaffIdx(m),R=i.getPlacement(m),B={};return i.setTimePos(B,E),i.setStaffIdx(B,v),i.setPlacement(B,R),B},i.setPlacement=function(m,E){m.$placement=E},i.getPlacement=function(m){return m.$placement},i.hasPlacement=function(m){return typeof m.$placement!="undefined"},i.hasSoundDynamic=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasDynamic(E)}else return!1},i.getSoundDynamic=function(m){const E=i.getSound(m);return f.A.getDynamic(E)},i.getSound=function(m){return i.hasSound(m)?m.sound:{}},i.getMetronome=function(m){const E=i.getMetronomeEntry(m);return a.A.getMetronome(E)},i.getMetronomeEntry=function(m){return i.getEntries(m).find(a.A.isMetronome)},i.getWedges=function(m){return i.getEntries(m).filter(a.A.isWedge).map(a.A.getWedge)},i.getWedge=function(m){const E=i.getWedgeEntry(m);return a.A.getWedge(E)},i.getWedgeEntry=function(m){return i.getEntries(m).find(a.A.isWedge)},i.hasSound=function(m){return typeof m.sound!="undefined"},i.setSoundDynamic=function(m,E){const v=i.getSound(m);f.A.setDynamic(v,E),i.setSound(m,v)},i.setSound=function(m,E){o.default.isObjectEmpty(E)?delete m.sound:m.sound=E},i.getPosTime=function(m){return i.getTimePos(m)},i.getTimePos=function(m){return m["$adagio-location"].timePos},i.setPosTime=function(m,E){i.setTimePos(m,E)},i.setTimePos=function(m,E){i.add$adagioLocationIfNeeded(m),m["$adagio-location"].timePos=E},i.setDpq=function(m,E){i.add$adagioLocationIfNeeded(m),m["$adagio-location"].dpq=E},i.getDpq=function(m){return m["$adagio-location"].dpq},i.add$adagioLocationIfNeeded=function(m){i.has$adagioLocation(m)||(m["$adagio-location"]={})},i.has$adagioLocation=function(m){return typeof m["$adagio-location"]!="undefined"},i.setEntry=function(m,E){i.setEntries(m,[E])},i.setEntries=function(m,E){e.default.setArray(m,"direction-type",E)},i.hasContent=function(m){if(i.getEntries(m).length>0)return!0;if(!i.hasSound(m))return!1;const v=i.getSound(m);return!f.A.isEmpty(v)},i.getEntries=function(m){let E;return typeof m["direction-type"]=="undefined"?E=[]:o.default.isArray(m["direction-type"])?E=m["direction-type"]:o.default.isObject(m["direction-type"])?E=[m["direction-type"]]:E=[],E=E.filter(O),E};function O(m){return o.default.isObject(m)&&!o.default.isObjectEmpty(m)}i.getDisplayDynamicStyle=function(m){const E=i.getDisplayDynamic(m);return s.A.getStyle(E)},i.getDisplayDynamic=function(m){const E=i.getDisplayDynamicEntry(m);return a.A.getDynamic(E)},i.getDisplayDynamicEntry=function(m){return i.getEntries(m).find(a.A.isDynamic)},i.hasValidWord=function(m){const E=i.getWordEntry(m);return typeof E=="undefined"?!1:a.A.isValidWord(E)},i.hasWord=function(m){return i.getEntries(m).some(a.A.isWord)},i.getWordText=function(m){const E=i.getWordEntry(m);return a.A.getWordText(E)},i.getWordEntry=function(m){return i.getEntries(m).find(a.A.isWord)},i.getDisplayOctaveShiftType=function(m){const E=i.getDisplayOctaveShift(m);return u.A.getType(E)},i.getDisplayOctaveShiftSize=function(m){const E=i.getDisplayOctaveShift(m);return u.A.getSize(E)},i.getDisplayOctaveShiftLocation=function(m){const E=i.getDisplayOctaveShift(m);return u.A.getLocation(E)},i.getDisplayOctaveShiftNumber=function(m){const E=i.getDisplayOctaveShift(m);return u.A.getNumber(E)},i.getDisplayOctaveShift=function(m){const E=i.getDisplayOctaveShiftEntry(m);return a.A.getOctaveShift(E)},i.getDisplayOctaveShiftEntry=function(m){return i.getEntries(m).find(a.A.isOctaveShift)},i.getPedalLocation=function(m){const E=i.getPedal(m);return d.A.getLocation(E)},i.addEntry=function(m,E){const v=i.getEntries(m);v.push(E),i.setEntries(m,v)},i.setNoteBefore=function(m,E){m.noteBefore=E},i.getNoteBefore=function(m){return n.default.toInt(m.noteBefore)},i.isSameVerticalPos=function(m,E){return i.getStaffIdx(m)===i.getStaffIdx(E)&&i.getPlacement(m)===i.getPlacement(E)},i.remove$adagio=function(m){delete m.$adagio},i.compareTimePos=function(m,E){return i.compareTimePosInc(m,E)},i.compareTimePosInc=function(m,E){const v=i.getTimePos(m),R=i.getTimePos(E);return v-R},i.hasOffset=function(m){return typeof m.offset!="undefined"},i.getOffsetValue=function(m){const E=i.getOffset(m);if(e.default.hasStringOrContent(E)){let v=e.default.stringOrContent(E);return v=parseInt(v,10),v}else return 0},i.getOffset=function(m){return m.offset},i.setOffset=function(m,E){E===0?delete m.offset:m.offset=p.A.create(E,!0)},i.setIsFirst=function(m,E){m[r]=E},i.isFirst=function(m){return m[r]},i.hasSoundSegno=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasSegno(E)}else return!1},i.hasTypeSegno=function(m){return i.hasType(m,t.A.SEGNO)},i.hasSegno=function(m){return i.hasTypeSegno(m)||i.hasSoundSegno(m)},i.hasSoundCoda=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasCoda(E)}else return!1},i.hasTypeCoda=function(m){return i.hasType(m,t.A.CODA)},i.hasCoda=function(m){return i.hasTypeCoda(m)||i.hasSoundCoda(m)},i.hasSoundDalsegno=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasDalsegno(E)}else return!1},i.hasDalsegno=function(m){return i.hasSoundDalsegno(m)},i.hasSoundDacapo=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasDacapo(E)}else return!1},i.hasDacapo=function(m){return i.hasSoundDacapo(m)},i.hasSoundFine=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasFine(E)}else return!1},i.hasFine=function(m){return i.hasSoundFine(m)},i.hasSoundToCoda=function(m){if(i.hasSound(m)){const E=i.getSound(m);return f.A.hasToCoda(E)}else return!1},i.hasToCoda=function(m){return i.hasSoundToCoda(m)},i.hasPedal=function(m){return i.hasType(m,t.A.PEDAL)},i.getPedals=function(m){return i.getEntries(m).filter(a.A.isPedal).map(a.A.getPedal)},i.getPedalType=function(m){const E=i.getPedal(m);return d.A.getType(E)},i.getPedal=function(m){const E=i.getPedalEntry(m);return a.A.getPedal(E)},i.getPedalEntry=function(m){return i.getEntries(m).find(a.A.isPedal)},i.getPedalType=function(m){const E=i.getPedal(m);return d.A.getType(E)},i.hasTempoChange=function(m){return i.hasType(m,t.A.TEMPO_CHANGE)},i.getTempoChanges=function(m){return i.getEntries(m).filter(a.A.isTempoChange).map(a.A.getTempoChange)},i.getTempoChange=function(m){const E=i.getTempoChangeEntry(m);return a.A.getTempoChange(E)},i.getTempoChangeEntry=function(m){return i.getEntries(m).find(a.A.isTempoChange)},i.getTempoChangeType=function(m){const E=i.getTempoChange(m);return l.A.getType(E)},i.getTempoChangeLocation=function(m){const E=i.getTempoChange(m);return l.A.getLocation(E)},i.hasPluckedRange=function(m){return i.hasType(m,t.A.PLUCKED_RANGE)},i.getPluckedRanges=function(m){return i.getEntries(m).filter(a.A.isPluckedRange).map(a.A.getPluckedRange)},i.getPluckedRange=function(m){const E=i.getPluckedRangeEntry(m);return a.A.getPluckedRange(E)},i.getPluckedRangeEntry=function(m){return i.getEntries(m).find(a.A.isPluckedRange)},i.getPluckedRangeType=function(m){const E=i.getPluckedRange(m);return h.A.getType(E)},i.getPluckedRangeLocation=function(m){const E=i.getPluckedRange(m);return h.A.getLocation(E)},i.setDirectionUuid=function(m,E){i.add$adagioIfNeeded(m),m.$adagio.directionUuid=E},i.add$adagioIfNeeded=function(m){i.has$adagio(m)||(m.$adagio={})},i.has$adagio=function(m){return typeof m.$adagio!="undefined"},i.getDirectionUuid=function(m){return m.$adagio.directionUuid};const M=i},956112:(C,P,c)=>{c.d(P,{A:()=>p});var g=c(951066);class t extends g.A{constructor(r){const i=`The mute type [${r}] is invalid.`;super(i),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadMuteTypeError",this.type=r}}var o=c(364842);const n="on",e="off",a=[n,e],s=new Map([[n,"mute"],[e,"open"]]);function d(h){if(!u(h))throw new t(h)}function u(h){return a.includes(h)}function l(h){const r=s.get(h);if(typeof r=="undefined")throw f(h);return r}function f(h){const r=`The mute type value: [${h}] is invalid.`;throw new o.default("BadMuteTypeError",r)}const p={ON:n,OFF:e,values:a,check:d,isValid:u,getText:l,raiseError:f}},958625:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(723631),t=c(952818),o=c(717434),n=c(561248);const e={};e.create=function(s,d){const u={};t.A.setPlacement(u,g.A.ABOVE),t.A.setStaffIdx(u,0),t.A.setTimePos(u,0);const l=n.A.create(s,d),f=o.A.createRehearsal(l);return t.A.setEntry(u,f),u},e.getRehearsal=function(s){const u=t.A.getEntries(s).find(o.A.isRehearsal);return o.A.getRehearsal(u)},e.isInstanceOf=function(s){return t.A.getEntries(s).some(o.A.isRehearsal)};const a=e},961214:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(123491);const o=function(n,e){let a=0;for(let s=0;s<=e;s++){if(s>0){const u=n.getNote(s-1);g.default.hasTupletStop(u)&&(a=g.default.getTupletStopLevel(u)-1)}const d=n.getNote(s);g.default.hasTupletStart(d)&&(a=g.default.getTupletStartLevel(d))}return a}},964845:(C,P,c)=>{c.d(P,{A:()=>h});var g=c(364842),t=c(359932),o=c(476943),n=c(365340),e=c(724926),a=c(312616);const s={};s.getValue=function(r){const i=s.getValueHolder(r);return a.A.getValue(i)},s.getValueHolder=function(r){if(r=r.filter(a.A.hasValidValue),s.hasNormalValue(r))return s.getNormalValue(r);if(s.hasAlternateValue(r))return s.getAlternateValue(r);if(s.hasSubstitutionValue(r))return s.getSubstitutionValue(r);throw new g.default("Unexpected","There is no acceptable fingering value.")},s.hasValidValue=function(r){return r.some(a.A.hasValidValue)},s.hasNormalValue=function(r){return r.some(a.A.isNormal)},s.getNormalValue=function(r){return r.find(a.A.isNormal)},s.hasAlternateValue=function(r){return r.some(a.A.isAlternate)},s.getAlternateValue=function(r){return r.find(a.A.isAlternate)},s.hasSubstitutionValue=function(r){return r.some(a.A.isSubstitution)},s.getSubstitutionValue=function(r){return r.find(a.A.isSubstitution)};const d=s;var u=c(967104);const l={},f=o.default.pairsToMap([{key:t.default.UPBOW,value:[t.default.DOWNBOW,t.default.SNAP_PIZZICATO,t.default.STOPPED]},{key:t.default.DOWNBOW,value:[t.default.UPBOW,t.default.SNAP_PIZZICATO,t.default.STOPPED]},{key:t.default.SNAP_PIZZICATO,value:[t.default.UPBOW,t.default.DOWNBOW,t.default.STOPPED]},{key:t.default.STOPPED,value:[t.default.UPBOW,t.default.DOWNBOW,t.default.SNAP_PIZZICATO]},{key:t.default.FRET,value:[]},{key:t.default.STRING,value:[]},{key:t.default.HAMMER_ON,value:[]},{key:t.default.PULL_OFF,value:[]},{key:t.default.FINGERING,value:[]},{key:t.default.THUMB_POSITION,value:[]}]),p="harmonic";l.addTechnical=function(r,i,O){if(typeof f[i]=="undefined")throw new g.default("unexpected",i);if(f[i].forEach(function(M){Object.prototype.hasOwnProperty.call(r,M)&&l.removeTechnical(r,M)}),t.default.isValid(i))if(typeof O!="undefined")switch(i){case t.default.FRET:r[i]=O.fret.toString(),delete r[t.default.OPEN_STRING];break;case t.default.STRING:r[i]=O.string.toString();break;case t.default.HAMMER_ON:case t.default.PULL_OFF:{const M=l.getTechnicalContent(r,i);M.push(O.hammerOnPullOff),r[i]=M;break}default:r[i]={};break}else r[i]={};else throw new g.default("unexpected",i)},l.removeTechnical=function(r,i,O){if(t.default.isValid(i))switch(i){case t.default.FRET:delete r[i],delete r[t.default.OPEN_STRING];break;case t.default.HAMMER_ON:case t.default.PULL_OFF:if(typeof O!="undefined"&&l.hasTechnical(r,i,O)){const M=o.default.makeArray(r[i]),m=M.findIndex(function(E){return e.A.isSame(E,O.hammerOnPullOff)});M.splice(m,1),M.length===0?delete r[i]:r[i]=M}else delete r[i];break;default:delete r[i];break}else throw new g.default("unexpected",i)},l.hasTechnical=function(r,i,O){if(typeof O!="undefined")switch(i){case t.default.FRET:return typeof r[i]!="undefined"&&r[i]===O.fret.toString();case t.default.STRING:return typeof r[i]!="undefined"&&r[i]===O.string.toString();case t.default.HAMMER_ON:case t.default.PULL_OFF:return typeof r[i]!="undefined"&&o.default.makeArray(r[i]).some(function(M){return e.A.isSame(M,O.hammerOnPullOff)});default:break}return typeof r[i]!="undefined"},l.hasIncompatibleTechnical=function(r,i,O){if(typeof f[i]=="undefined")throw new g.default("unexpected",i);if(typeof O!="undefined")switch(i){case t.default.FRET:return typeof r[i]!="undefined"&&l.getTechnicalContent(r,i)!==O.fret;case t.default.STRING:return typeof r[i]!="undefined"&&l.getTechnicalContent(r,i)!==O.string;default:break}return f[i].some(function(M){return Object.prototype.hasOwnProperty.call(r,M)})},l.getIncompatibleTechnical=function(r,i,O){if(typeof f[i]=="undefined")throw new g.default("unexpected",i);if(typeof O!="undefined")switch(i){case t.default.FRET:return l.hasIncompatibleTechnical(r,i,O)?[t.default.FRET]:[];case t.default.STRING:return l.hasIncompatibleTechnical(r,i,O)?[t.default.STRING]:[];default:break}return f[i].filter(function(M){return Object.prototype.hasOwnProperty.call(r,M)})},l.getTechnicalContent=function(r,i){if(t.default.isValid(i))switch(i){case t.default.FRET:case t.default.STRING:if(n.default.hasStringOrContent(r[i]))return parseInt(n.default.stringOrContent(r[i]),10);if(n.default.hasNumberOrContent(r[i]))return parseInt(n.default.numberOrContent(r[i]),10);break;case t.default.HAMMER_ON:case t.default.PULL_OFF:return n.default.getArray(r,i);default:break}else throw new g.default("unexpected",i);return{}},l.getTechnicalOpts=function(r,i){const O={};if(t.default.isValid(i))switch(i){case t.default.FRET:case t.default.STRING:return n.default.hasStringOrContent(r[i])&&(O[i]=parseInt(n.default.stringOrContent(r[i]),10)),n.default.hasNumberOrContent(r[i])&&(O[i]=n.default.numberOrContent(r[i])),O;case t.default.HAMMER_ON:case t.default.PULL_OFF:return O[i]=o.default.isArray(r[i])?r[i]:[],O;default:break}else throw new g.default("unexpected",i);return O},l.hasFingering=function(r){const i=l.getFingerings(r);return n.default.hasStringOrContentOrArray(i)},l.getFingering=function(r){const i=l.getFingerings(r);return d.getValue(i)},l.getFingerings=function(r){let i=n.default.getArray(r,"fingering");return i=i.map(n.default.getWrappedString),i},l.setFingering=function(r,i){r.fingering=i.toString()},l.removeFingering=function(r){delete r.fingering},l.hasString=function(r){return n.default.hasNumberOrContent(r.string)},l.getString=function(r){return n.default.numberOrContent(r.string)},l.hasFret=function(r){return n.default.hasNumberOrContent(r.fret)||l.hasOpenString(r)},l.hasOpenString=function(r){return typeof r[t.default.OPEN_STRING]!="undefined"},l.getFret=function(r){return!n.default.hasNumberOrContent(r.fret)&&l.hasOpenString(r)?0:n.default.numberOrContent(r.fret)},l.hasTabData=function(r){return l.hasString(r)&&l.hasFret(r)},l.getTabData=function(r){const i=l.getString(r),O=l.getFret(r);return{string:i,fret:O}},l.hasBend=function(r){return l.getRawBends(r).some(u.A.isNotPreBend)},l.hasPreBend=function(r){return l.getRawBends(r).some(u.A.isPreBend)},l.getBend=function(r){return l.getRawBends(r).find(u.A.isNotPreBend)},l.getPreBend=function(r){return l.getRawBends(r).find(u.A.isPreBend)},l.getRawBends=function(r){return n.default.getArray(r,"bend")},l.setRawBends=function(r,i){return n.default.setArray(r,"bend",i)},l.removeBend=function(r){delete r.bend},l.setBend=function(r,i){const O=l.getRawBends(r);O.push(i),l.setRawBends(r,O)},l.removeBend=function(r){const i=l.getRawBends(r);i.pop(),l.setRawBends(r,i)},l.setPreBend=function(r,i){const O=l.getRawBends(r);O.unshift(i),l.setRawBends(r,O)},l.removePreBend=function(r){const i=l.getRawBends(r);i.shift(),l.setRawBends(r,i)},l.hasHarmonic=function(r){return typeof r[p]!="undefined"},l.getHarmonic=function(r){return r[p]},l.setHarmonic=function(r,i){r[p]=i},l.removeHarmonic=function(r){delete r[p]};const h=l},966336:(C,P,c)=>{c.d(P,{A:()=>s});var g=c(364842),t=c(883782),o=c(513318),n=c(726042),e=c(701387),a=c(123491);class s{constructor(p){this.notes=e.default.getNotes(p),this.voices=null}addNoteToVoice(p,h,r){const i=a.default.getVoiceIdx(p);if(i!==r){const E=`note voice idx [${i}] is different from the voice idx [${r}].`;throw new g.default("BadNoteVoiceIdx",E)}const O=this.getVoice(r);d(O,h),O.splice(h,0,p);const M=a.default.getStaffIdx(p),m=this.calcInsertionIdx(h,r,M);this.notes.splice(m,0,p)}calcInsertionIdx(p,h,r){const i=this.getVoice(h);return i.length>1?this.calcInsertionIdxFromCurrentVoice(p,i):this.calcInsertionIdxFromNotes(h,r)}calcInsertionIdxFromCurrentVoice(p,h){if(p===h.length-1){const r=h[h.length-2];return this.getIdxInNotes(r)+1}else{const r=h[p+1];return this.getIdxInNotes(r)}}calcInsertionIdxFromNotes(p,h){let r;const i=this.notes.length;for(r=0;r<i;r++){const O=this.notes[r],M=a.default.getStaffIdx(O);if(h<M)return r;if(h>M)continue;const m=a.default.getVoiceIdx(O);if(p<m)return r;if(m===p)throw new g.default("Unexpected")}return r}removeNoteFromVoice(p,h){const r=this.getVoice(h);u(r,p);const i=r[p];r.splice(p,1);const O=this.getIdxInNotes(i);this.notes.splice(O,1)}getIdxInNotes(p){return this.notes.indexOf(p)}checkVoiceIdx(p){if(!this.hasVoice(p))throw new t.default(p)}checkVoiceInsertionIdx(p){if(this.hasVoice(p))throw new t.default(p,t.default.INSERT)}insertVoice(p){o.A.assert(p),this.assertVoiceInsertionIdx(p);const h=this.getVoices();h[p]=[]}assertVoiceInsertionIdx(p){if(this.hasVoice(p)){const h=`There is already a voice with the id [${p}].`;throw new g.default("VoiceIdxAlreadyUsed",h)}}removeVoice(p){this.assertVoiceIdx(p),this.dropVoiceNotes(p);const h=this.getVoices();delete h[p]}dropVoiceNotes(p){const h=this.getVoice(p),r=h.length;if(r>0){const i=h[0],O=this.getIdxInNotes(i);this.notes.splice(O,r),this.voices[p]=[]}}getVoice(p){return this.assertVoiceIdx(p),this.getVoices()[p]}assertVoiceIdx(p){let h;if(!n.default.isInteger(p))throw h=`The voiceIdx value [${p}] is invalid.`,new g.default("NotExpected",h);if(!this.hasVoice(p))throw h=`There is no voices for the id [${p}].`,new g.default("BadVoiceIdx",h)}hasVoice(p){return typeof this.getVoices()[p]!="undefined"}getVoicesIndexes(){const p=this.getVoices(),r=Object.keys(p).map(n.default.intPart);return r.sort(n.default.cmp),r}getVoices(){return this.voices===null&&this.fillVoices(),this.voices}fillVoices(){this.voices={},this.notes.forEach(l,this.voices)}}function d(f,p){const h=f.length;if(!n.default.isInteger(p)||p<0||p>h){const r=`Cannot insert note at the index [${p}].`;throw new g.default("BadNoteInsertionIdx",r)}}function u(f,p){const h=f.length;if(!n.default.isInteger(p)||p<0||p>=h){const r=`There is no note at the index [${p}].`;throw new g.default("BadNoteIdx",r)}}function l(f){const p=this,h=a.default.getVoiceIdx(f);typeof p[h]=="undefined"&&(p[h]=[]),p[h].push(f)}},967104:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(694426),t=c(458057);const o={},n="bend-alter";o.isValid=function(s){const d=o.getType(s);if(!g.A.isValid(d))return!1;const u=o.getAlter(s);return!!t.A.isValid(u,d)},o.isPreBend=function(s){return o.getType(s)===g.A.PRE_BEND},o.isNotPreBend=function(s){const d=o.getType(s);return d===g.A.BEND||d===g.A.RELEASE},o.getType=function(s){return typeof s[g.A.RELEASE]!="undefined"?g.A.RELEASE:typeof s[g.A.PRE_BEND]!="undefined"?g.A.PRE_BEND:g.A.BEND},o.getAlter=function(s){return parseInt(s[n],10)},o.create=function(s,d){const u={};return e(u,s),u[n]=d.toString(),u};function e(s,d){d===g.A.BEND||(d===g.A.PRE_BEND?s[g.A.PRE_BEND]={}:d===g.A.RELEASE?s[g.A.RELEASE]={}:g.A.raiseError(d))}o.isSame=function(s,d){const u=o.getType(s),l=o.getType(d),f=o.getAlter(s),p=o.getAlter(d);return u===l&&f===p},o.copy=function(s){const d=o.getAlter(s),u=o.getType(s);return o.create(u,d)};const a=o},970445:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`The number of staff lines [${n}] is invalid.`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"nbStaffLines",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadNbStaffLinesError",this.nbStaffLines=e}}},971064:(C,P,c)=>{c.d(P,{A:()=>a});var g=c(364842),t=c(951066);class o extends t.A{constructor(d){const u=n(d);super(u),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadKodalyDisplayTypeError",this.type=d}}const n=function(s){return`the kodaly display type value [${s}] is invalid.`},e={HAND_SIGN:"hand-sign",LETTERS:"letters"};e.values=[e.HAND_SIGN,e.LETTERS],e.DEFAULT=e.LETTERS,e.isValid=function(s){return e.values.includes(s)},e.check=function(s){if(!e.isValid(s))throw new o(s)},e.raiseError=function(s){const d=`The kodaly display type value: [${s}] is invalid.`;throw new g.default("BadKodalyDisplayTypeError",d)};const a=e},971249:(C,P,c)=>{c.d(P,{A:()=>u});const g="start",t="stop",o="continue",n=[g,t,o];function e(l){return n.includes(l)}function a(l){return l===o||l===g}function s(l){return l===o||l===t}function d(l){return l===o||l===g||l===t}const u={START:g,STOP:t,CONTINUE:o,values:n,isValid:e,hasRightConnection:a,hasLeftConnection:s,hasConnection:d}},985492:(C,P,c)=>{c.d(P,{A:()=>o});var g=c(951066);function t(n){return`tuning-alter value ${n} is invalid. It has to be an integer between the following values [-2, 2]`}class o extends g.A{constructor(e){const a=t(e);super(a),Object.defineProperty(this,"tuningAlter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadStaffTuningTuningAlter",this.tuningAlter=e}}},995677:(C,P,c)=>{c.d(P,{A:()=>M});var g=c(364842),t=c(924784);const o="crescendo",n="diminuendo",e="stop",a="continue",s=[o,n,e,a],d=[o,n];function u(m){return s.includes(m)}function l(m){return m===o||m===n}function f(m){return m===e}function p(m){return d.includes(m)}function h(m){if(!u(m)){const E=`Invalid value for wedge type: [${m}].`;throw new g.default("WedgeType",E)}}function r(m){p(m)||i(m)}function i(m){const E=`Invalid internal value for wedge type: [${m}].`;throw new g.default("WedgeType",E)}function O(m){if(!p(m))throw new t.A(m)}const M={CRESCENDO:o,DIMINUENDO:n,STOP:e,CONTINUE:a,values:s,internalValues:d,isValid:u,isStart:l,isStop:f,isValidInternal:p,assert:h,assertInternal:r,raiseError:i,check:O}}}]);})();


//# debugId=feb07994-c5aa-5800-9587-fce243211ebe

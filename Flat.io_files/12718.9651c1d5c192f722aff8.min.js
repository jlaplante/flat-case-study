
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="04fe2016-c082-585c-90fc-e617d0571fdd")}catch(e){}}();
(()=>{/*! Copyright (c) 2025 Tutteo Ltd. */(self.webpackChunk_flat_flat=self.webpackChunk_flat_flat||[]).push([[12718],{2835:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(414787),n=t(803192);const d=function(v,r){if(typeof r.line!="undefined"){const u=(0,n.A)(v,r);r.unpitched=c.A.lineToPitch(r.line,u),delete r.line}}},19405:(_,l,t)=>{"use strict";t.d(l,{default:()=>r});var c=t(351277),n=t(719631),i=t(701394);const d=function(u){typeof u.line!="undefined"?v(u.line):c.default.check(u.pitch)},v=function(u){if(!n.default.isValidLine(u))throw new i.A(u)},r=d},19850:(_,l,t)=>{"use strict";t.d(l,{default:()=>R});var c=t(364842),n=t(990937),i=t(32711),d=t(726042),v=t(726800),r=t(612252),u=t(408790),m=t(27912),o=t(59377),f=t(244977);const E=function(p,U,T){if(typeof U.timePos!="undefined"){let y;if(typeof U.timeModif=="undefined")throw y="There should be a timeModif when there is a timePos value.",new c.default("Unexpected",y);if(typeof U.divisions=="undefined")throw y="There should be a divisions value when there is a timePos value.",new c.default("Unexpected",y);h(p,U,T)}},h=function(p,U,T){let y=M(p,U);const S=p.getVoice(U.voiceIdx);if((0,v.A)(S,y,U.timePos))P(S,y,U);else if((0,r.A)(S,y,U.timePos)){if(!(0,u.A)(S,y,U.timePos,U.timeModif))throw new i.A(U.timeModif);O(p,U,T),y=M(p,U),P(S,y,U)}else throw new n.A(U.timePos,U.divisions,n.A.INSERT)},P=function(p,U,T){T.noteIdx=(0,m.A)(p,U,T.timePos),delete T.timePos,delete T.divisions},M=function(p,U){const T=p.getDivisions().getDivisions(),y=d.default.lcm(T,U.divisions),S=y/T,x=y/U.divisions;return U.timePos*=x,U.divisions*=x,S},O=function(p,U,T){p.getScoreData().stateHasChanged();const S={partIdx:U.partIdx,measureIdx:U.measureIdx,voiceIdx:U.voiceIdx,timePos:U.timePos,divisions:U.divisions};T=T||new o.default,new f.A(p,S,T).perform()},R=E},33674:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(490617);const n=c.A},67271:(_,l,t)=>{"use strict";t.d(l,{default:()=>r});var c=t(701387),n=t(364596),i=t(873010);const d=function(u,m,o){this.init(u,m,o)};d.NAME="composite.SetKeyMain";const v=d.prototype;v.name=d.NAME,v.init=function(u,m,o){this.scoreData=u,this.cancelStack=o,this.opts=m,this.key=null,this.startMeasureIdx=null,this.stopMeasureIdx=null},v.perform=function(){this.cancelStack=this.cancelStack.createSubstack(this.name);const u=this.opts.startMeasureIdx,m=this.opts.stopMeasureIdx;for(let o=u;o<=m;o++){const f=this.getKey(o);this.addKey(f,o)}this.finishSegment()},v.getKey=function(u){const m=this.scoreData.getMeasure(this.opts.partIdx,u);return c.default.getWrappedKey(m).getEntry(this.opts.staffIdx)},v.addKey=function(u,m){this.hasOngoing()?this.isSameKey(u)?this.continueSegment(m):(this.finishSegment(),this.startSegment(u,m)):this.startSegment(u,m)},v.hasOngoing=function(){return this.key!==null},v.startSegment=function(u,m){this.key=n.default.copy(u),this.startMeasureIdx=m,this.stopMeasureIdx=m},v.isSameKey=function(u){return n.default.isSame(u,this.key)},v.continueSegment=function(u){this.stopMeasureIdx=u},v.finishSegment=function(){n.default.isSame(this.key,this.opts.key)||this.setKeySegment(this.startMeasureIdx,this.stopMeasureIdx),this.key=null,this.startMeasureIdx=null,this.stopMeasureIdx=null},v.setKeySegment=function(u,m){const o=n.default.copy(this.opts.key),f={partIdx:this.opts.partIdx,staffIdx:this.opts.staffIdx,startMeasureIdx:u,stopMeasureIdx:m,key:o},E=new i.default(this.scoreData,f,this.cancelStack);E.checkPreconditions(),E.perform()};const r=d},82028:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(891921);const n=c.A},98261:(_,l,t)=>{"use strict";t.d(l,{Ay:()=>u,io:()=>u});var c=t(899092),n=t(523507),i=t(48532),d=t(673824),v=t(86272);const r={};function u(m,o){typeof m=="object"&&(o=m,m=void 0),o=o||{};const f=(0,c.O)(m,o.path||"/socket.io"),E=f.source,h=f.id,P=f.path,M=r[h]&&P in r[h].nsps,O=o.forceNew||o["force new connection"]||o.multiplex===!1||M;let R;return O?R=new n.m(E,o):(r[h]||(r[h]=new n.m(E,o)),R=r[h]),f.query&&!o.query&&(o.query=f.queryKey),R.socket(f.path,o)}Object.assign(u,{Manager:n.m,Socket:i.y,io:u,connect:u})},123491:(_,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>I});var c=t(474976),n=t(359932),i=t(601277),d=t(762691),v=t(843678),r=t(50060),u=t(712947),m=t(57265),o=t(617643),f=t(309241),E=t(969855),h=t(944966),P=t(786870),M=t(418084),O=Object.defineProperty,R=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,T=(A,D,g)=>D in A?O(A,D,{enumerable:!0,configurable:!0,writable:!0,value:g}):A[D]=g,y=(A,D)=>{for(var g in D||(D={}))p.call(D,g)&&T(A,g,D[g]);if(R)for(var g of R(D))U.call(D,g)&&T(A,g,D[g]);return A};function S(A){const D={};if(typeof A.beam!="undefined"&&(D.beam=A.beam,delete A.beam),o.default.hasTupletBounds(A)&&(D.tupletBounds=o.default.getTupletBounds(A),o.default.removeTupletBounds(A)),D.articulations=P.default.getFullArticulationsList(A),D.technical=h.default.getTechnicalList(A),D.ornaments=P.default.getOrnamentsWithOpts(A),D.articulations.includes(i.default.FERMATA)&&P.default.removeNotation(A,i.default.FERMATA),m.default.hasLyrics(A)){const g=m.default.getLyrics(A);D.lyrics=g.map(r.default.copy),m.default.removeLyrics(A)}return P.default.removeAllArticulations(A),P.default.removeAllOrnaments(A),h.default.removeAllTechnicals(A,[n.default.STRING,n.default.FRET,n.default.HAMMER_ON,n.default.PULL_OFF,n.default.OPEN_STRING,n.default.BEND]),f.default.hasSlur(A)&&(D.slur=f.default.getSlur(A),f.default.removeSlur(A)),M.default.isSlashedGrace(A)&&(D.isSlashedGrace=!0),D.beamStatus=M.default.getBeamStatus(A),M.default.removeBeamStatus(A),E.default.hasGraceSlur(A)&&(D.graceSlur=!0,E.default.setGraceSlur(A,!1)),D.history=d.default.getHistory(A),D}function x(A,D){if(typeof D.beam!="undefined"&&(A.beam=D.beam),D.articulations.forEach(function(g){c.default.isValid(g)?P.default.addArticulation(A,g):g===i.default.FERMATA&&P.default.addNotation(A,g)}),D.technical.forEach(function(g){n.default.isCommonValid(g)&&g!==n.default.HAMMER_ON&&g!==n.default.PULL_OFF&&h.default.addTechnical(A,g)}),v.default.map(D.ornaments,function(g,L){P.default.addOrnament(A,g,L)}),typeof D.tupletBounds!="undefined"&&o.default.addTupletBounds(A,D.tupletBounds),typeof D.lyrics!="undefined"){const g=D.lyrics.map(r.default.copy);m.default.setLyrics(A,g)}if(typeof D.slur!="undefined"){const g=u.default.copy(D.slur);f.default.setSlur(A,g)}D.isSlashedGrace&&M.default.makeSlashedGrace(A),M.default.setBeamStatus(A,D.beamStatus),D.graceSlur&&E.default.setGraceSlur(A,D.graceSlur),D.history=d.default.setHistory(A,D.history)}function N(A){return M.default.isRest(A)?!!(m.default.hasLyrics(A)||P.default.hasNotation(A,i.default.FERMATA)||M.default.hasColor(A)):!1}const I=y(y(y(y(y(y(y({removeChordData:S,addChordData:x,needRestLock:N},m.default),o.default),f.default),E.default),h.default),P.default),M.default)},128425:(_,l,t)=>{"use strict";t.d(l,{default:()=>u});var c=t(701387),n=t(518558),i=t(529724),d=t(74446);const v=function(m,o,f){this.init(m,o,f)};v.NAME="composite.SetTimeSignatureMain";const r=v.prototype;r.name=v.NAME,r.init=function(m,o,f){this.scoreData=m,this.cancelStack=f,this.opts=o,this.time=null,this.displayedTime=null,this.beatsList=null,this.restsInsideBeams=null,this.startMeasureIdx=null,this.stopMeasureIdx=null},r.perform=function(){this.cancelStack=this.cancelStack.createSubstack(this.name);const m=this.opts.startMeasureIdx,o=this.opts.stopMeasureIdx;for(let f=m;f<=o;f++){const E=this.getTime(f),h=this.getDisplayedTime(f),P=this.getBeatsList(f),M=this.getRestsInsideBeams(f);this.addTime({time:E,displayedTime:h,beatsList:P,restsInsideBeams:M,measureIdx:f})}this.finishSegment()},r.getTime=function(m){const o=this.scoreData.getMeasure(0,m);return c.default.getWrappedTime(o).getAnyEntry()},r.getDisplayedTime=function(m){return this.scoreData.getCommonContent().getDisplayedTime(m)},r.getBeatsList=function(m){return this.scoreData.getCommonContent().getBeatsList(m)},r.getRestsInsideBeams=function(m){return this.scoreData.getCommonContent().hasRestsInsideBeams(m)},r.addTime=function({time:m,displayedTime:o,beatsList:f,restsInsideBeams:E,measureIdx:h}){this.hasOngoing()?this.isSameTime(m,o,f)?this.continueSegment(h):(this.finishSegment(),this.startSegment({time:m,displayedTime:o,beatsList:f,restsInsideBeams:E,measureIdx:h})):this.startSegment({time:m,displayedTime:o,beatsList:f,restsInsideBeams:E,measureIdx:h})},r.hasOngoing=function(){return this.time!==null},r.startSegment=function({time:m,displayedTime:o,beatsList:f,restsInsideBeams:E,measureIdx:h}){this.time=n.default.copy(m),this.displayedTime=n.default.copy(o),this.beatsList=f,this.restsInsideBeams=E,this.startMeasureIdx=h,this.stopMeasureIdx=h},r.isSameTime=function(m,o,f){return n.default.isSame(m,this.time)&&n.default.isSame(o,this.displayedTime)&&d.default.isSame(f,this.beatsList)},r.continueSegment=function(m){this.stopMeasureIdx=m},r.finishSegment=function(){(!n.default.isSame(this.time,this.opts.timeSignature)||!n.default.isSame(this.displayedTime,this.opts.displayedTime)||!d.default.isSame(this.beatsList,this.opts.beatsList)||this.restsInsideBeams!==this.opts.restsInsideBeams)&&this.setTimeSegment(this.startMeasureIdx,this.stopMeasureIdx),this.time=null,this.displayedTime=null,this.beatsList=null,this.restsInsideBeams=null,this.startMeasureIdx=null,this.stopMeasureIdx=null},r.setTimeSegment=function(m,o){const f=n.default.copy(this.opts.timeSignature),E=n.default.copy(this.opts.displayedTime),h=d.default.copy(this.opts.beatsList),P=this.opts.restsInsideBeams,M={startMeasureIdx:m,stopMeasureIdx:o,timeSignature:f,displayedTime:E,beatsList:h,restsInsideBeams:P},O=new i.default(this.scoreData,M,this.cancelStack);O.checkPreconditions(),O.perform()};const u=v},173665:_=>{_.exports=l;function l(c){if(c)return t(c)}function t(c){for(var n in l.prototype)c[n]=l.prototype[n];return c}l.prototype.on=l.prototype.addEventListener=function(c,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(n),this},l.prototype.once=function(c,n){function i(){this.off(c,i),n.apply(this,arguments)}return i.fn=n,this.on(c,i),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(c,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+c];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+c],this;for(var d,v=0;v<i.length;v++)if(d=i[v],d===n||d.fn===n){i.splice(v,1);break}return i.length===0&&delete this._callbacks["$"+c],this},l.prototype.emit=function(c){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),i=this._callbacks["$"+c],d=1;d<arguments.length;d++)n[d-1]=arguments[d];if(i){i=i.slice(0);for(var d=0,v=i.length;d<v;++d)i[d].apply(this,n)}return this},l.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks["$"+c]||[]},l.prototype.hasListeners=function(c){return!!this.listeners(c).length}},175086:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(402119);const n=c.A},221385:(_,l,t)=>{"use strict";t.d(l,{default:()=>v});var c=t(456075),n=t(537546);const i=function(r){const u={};r.forEach(d,u)},d=function(r){const u=this,m=r.staffUuid;if(n.default.check(m),typeof u[m]=="undefined")u[m]=!0;else throw new c.A(m)},v=i},223306:(_,l,t)=>{"use strict";t.d(l,{default:()=>E});var c=t(701387),n=t(123491),i=t(715152),d=t(160965),v=t(726271),r=t(519405),u=t(793317),m=t(379668);const o=function(h,P,M){this.init(h,P,M)};o.NAME="composite.AddColorToRest";const f=o.prototype;f.initMeasureData=u.default,f.name=o.NAME,f.init=function(h,P,M){this.initMeasureData(h,P),this.cancelStack=M,this.opts=P},f.perform=function(){this.cancelStack=this.cancelStack.createSubstack(this.name),this.removeMmr(),this.removeMeasureRepeat(),this.hasFormerColor()&&this.removeFormerColor(),this.addColorToRest()},f.removeMmr=function(){(0,m.A)(this.measureData,this.opts,this.cancelStack)},f.removeMeasureRepeat=function(){const P=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx),M=n.default.getStaffIdx(P),O=this.measureData.getMeasure();if(!c.default.hasMeasureRepeat(O,M))return;const R={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,staffIdx:M},p=this.measureData.getScoreData(),U=new v.default(p,R,this.cancelStack);(0,r.default)(U)},f.hasFormerColor=function(){const P=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx);return n.default.hasColor(P)},f.removeFormerColor=function(){const h={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx},P=new d.default(this.measureData,h,this.cancelStack);(0,r.default)(P)},f.addColorToRest=function(){const h={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,color:this.opts.color};new i.A(this.measureData,h,this.cancelStack).perform()};const E=o},238647:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(759972);const n=c.A},243073:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(319330);const n=c.A},244138:(_,l,t)=>{"use strict";t.d(l,{default:()=>v});var c=t(646456),n=t(726042),i=t(701387);const v=function(r,u,m){if(!n.default.isInteger(u)||u<0)throw new c.A(u,m);if(!n.default.isInteger(m)||m<=0)throw new c.A(u,m);const o=i.default.getDpq(r);let f=i.default.getNbDivisions(r);const E=n.default.lcm(o,m);if(u*=E/m,f*=E/o,u<0||u>=f)throw new c.A(u,E)}},307501:(_,l,t)=>{"use strict";t.d(l,{default:()=>h});var c=t(701387),n=t(123491),i=t(402315),d=t(726271),v=t(330751),r=t(115847),u=t(793317),m=t(691309),o=t(519405);const f=function(P,M,O){this.init(P,M,O)};f.NAME="composite.AddLyricMelisma";const E=f.prototype;E.name=f.NAME,E.initMeasureData=u.default,E.init=function(P,M,O){this.initMeasureData(P,M),this.cancelStack=O,this.opts=M,this.crossMeasure=new m.default(this.measureData,this.opts.voiceIdx,this.opts.noteIdx-1)},E.perform=function(){this.removeMeasureRepeat(),this.removeLyric(),this.addLyricMelisma(),this.updateMelisma(),this.hasLyricBefore()&&this.updatePreviousMelisma()},E.removeMeasureRepeat=function(){const M=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx),O=n.default.getStaffIdx(M),R=this.measureData.getMeasure();if(!c.default.hasMeasureRepeat(R,O))return;const p={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,staffIdx:O},U=this.measureData.getScoreData(),T=new d.default(U,p,this.cancelStack);(0,o.default)(T)},E.removeLyric=function(){const M=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx);if(!n.default.hasLyricAtLevel(M,this.opts.level))return;const O={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level},R=new i.default(this.measureData,O,this.cancelStack);(0,o.default)(R)},E.addLyricMelisma=function(){const P={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level};new r.A(this.measureData,P,this.cancelStack).perform()},E.updateMelisma=function(){const P={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level};new v.A(this.measureData,P,this.cancelStack).perform()},E.hasLyricBefore=function(){if(this.hasNoteBefore()){const P=this.getNoteBefore();return n.default.hasLyricAtLevel(P,this.opts.level)}else return!1},E.hasNoteBefore=function(){return this.crossMeasure.hasLeftOverflow()?this.measureData.hasPreviousMeasure()?!!this.crossMeasure.hasLeftVoice():!1:!0},E.getNoteBefore=function(){const P=this.crossMeasure.getLeftVoice(),M=this.crossMeasure.getLeftNoteIdx();return P.getNote(M)},E.updatePreviousMelisma=function(){const P=this.crossMeasure.getLeftMeasureIdx(),M=this.crossMeasure.getLeftMeasure(),O=this.crossMeasure.getLeftNoteIdx(),R={partIdx:this.opts.partIdx,measureIdx:P,voiceIdx:this.opts.voiceIdx,noteIdx:O,level:this.opts.level};new v.A(M,R,this.cancelStack).perform()},E.addUnderscore=function(){this.addLyricMelismaUnderscore()};const h=f},372933:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(548042);const n=c.A},407819:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(200179);const n=c.A},426191:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(364842),n=t(819795);class i{constructor(v,r){Object.defineProperty(this,"nbStaves",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"utils",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"entry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nbStaves=v,this.utils=r,this.entry=null}addGlobalEntry(v){if(this.hasEntry()){const r="cannot add two global attribute values";throw new c.default("OperationImpossible",r)}else n.A.removeStaffIdx(v),this.entry=v}getEntry(v){return this.nbStaves.checkStaffIdx(v),this.checkHasEntry(),this.entry}getAnyEntry(){return this.checkHasEntry(),this.entry}insertEntry(v,r){this.nbStaves.checkStaffInsertionIdx(r),this.checkHasEntry(),this.checkCanHandle(v),this.nbStaves.increase()}setEntry(v,r){this.nbStaves.checkStaffIdx(r),this.checkHasEntry(),this.checkCanHandle(v)}removeEntry(v){this.nbStaves.checkStaffIdx(v),this.checkHasEntry(),this.nbStaves.decrease()}dumpAttribute(){return[this.entry]}checkCanHandle(v){if(!this.canHandleEntry(v)){const r="the added entry must be equal to the global entry";throw new c.default("OperationImpossible",r)}}canHandleEntry(v){if(v===null)return!1;this.checkHasEntry();const r=this.entry;return this.utils.isSame(r,v)}checkHasEntry(){if(!this.hasEntry()){const v="an entry must be added before using addGlobalEntry()";throw new c.default("OperationImpossible",v)}}hasEntry(){return this.entry!==null}}},452175:(_,l,t)=>{"use strict";t.d(l,{default:()=>h});var c=t(940134),n=t(266156),i=t(221029),d=t(426070),v=t(641815),r=t(495501),u=t(289633),m=t(353922),o=t(737903),f=t(843678),E=t(292681);function h(P,M){if(f.default.isEmpty(P))throw new c.A;const O={},R=(0,o.default)(M);f.default.forEach(P,function(p,U){const T=E.default.parse(p),y=E.default.stringify(T);if(typeof O[y]!="undefined")throw new n.A(T);O[y]=!0,f.default.forEach(U,function(x,N){if(x==="default")return;m.A.checkPercu(x);let I,A;if(typeof N=="string"){if(I=N,typeof M[I]=="undefined")throw new v.A(I);const D=Object.keys(M[I]);if(D.length>1)throw new u.A(I);A=D[0]}else if(I=N.midiUnpitched,A=N.midiProgram,typeof M[I]=="undefined")throw new v.A(I);if(typeof M[I][A]=="undefined")throw new r.A(I,A);if(typeof R[I][A]=="undefined")throw new i.A(I,A);delete R[I][A]});const S=U.default;if(typeof U[S]=="undefined")throw new d.A(S)}),f.default.isEmpty(R)}},466032:(_,l,t)=>{"use strict";t.d(l,{default:()=>f});var c=t(123491),n=t(351277),i=t(370110),d=t(244651),v=t(519405),r=t(578918),u=t(793317);const m=function(E,h,P){this.init(E,h,P)};m.NAME="composite.AddColorToNote";const o=m.prototype;o.initMeasureData=u.default,o.name=m.NAME,o.init=function(E,h,P){this.initMeasureData(E,h),this.cancelStack=P,this.opts=h},o.perform=function(){this.cancelStack=this.cancelStack.createSubstack(this.name),this.hasFormerColor()&&this.removeFormerColor(),this.addColorToNote()},o.hasFormerColor=function(){const E=this.measureData.getVoice(this.opts.voiceIdx),h=(0,r.default)(E,this.opts.noteIdx,this.opts.pitch);return c.default.hasColor(h)},o.removeFormerColor=function(){const E={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,pitch:n.default.copy(this.opts.pitch)},h=new d.default(this.measureData,E,this.cancelStack);(0,v.default)(h)},o.addColorToNote=function(){const E={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,pitch:n.default.copy(this.opts.pitch),color:this.opts.color};new i.A(this.measureData,E,this.cancelStack).perform()};const f=m},485826:(_,l,t)=>{"use strict";t.d(l,{A:()=>mu});var c=t(615565),n=t(843678),i=t(351277),d=t(737903),v=t(287179);function r(e,s){typeof e.voiceUuid!="undefined"?s.voiceUuid=e.voiceUuid:s.voiceIdx=e.voiceIdx}const u=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),accidental:e.previousAccidental};return r(e,s),typeof e.fretData!="undefined"&&(s.fretData=(0,d.default)(e.fretData)),{name:v.default.NAME,opts:s}},o={type:v.default.NAME,getReverseAction:u};var f=t(91894),E=t(846947);const h=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),insertMode:e.insertMode,keepFormer:!1};return r(e,s),{name:f.default.NAME,opts:s}},M={type:E.default.NAME,getReverseAction:h};var O=t(504005),R=t(679676);const p=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,step:i.default.getStep(e.pitch),octave:i.default.getOctave(e.pitch)};return r(e,s),{name:R.default.NAME,opts:s}},T={type:O.default.NAME,getReverseAction:p};var y=t(582458);const S=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,durationType:e.previousDurationType,nbDots:e.previousNbDots,insertMode:e.insertMode};return r(e,s),{name:y.default.NAME,opts:s}},N={type:y.default.NAME,getReverseAction:S};var I=t(209175);function A(e,s){typeof e.staffUuid!="undefined"?s.staffUuid=e.staffUuid:s.staffIdx=e.staffIdx}var D=t(878363);const g=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),accidental:e.accidental,fretData:e.fretData,durationType:e.durationType,nbDots:e.nbDots,insertMode:e.insertMode,timeModif:I.default.copy(e.timeModif),checkLine:!1,keepFormer:!1,source:D.default.REVERT};return r(e,s),A(e,s),{name:E.default.NAME,opts:s}},ks={type:f.default.NAME,getReverseAction:g},ws=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,step:i.default.getStep(e.pitch),octave:i.default.getOctave(e.pitch)};return r(e,s),{name:O.default.NAME,opts:s}},qs={type:R.default.NAME,getReverseAction:ws};var z=t(149851),J=t(379097);const er=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,articulationType:e.articulationType};return r(e,s),{name:J.default.NAME,opts:s}},tr={type:z.default.NAME,getReverseAction:er},sr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,articulationType:e.articulationType};return r(e,s),{name:z.default.NAME,opts:s}},rr={type:J.default.NAME,getReverseAction:sr};var $=t(246451),Q=t(902224);const ar=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,technicalType:e.technicalType};return r(e,s),{name:$.default.NAME,opts:s}},ir={type:Q.default.NAME,getReverseAction:ar},nr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,technicalType:e.technicalType,technicalOpts:e.technicalOpts};return r(e,s),{name:Q.default.NAME,opts:s}},or={type:$.default.NAME,getReverseAction:nr};var Y=t(460547),Z=t(925822);const dr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:Z.default.NAME,opts:s}},cr={type:Y.default.NAME,getReverseAction:dr},ur=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDivisions:e.startDivisions,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDivisions:e.stopDivisions,placement:e.placement};return r(e,s),{name:Y.default.NAME,opts:s}},vr={type:Z.default.NAME,getReverseAction:ur};var b=t(757785),k=t(424654);const mr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,voiceUuid:e.voiceUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:k.default.NAME,opts:s}},lr={type:b.default.NAME,getReverseAction:mr},fr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,voiceUuid:e.voiceUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:b.default.NAME,opts:s}},Ar={type:k.default.NAME,getReverseAction:fr};var w=t(228546),q=t(95627);const Er=function(e){return{name:w.default.NAME,opts:{partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq}}},Pr={type:q.default.NAME,getReverseAction:Er};var Mr=t(529355),hr=t(681670),Ur=t(74957),Dr=t(902630);const _r=function(e){return{name:q.default.NAME,opts:{partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq,root:Mr.A.copy(e.root),kind:e.kind,bass:Rr(e.bass),frame:pr(e.frame),degrees:e.degrees.map(Ur.A.copy),type:e.type}}},Rr=function(e){return e===null?null:hr.A.copy(e)},pr=function(e){return e?Dr.default.copy(e):null},gr={type:w.default.NAME,getReverseAction:_r};var ee=t(64994),te=t(434497);const yr=function(e){return{name:ee.default.NAME,opts:{partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq}}},Tr={type:te.default.NAME,getReverseAction:yr},Or=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq,chordFunction:e.chordFunction,alter:e.alter,kind:e.kind,inversion:e.inversion};return e.secondaryFunction&&(s.secondaryFunction=e.secondaryFunction,s.secondaryAlter=e.secondaryAlter,s.secondaryKind=e.secondaryKind,s.secondaryInversion=e.secondaryInversion),{name:te.default.NAME,opts:s}},Nr={type:ee.default.NAME,getReverseAction:Or};var C=t(292681),se=t(942867),re=t(122007);const Ir=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched)};return r(e,s),{name:re.default.NAME,opts:s}},Sr={type:se.default.NAME,getReverseAction:Ir};var Cr=t(708377);const xr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),notehead:e.notehead};return r(e,s),A(e,s),{name:se.default.NAME,opts:s}},Br={type:Cr.default.NAME,getReverseAction:xr};var ae=t(474188);const Lr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),insertMode:e.insertMode};return r(e,s),{name:re.default.NAME,opts:s}},Wr={type:ae.default.NAME,getReverseAction:Lr};var Kr=t(478067);const jr=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,durationType:e.durationType,nbDots:e.nbDots,unpitched:C.default.copy(e.unpitched),notehead:e.notehead,timeModif:s};return r(e,a),A(e,a),{name:ae.default.NAME,opts:a}},Gr={type:Kr.default.NAME,getReverseAction:jr};var ie=t(939193);const Fr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),notehead:e.previousNotehead};return r(e,s),{name:ie.default.NAME,opts:s}},Vr={type:ie.default.NAME,getReverseAction:Fr};var ne=t(407304),oe=t(907893);const Hr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:ne.default.NAME,opts:s}},Xr={type:oe.default.NAME,getReverseAction:Hr},zr=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,tupletType:e.tupletType,timeModif:s,durationType:e.durationType,nbDots:e.nbDots};return r(e,a),{name:oe.default.NAME,opts:a}},Jr={type:ne.default.NAME,getReverseAction:zr};var de=t(54890),ce=t(526881);const $r=function(e){return{name:de.default.NAME,opts:{measureUuid:e.measureUuid}}},Qr={type:ce.default.NAME,getReverseAction:$r},Yr=function(e){return{name:ce.default.NAME,opts:{measureUuid:e.measureUuid,previousUuid:e.previousUuid,nextUuid:e.nextUuid}}},Zr={type:de.default.NAME,getReverseAction:Yr};var ue=t(321875),ve=t(473990);const br=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,ornamentType:e.ornamentType};return r(e,s),{name:ve.default.NAME,opts:s}},kr={type:ue.default.NAME,getReverseAction:br},wr=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,ornamentType:e.ornamentType,ornamentsOpts:e.ornamentsOpts};return r(e,s),{name:ue.default.NAME,opts:s}},qr={type:ve.default.NAME,getReverseAction:wr};var K=t(721247),ea=t(329578),ta=t(698649);const sa=function(e){const s=e.measureUuids.slice(),a={partUuid:e.partUuid,measureUuids:s,clef:K.default.copy(e.previousClef)};return A(e,a),{name:ea.default.NAME,opts:a}},ra={type:ta.default.NAME,getReverseAction:sa};var me=t(684592),le=t(638908);const aa=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,notationType:e.notationType};return r(e,s),{name:le.default.NAME,opts:s}},ia={type:me.default.NAME,getReverseAction:aa},na=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,timeModif:s,notationType:e.notationType};return r(e,a),{name:me.default.NAME,opts:a}},oa={type:le.default.NAME,getReverseAction:na};var fe=t(518558),da=t(74446),ca=t(361833),ua=t(529724);const va=function(e){const s=e.measureUuids.slice();return{name:ca.default.NAME,opts:{measureUuids:s,timeSignature:fe.default.copy(e.previousTime),displayedTime:fe.default.copy(e.previousDisplayedTime),beatsList:da.default.copy(e.previousBeatsList),restsInsideBeams:e.previousRestsInsideBeams}}},ma={type:ua.default.NAME,getReverseAction:va};var la=t(364596),fa=t(365479),Aa=t(873010);const Ea=function(e){const s=e.measureUuids.slice(),a={partUuid:e.partUuid,measureUuids:s,key:la.default.copy(e.previousKey)};return A(e,a),{name:fa.default.NAME,opts:a}},Pa={type:Aa.default.NAME,getReverseAction:Ea};var Ae=t(377180),Ee=t(937955);const Ma=function(e){const s=e.measureUuids.slice(),a=Ae.default.getReverse(e.transpose);return{name:Ee.default.NAME,opts:{partUuid:e.partUuid,measureUuids:s,voiceIdx:e.voiceIdx,transpose:a,allowDoubleAccidentals:e.allowDoubleAccidentals}}},ha={type:Ee.default.NAME,getReverseAction:Ma};var Pe=t(516e3),Me=t(402315);const Ua=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,divisions:e.divisions,timePos:e.timePos,level:e.level};return r(e,s),{name:Me.default.NAME,opts:s}},Da={type:Pe.default.NAME,getReverseAction:Ua},_a=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,divisions:e.divisions,timePos:e.timePos,timeModif:s,level:e.level};return r(e,a),e.isMelisma?a.isMelisma=!0:(a.lyric=e.lyric,a.hasRightConnection=e.hasRightConnection),{name:Pe.default.NAME,opts:a}},Ra={type:Me.default.NAME,getReverseAction:_a};var he=t(658714),Ue=t(341259);const pa=function(e){return{name:Ue.default.NAME,opts:{measureUuid:e.measureUuid}}},ga={type:he.default.NAME,getReverseAction:pa},ya=function(e){const s=e.numbers.slice();return{name:he.default.NAME,opts:{measureUuid:e.measureUuid,numbers:s}}},Ta={type:Ue.default.NAME,getReverseAction:ya};var De=t(392557),_e=t(446719);const Oa=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,durationType:e.durationType,nbDots:e.nbDots,timeModif:s};return r(e,a),{name:De.default.NAME,opts:a}},Na={type:_e.default.NAME,getReverseAction:Oa},Ia=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,durationType:e.durationType,nbDots:e.nbDots,timeModif:s};return r(e,a),A(e,a),{name:_e.default.NAME,opts:a}},Sa={type:De.default.NAME,getReverseAction:Ia};var Re=t(830056),pe=t(275225);const Ca=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:pe.default.NAME,opts:s}},xa={type:Re.default.NAME,getReverseAction:Ca},Ba=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,placement:e.placement,timePos:e.timePos,dpq:e.dpq,style:e.style,sound:e.sound};return A(e,s),{name:Re.default.NAME,opts:s}},La={type:pe.default.NAME,getReverseAction:Ba};var G=t(229185),Wa=t(889484);const Ka=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement,type:e.type};return A(e,s),{name:G.default.NAME,opts:s}},ja={type:Wa.default.NAME,getReverseAction:Ka};var ge=t(402924);const Ga=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement,type:e.type};return A(e,s),{name:G.default.NAME,opts:s}},Fa={type:ge.default.NAME,getReverseAction:Ga},Va=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:ge.default.NAME,opts:s}},Ha={type:G.default.NAME,getReverseAction:Va};var ye=t(788222);const Xa=function(e){return{name:ye.default.NAME,opts:{fromPartUuid:e.fromPartUuid,previousUuid:e.previousUuid,nextUuid:e.nextUuid}}},za={type:ye.default.NAME,getReverseAction:Xa};var Te=t(652504),Oe=t(796213),F=t(531981),Ja=t(805578),V=t(908969);const $a=function(e){let s;const a={previousUuid:e.previousUuid,nextUuid:e.nextUuid,partUuid:e.partUuid,volume:e.volume,name:e.name};return typeof e.abbreviation!="undefined"&&(a.abbreviation=e.abbreviation),e.partType===V.A.NORMAL?(s=Te.default.NAME,a.instrumentName=e.instrumentName,a.MIDIProgram=e.MIDIProgram,a.staves=(0,d.default)(e.staves),a.hasQuarterTone=e.hasQuarterTone):e.partType===V.A.UNPITCHED?(s=Oe.default.NAME,a.pitchMapping=(0,Ja.default)(e.pitchMapping),a.instrumentsList=(0,d.default)(e.instrumentsList),a.voiceIdxToUuidMapping=(0,d.default)(e.voiceIdxToUuidMapping),a.nbStaffLines=e.nbStaffLines,a.voicesData=(0,d.default)(e.voicesData),a.staffUuid=e.staffUuid):V.A.raiseError(e.partType),{name:s,opts:a}},Qa={type:F.default.NAME,getReverseAction:$a},Ya=function(e){return{name:F.default.NAME,opts:{partUuid:e.partUuid}}},Za={type:Te.default.NAME,getReverseAction:Ya},ba=function(e){return{name:F.default.NAME,opts:{partUuid:e.partUuid}}},ka={type:Oe.default.NAME,getReverseAction:ba};var Ne=t(676081);const wa=function(e){const s=Ae.default.copy(e.transpose);return{name:Ne.default.NAME,opts:{partUuid:e.partUuid,MIDIProgram:e.MIDIProgram,instrumentName:e.instrumentName,partName:e.partName,abbreviation:e.abbreviation,keepTuningIfSameNbStrings:e.keepTuningIfSameNbStrings,transpose:s,noTranspose:!0,clefs:[],staffDetails:[]}}},qa={type:Ne.default.NAME,getReverseAction:wa};var Ie=t(828864);const ei=function(e){return{name:Ie.default.NAME,opts:{partUuid:e.partUuid,partName:e.previousName,partAbbreviation:e.previousAbbreviation}}},ti={type:Ie.default.NAME,getReverseAction:ei};var Se=t(934013),Ce=t(708836);const si=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:Ce.default.NAME,opts:s}},ri={type:Se.default.NAME,getReverseAction:si},ai=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:Se.default.NAME,opts:s}},ii={type:Ce.default.NAME,getReverseAction:ai};var xe=t(842086),Be=t(302165);const ni=function(e){return{name:xe.default.NAME,opts:{measureUuid:e.measureUuid}}},oi={type:Be.default.NAME,getReverseAction:ni},di=function(e){return{name:Be.default.NAME,opts:{measureUuid:e.measureUuid,type:e.type}}},ci={type:xe.default.NAME,getReverseAction:di};var Le=t(13302),We=t(444343);const ui=function(e){return{name:Le.default.NAME,opts:{measureUuid:e.measureUuid}}},vi={type:We.default.NAME,getReverseAction:ui},mi=function(e){return{name:We.default.NAME,opts:{measureUuid:e.measureUuid,type:e.type}}},li={type:Le.default.NAME,getReverseAction:mi};var fi=t(381642),Ke=t(737296);const Ai=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),insertMode:Ke.default.REPLACE};return r(e,s),{name:f.default.NAME,opts:s}},Ei={type:fi.default.NAME,getReverseAction:Ai};var Pi=t(477172);const Mi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),accidental:e.accidental,durationType:e.durationType,nbDots:e.nbDots,timeModif:I.default.copy(e.timeModif),insertMode:Ke.default.REPLACE,checkLine:!1,source:D.default.REVERT};return r(e,s),A(e,s),typeof e.fretData!="undefined"&&(s.fretData=(0,d.default)(e.fretData)),{name:E.default.NAME,opts:s}},hi={type:Pi.default.NAME,getReverseAction:Mi};var Ui=t(432456),H=t(292734);const Di=function(e){const s={partUuid:e.partUuid,oldMeasureUuid:e.newMeasureUuid,oldDivisions:e.newDivisions,oldTimePos:e.newTimePos,newMeasureUuid:e.oldMeasureUuid,newDivisions:e.oldDivisions,newTimePos:e.oldTimePos};return r(e,s),{name:H.default.NAME,opts:s}},_i={type:Ui.default.NAME,getReverseAction:Di},Ri=function(e){const s={partUuid:e.partUuid,oldMeasureUuid:e.newMeasureUuid,oldDivisions:e.newDivisions,oldTimePos:e.newTimePos,newMeasureUuid:e.oldMeasureUuid,newDivisions:e.oldDivisions,newTimePos:e.oldTimePos};return r(e,s),{name:H.default.NAME,opts:s}},pi={type:H.default.NAME,getReverseAction:Ri};var gi=t(515443),yi=t(764150),je=t(110976);const Ti=function(e){const s=e.measureUuids.slice();let a;return typeof e.previousTempo=="number"?a=je.default.createWithDefaultDisplay(e.previousTempo):a=je.default.copy(e.previousTempo),{name:gi.default.NAME,opts:{measureUuids:s,tempo:a}}},Oi={type:yi.default.NAME,getReverseAction:Ti};var Ge=t(490884),Fe=t(674212);const Ni=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copy(e.pitch)};return r(e,s),{name:Ge.default.NAME,opts:s}},Ii={type:Fe.default.NAME,getReverseAction:Ni},Si=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copyWithoutAlter(e.pitch),accidental:e.accidental,checkLine:!1};return r(e,s),A(e,s),e.fretData&&(s.fretData=(0,d.default)(e.fretData)),{name:Fe.default.NAME,opts:s}},Ci={type:Ge.default.NAME,getReverseAction:Si};var Ve=t(67737),He=t(417843);const xi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx};return r(e,s),{name:Ve.default.NAME,opts:s}},Bi={type:He.default.NAME,getReverseAction:xi},Li=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copyWithoutAlter(e.pitch),accidental:e.accidental,durationType:e.durationType,checkLine:!1};return r(e,s),A(e,s),e.fretData&&(s.fretData=(0,d.default)(e.fretData)),{name:He.default.NAME,opts:s}},Wi={type:Ve.default.NAME,getReverseAction:Li};var Xe=t(951805);const Ki=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copyWithoutAlter(e.pitch),accidental:e.previousAccidental};return r(e,s),e.fretData&&(s.fretData=(0,d.default)(e.fretData)),{name:Xe.default.NAME,opts:s}},ji={type:Xe.default.NAME,getReverseAction:Ki};var ze=t(540042);const Gi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,durationType:e.oldDurationType};return r(e,s),{name:ze.default.NAME,opts:s}},Fi={type:ze.default.NAME,getReverseAction:Gi};var Je=t(569860),$e=t(551303);const Vi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid};return r(e,s),{name:$e.default.NAME,opts:s}},Hi={type:Je.default.NAME,getReverseAction:Vi},Xi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid};return r(e,s),{name:Je.default.NAME,opts:s}},zi={type:$e.default.NAME,getReverseAction:Xi};var Qe=t(342735),Ye=t(396636);const Ji=function(e){return{name:Ye.default.NAME,opts:{partUuid:e.partUuid,voiceUuid:e.voiceUuid,voiceIdx:e.voiceIdx,candidateMainVoiceIdx:e.candidateMainVoiceIdx}}},$i={type:Qe.default.NAME,getReverseAction:Ji},Qi=function(e){const s={partUuid:e.partUuid,voiceIdx:e.voiceIdx,voiceUuid:e.voiceUuid,idxInStaff:e.idxInStaff,isMainVoice:e.isMainVoice};return A(e,s),{name:Qe.default.NAME,opts:s}},Yi={type:Ye.default.NAME,getReverseAction:Qi};var Ze=t(195783),be=t(669208);const Zi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,leftPitch:i.default.copy(e.leftPitch),rightPitch:i.default.copy(e.rightPitch),number:e.number};return r(e,s),{name:be.default.NAME,opts:s}},bi={type:Ze.default.NAME,getReverseAction:Zi},ki=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,leftPitch:i.default.copy(e.leftPitch),rightPitch:i.default.copy(e.rightPitch),number:e.number};return r(e,s),{name:Ze.default.NAME,opts:s}},wi={type:be.default.NAME,getReverseAction:ki};var ke=t(298009);const qi=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),fretData:e.fretData!==null?(0,d.default)(e.fretData):null};return r(e,s),{name:ke.default.NAME,opts:s}},en={type:ke.default.NAME,getReverseAction:qi};var we=t(200665);const tn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copy(e.pitch),fretData:e.fretData!==null?(0,d.default)(e.fretData):null};return r(e,s),{name:we.default.NAME,opts:s}},sn={type:we.default.NAME,getReverseAction:tn};var rn=t(104907),qe=t(988878);const an=function(e){return{name:qe.default.NAME,opts:{partUuid:e.partUuid,staffIdx:e.staffIdx,staffDetails:rn.default.copy(e.staffDetails),updateFrets:e.updateFrets}}},nn={type:qe.default.NAME,getReverseAction:an};var et=t(900110),tt=t(24443);const on=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:tt.default.NAME,opts:s}},dn={type:et.default.NAME,getReverseAction:on},cn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,placement:e.placement,timePos:e.timePos,dpq:e.dpq,type:e.type};return A(e,s),{name:et.default.NAME,opts:s}},un={type:tt.default.NAME,getReverseAction:cn};var st=t(824566),rt=t(656529);const vn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:rt.default.NAME,opts:s}},mn={type:st.default.NAME,getReverseAction:vn},ln=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,placement:e.placement,timePos:e.timePos,dpq:e.dpq,type:e.type};return A(e,s),{name:st.default.NAME,opts:s}},fn={type:rt.default.NAME,getReverseAction:ln};var at=t(846275),it=t(618496);const An=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:it.default.NAME,opts:s}},En={type:at.default.NAME,getReverseAction:An},Pn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,placement:e.placement,timePos:e.timePos,dpq:e.dpq,text:e.text};return A(e,s),{name:at.default.NAME,opts:s}},Mn={type:it.default.NAME,getReverseAction:Pn};var X=t(147765),nt=t(353012);const hn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:nt.default.NAME,opts:s}},Un={type:X.default.NAME,getReverseAction:hn};var Dn=t(605268);const _n=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement};return A(e,s),{name:X.default.NAME,opts:s}},Rn={type:Dn.default.NAME,getReverseAction:_n},pn=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement};return A(e,s),{name:X.default.NAME,opts:s}},gn={type:nt.default.NAME,getReverseAction:pn};var ot=t(401157),dt=t(933516);const yn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq,transpose:!1};return A(e,s),{name:dt.default.NAME,opts:s}},Tn={type:ot.default.NAME,getReverseAction:yn},On=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement,size:e.size,transpose:!1};return A(e,s),{name:ot.default.NAME,opts:s}},Nn={type:dt.default.NAME,getReverseAction:On};var ct=t(159238),ut=t(974116);const In=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx};return r(e,s),{name:ct.default.NAME,opts:s}},Sn={type:ut.default.NAME,getReverseAction:In},Cn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched),notehead:e.notehead,durationType:e.durationType};return r(e,s),A(e,s),{name:ut.default.NAME,opts:s}},xn={type:ct.default.NAME,getReverseAction:Cn};var vt=t(99241),mt=t(908617);const Bn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched)};return r(e,s),{name:vt.default.NAME,opts:s}},Ln={type:mt.default.NAME,getReverseAction:Bn},Wn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched),notehead:e.notehead};return r(e,s),A(e,s),{name:mt.default.NAME,opts:s}},Kn={type:vt.default.NAME,getReverseAction:Wn};var lt=t(394409);const jn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched),notehead:e.notehead};return r(e,s),{name:lt.default.NAME,opts:s}},Gn={type:lt.default.NAME,getReverseAction:jn};var ft=t(946330),At=t(934462);const Fn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,"display-step":C.default.getStep(e.unpitched),"display-octave":C.default.getOctave(e.unpitched)};return r(e,s),{name:At.default.NAME,opts:s}},Vn={type:ft.default.NAME,getReverseAction:Fn},Hn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,"display-step":C.default.getStep(e.unpitched),"display-octave":C.default.getOctave(e.unpitched)};return r(e,s),{name:ft.default.NAME,opts:s}},Xn={type:At.default.NAME,getReverseAction:Hn};var Et=t(652413),Pt=t(594306);const zn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch)};return r(e,s),{name:Et.default.NAME,opts:s}},Jn={type:Pt.default.NAME,getReverseAction:zn},$n=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch)};return r(e,s),{name:Pt.default.NAME,opts:s}},Qn={type:Et.default.NAME,getReverseAction:$n};var Mt=t(16806),ht=t(891357);const Yn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),number:e.number,glissandoType:e.glissandoType};return r(e,s),{name:ht.default.NAME,opts:s}},Zn={type:Mt.default.NAME,getReverseAction:Yn},bn=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch),number:e.number,glissandoType:e.glissandoType};return r(e,s),{name:Mt.default.NAME,opts:s}},kn={type:ht.default.NAME,getReverseAction:bn};var wn=t(186552),qn=t(174511),eo=t(777345);const to=function(e){const s=e.measureUuids.slice();return{name:wn.default.NAME,opts:{measureUuids:s,swing:eo.default.copy(e.previousSwing)}}},so={type:qn.default.NAME,getReverseAction:to};var Ut=t(263494),Dt=t(389603);const ro=function(e){return{name:Dt.default.NAME,opts:{measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq}}},ao={type:Ut.default.NAME,getReverseAction:ro},io=function(e){return{name:Ut.default.NAME,opts:{startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,type:e.type}}},no={type:Dt.default.NAME,getReverseAction:io};var _t=t(669784),Rt=t(658727);const oo=function(e){const s=(0,d.default)(e.voicesData),a=(0,d.default)(e.voiceIdxToUuidMapping),B=K.default.copy(e.clef),j={partUuid:e.partUuid,staffUuid:e.staffUuid,voicesData:s,voiceIdxToUuidMapping:a,clef:B};return typeof e.previousUuid!="undefined"&&typeof e.nextUuid!="undefined"&&(j.previousUuid=e.previousUuid,j.nextUuid=e.nextUuid),j.staffIdx=e.staffIdx,{name:Rt.default.NAME,opts:j}},co={type:_t.default.NAME,getReverseAction:oo},uo=function(e){const s={partUuid:e.partUuid};return typeof e.staffUuid!="undefined"&&(s.staffUuid=e.staffUuid),s.staffIdx=e.staffIdx,{name:_t.default.NAME,opts:s}},vo={type:Rt.default.NAME,getReverseAction:uo};var pt=t(910748),gt=t(615059);const mo=function(e){return{name:gt.default.NAME,opts:{measureUuid:e.measureUuid}}},lo={type:pt.default.NAME,getReverseAction:mo},fo=function(e){return{name:pt.default.NAME,opts:{measureUuid:e.measureUuid,rehearsal:e.rehearsal,type:e.type}}},Ao={type:gt.default.NAME,getReverseAction:fo};var yt=t(398519);const Eo=function(e){return{name:yt.default.NAME,opts:{coeff:e.previousCoeff}}},Po={type:yt.default.NAME,getReverseAction:Eo};var Tt=t(461256),Mo=t(493596);const ho=function(e){const s=Mo.A.copy(e.previousConfig);return{name:Tt.default.NAME,opts:{config:s}}},Uo={type:Tt.default.NAME,getReverseAction:ho};var Ot=t(307346);const Do=function(e){return{name:Ot.default.NAME,opts:{value:e.previousValue}}},_o={type:Ot.default.NAME,getReverseAction:Do};var Nt=t(513521);const Ro=function(e){return{name:Nt.default.NAME,opts:{value:e.previousValue}}},po={type:Nt.default.NAME,getReverseAction:Ro};var It=t(106301);const go=function(e){return{name:It.default.NAME,opts:{value:e.previousValue}}},yo={type:It.default.NAME,getReverseAction:go};var St=t(461761);const To=function(e){return{name:St.default.NAME,opts:{policy:e.previousPolicy}}},Oo={type:St.default.NAME,getReverseAction:To};var Ct=t(855874);const No=function(e){return{name:Ct.default.NAME,opts:{partUuid:e.partUuid,volume:e.previousVolume}}},Io={type:Ct.default.NAME,getReverseAction:No};var xt=t(121784);const So=function(e){return{name:xt.default.NAME,opts:{partUuid:e.partUuid,reverberation:e.previousReverberation}}},Co={type:xt.default.NAME,getReverseAction:So};var Bt=t(200808),Lt=t(643569);const xo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx};return r(e,s),{name:Lt.default.NAME,opts:s}},Bo={type:Bt.default.NAME,getReverseAction:xo},Lo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx};return r(e,s),{name:Bt.default.NAME,opts:s}},Wo={type:Lt.default.NAME,getReverseAction:Lo};var Wt=t(515561),Kt=t(691120);const Ko=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch)};return r(e,s),{name:Kt.default.NAME,opts:s}},jo={type:Wt.default.NAME,getReverseAction:Ko},Go=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch)};return r(e,s),{name:Wt.default.NAME,opts:s}},Fo={type:Kt.default.NAME,getReverseAction:Go};var jt=t(663273),Gt=t(547336);const Vo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched)};return r(e,s),{name:Gt.default.NAME,opts:s}},Ho={type:jt.default.NAME,getReverseAction:Vo},Xo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched)};return r(e,s),{name:jt.default.NAME,opts:s}},zo={type:Gt.default.NAME,getReverseAction:Xo};var Ft=t(652804),Vt=t(714015);const Jo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch)};return r(e,s),{name:Vt.default.NAME,opts:s}},$o={type:Ft.default.NAME,getReverseAction:Jo},Qo=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copy(e.pitch)};return r(e,s),{name:Ft.default.NAME,opts:s}},Yo={type:Vt.default.NAME,getReverseAction:Qo};var Zo=t(269032),Ht=t(402359),Xt=t(801534);const bo=function(e){const s={measureUuid:e.measureUuid,direction:e.direction};return e.direction===Zo.A.DIRECTION_BACKWARD&&(s.times=e.times),{name:Xt.default.NAME,opts:s}},ko={type:Ht.default.NAME,getReverseAction:bo},wo=function(e){return{name:Ht.default.NAME,opts:{measureUuid:e.measureUuid,direction:e.direction}}},qo={type:Xt.default.NAME,getReverseAction:wo};var zt=t(633210),Jt=t(731829);const ed=function(e){return{name:Jt.default.NAME,opts:{measureUuid:e.measureUuid}}},td={type:zt.default.NAME,getReverseAction:ed},sd=function(e){return{name:zt.default.NAME,opts:{measureUuid:e.measureUuid}}},rd={type:Jt.default.NAME,getReverseAction:sd};var $t=t(909103),Qt=t(258392);const ad=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1,fingering:e.fingering};return r(e,s),{name:Qt.default.NAME,opts:s}},id={type:$t.default.NAME,getReverseAction:ad},nd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1};return r(e,s),{name:$t.default.NAME,opts:s}},od={type:Qt.default.NAME,getReverseAction:nd};var Yt=t(244651),Zt=t(19551);const dd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1,color:e.color};return r(e,s),{name:Zt.default.NAME,opts:s}},cd={type:Yt.default.NAME,getReverseAction:dd},ud=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1};return r(e,s),{name:Yt.default.NAME,opts:s}},vd={type:Zt.default.NAME,getReverseAction:ud};var bt=t(278572),kt=t(744264);const md=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),isConcertPitch:!1,color:e.color};return r(e,s),{name:kt.default.NAME,opts:s}},ld={type:bt.default.NAME,getReverseAction:md},fd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),isConcertPitch:!1};return r(e,s),{name:bt.default.NAME,opts:s}},Ad={type:kt.default.NAME,getReverseAction:fd};var wt=t(408649),qt=t(320725);const Ed=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1,color:e.color};return r(e,s),{name:qt.default.NAME,opts:s}},Pd={type:wt.default.NAME,getReverseAction:Ed},Md=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1};return r(e,s),{name:wt.default.NAME,opts:s}},hd={type:qt.default.NAME,getReverseAction:Md};var es=t(795510),ts=t(534250);const Ud=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched),isConcertPitch:!1,color:e.color};return r(e,s),{name:ts.default.NAME,opts:s}},Dd={type:es.default.NAME,getReverseAction:Ud},_d=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,graceIdx:e.graceIdx,unpitched:C.default.copy(e.unpitched),isConcertPitch:!1};return r(e,s),{name:es.default.NAME,opts:s}},Rd={type:ts.default.NAME,getReverseAction:_d};var ss=t(233113),rs=t(160965);const pd=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,divisions:e.divisions,timePos:e.timePos,timeModif:s,color:e.color};return r(e,a),{name:ss.default.NAME,opts:a}},gd={type:rs.default.NAME,getReverseAction:pd},yd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,divisions:e.divisions,timePos:e.timePos};return r(e,s),{name:rs.default.NAME,opts:s}},Td={type:ss.default.NAME,getReverseAction:yd};var as=t(612716);const Od=function(e){return{name:as.default.NAME,opts:{width:e.width,height:e.height}}},Nd={type:as.default.NAME,getReverseAction:Od};var is=t(699640);const Id=function(e){return{name:is.default.NAME,opts:{value:e.previousValue}}},Sd={type:is.default.NAME,getReverseAction:Id};var ns=t(326582),os=t(417477);const Cd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,leftPitch:i.default.copyWithoutAlter(e.leftPitch),rightPitch:i.default.copyWithoutAlter(e.rightPitch)};return r(e,s),{name:os.default.NAME,opts:s}},xd={type:ns.default.NAME,getReverseAction:Cd},Bd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,leftPitch:i.default.copyWithoutAlter(e.leftPitch),rightPitch:i.default.copyWithoutAlter(e.rightPitch)};return r(e,s),{name:ns.default.NAME,opts:s}},Ld={type:os.default.NAME,getReverseAction:Bd};var ds=t(742253);const Wd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,beamStatus:e.beamStatus};return r(e,s),{name:ds.default.NAME,opts:s}},Kd={type:ds.default.NAME,getReverseAction:Wd};var cs=t(747670),us=t(253941);const jd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:us.default.NAME,opts:s}},Gd={type:cs.default.NAME,getReverseAction:jd},Fd=function(e){const s={partUuid:e.partUuid,startMeasureUuid:e.startMeasureUuid,startTimePos:e.startTimePos,startDpq:e.startDpq,stopMeasureUuid:e.stopMeasureUuid,stopTimePos:e.stopTimePos,stopDpq:e.stopDpq,placement:e.placement,type:e.type};return A(e,s),{name:cs.default.NAME,opts:s}},Vd={type:us.default.NAME,getReverseAction:Fd};var vs=t(540781);const Hd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),notehead:e.notehead};return r(e,s),{name:vs.default.NAME,opts:s}},Xd={type:vs.default.NAME,getReverseAction:Hd};var ms=t(528956);const zd=function(e){return{name:ms.default.NAME,opts:{musicFont:e.previousMusicFont}}},Jd={type:ms.default.NAME,getReverseAction:zd};var ls=t(657851),$d=t(914390);const Qd=function(e){const s=Yd(e.fontEntry);return{name:ls.default.NAME,opts:{fontEntry:s,textType:e.textType}}};function Yd(e){return e!==null?$d.default.copy(e):null}const Zd={type:ls.default.NAME,getReverseAction:Qd};var fs=t(196270),As=t(703447);const bd=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq};return A(e,s),{name:As.default.NAME,opts:s}},kd={type:fs.default.NAME,getReverseAction:bd},wd=function(e){const s=K.default.copy(e.clef),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq,clef:s};return A(e,a),{name:fs.default.NAME,opts:a}},qd={type:As.default.NAME,getReverseAction:wd};var Es=t(636254);const ec=function(e){const s=K.default.copy(e.clef),a={partUuid:e.partUuid,measureUuid:e.measureUuid,clef:s};return A(e,a),{name:Es.default.NAME,opts:a}},tc={type:Es.default.NAME,getReverseAction:ec};var Ps=t(833880);const sc=function(e){const s={pageNumberingStart:e.pageNumberingStart};return{name:Ps.default.NAME,opts:s}},rc={type:Ps.default.NAME,getReverseAction:sc};var Ms=t(517573);const ac=function(e){const s={measureNumberingStart:e.measureNumberingStart};return{name:Ms.default.NAME,opts:s}},ic={type:Ms.default.NAME,getReverseAction:ac};var hs=t(51384),Us=t(726271);const nc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,patternNbMeasures:e.patternNbMeasures};return A(e,s),{name:hs.default.NAME,opts:s}},oc={type:Us.default.NAME,getReverseAction:nc},dc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid};return A(e,s),{name:Us.default.NAME,opts:s}},cc={type:hs.default.NAME,getReverseAction:dc};var Ds=t(860418),_s=t(330179);const uc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),fretData:(0,d.default)(e.fretData),isConcertPitch:!1};return r(e,s),{name:_s.default.NAME,opts:s}},vc={type:Ds.default.NAME,getReverseAction:uc},mc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),fretData:(0,d.default)(e.fretData),isConcertPitch:!1,type:e.type,alter:e.alter};return r(e,s),{name:Ds.default.NAME,opts:s}},lc={type:_s.default.NAME,getReverseAction:mc};var Rs=t(410007),ps=t(955832);const fc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),fretData:(0,d.default)(e.fretData),isConcertPitch:!1};return r(e,s),{name:ps.default.NAME,opts:s}},Ac={type:Rs.default.NAME,getReverseAction:fc},Ec=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),fretData:(0,d.default)(e.fretData),isConcertPitch:!1,alter:e.alter};return r(e,s),{name:Rs.default.NAME,opts:s}},Pc={type:ps.default.NAME,getReverseAction:Ec};var gs=t(310107);const Mc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1,tieDirection:e.tieDirection};return r(e,s),{name:gs.default.NAME,opts:s}},hc={type:gs.default.NAME,getReverseAction:Mc};var ys=t(883740);const Uc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,unpitched:C.default.copy(e.unpitched),isConcertPitch:!1,tieDirection:e.tieDirection};return r(e,s),{name:ys.default.NAME,opts:s}},Dc={type:ys.default.NAME,getReverseAction:Uc};var Ts=t(680023),Os=t(678366);const _c=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1,type:e.type};return r(e,s),{name:Os.default.NAME,opts:s}},Rc={type:Ts.default.NAME,getReverseAction:_c},pc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,pitch:i.default.copyWithoutAlter(e.pitch),isConcertPitch:!1};return r(e,s),{name:Ts.default.NAME,opts:s}},gc={type:Os.default.NAME,getReverseAction:pc};var Ns=t(549553);const yc=function(e){return{name:Ns.default.NAME,opts:{partUuid:e.partUuid,isGroupedWithPrevious:e.isGroupedWithPrevious}}},Tc={type:Ns.default.NAME,getReverseAction:yc};var Is=t(641656),Ss=t(712844);const Oc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,isUsingStems:e.isUsingStems};return A(e,s),{name:Is.default.NAME,opts:s}},Nc={type:Ss.A.NAME,getReverseAction:Oc},Ic=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid};return A(e,s),{name:Ss.A.NAME,opts:s}},Sc={type:Is.default.NAME,getReverseAction:Ic};var Cs=t(886723),xs=t(907574);const Cc=function(e){return{name:Cs.default.NAME,opts:{partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq}}},xc={type:xs.default.NAME,getReverseAction:Cc},Bc=function(e){const s=(0,d.default)(e.figuresData);return{name:xs.default.NAME,opts:{partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,dpq:e.dpq,figuresData:s}}},Lc={type:Cs.default.NAME,getReverseAction:Bc};var Bs=t(432384);const Wc=function(e){const s=I.default.copy(e.timeModif),a={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,durationType:e.previousDurationType,nbDots:e.previousNbDots,timeModif:s};return r(e,a),{name:Bs.default.NAME,opts:a}},Kc={type:Bs.default.NAME,getReverseAction:Wc};var Ls=t(554657),Ws=t(805396);const jc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,nbBeams:e.nbBeams};return r(e,s),{name:Ls.default.NAME,opts:s}},Gc={type:Ws.default.NAME,getReverseAction:jc},Fc=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions};return r(e,s),{name:Ws.default.NAME,opts:s}},Vc={type:Ls.default.NAME,getReverseAction:Fc};var Ks=t(227457);const Hc=function(e){return{name:Ks.default.NAME,opts:{policy:e.previousPolicy}}},Xc={type:Ks.default.NAME,getReverseAction:Hc};var js=t(713860),Gs=t(109049);const zc=function(e){const s={measureUuid:e.measureUuid};return{name:Gs.default.NAME,opts:s}},Jc={type:js.default.NAME,getReverseAction:zc},$c=function(e){const s={measureUuid:e.measureUuid,nbMeasures:e.nbMeasures};return{name:js.default.NAME,opts:s}},Qc={type:Gs.default.NAME,getReverseAction:$c};var Fs=t(925076);const Yc=function(e){return{name:Fs.default.NAME,opts:{chordPartType:e.chordPartType,chordPartValue:e.chordPartValue}}},Zc={type:Fs.default.NAME,getReverseAction:Yc};var Vs=t(549878);const bc=function(e){const s={partUuid:e.partUuid,hasQuarterTone:e.hasQuarterTone};return{name:Vs.default.NAME,opts:s}},kc={type:Vs.default.NAME,getReverseAction:bc};var Hs=t(833563);const wc=function(e){return{name:Hs.default.NAME,opts:{partUuid:e.partUuid,voiceUuid:e.voiceUuid,measureUuid:e.measureUuid,timePos:e.timePos,divisions:e.divisions,placement:e.previousPlacement}}},qc={type:Hs.default.NAME,getReverseAction:wc};var Xs=t(94014);const eu=function(e){const s={partUuid:e.partUuid,measureUuid:e.measureUuid,staffUuid:e.staffUuid,timePos:e.timePos,dpq:e.dpq,relativePos:e.oldRelativePos};return{name:Xs.A.NAME,opts:s}},tu={type:Xs.A.NAME,getReverseAction:eu};var zs=t(867734),Js=t(679241);const su=function(e){return{name:zs.default.NAME,opts:{measureUuid:e.measureUuid}}},ru={type:Js.default.NAME,getReverseAction:su},au=function(e){return{name:Js.default.NAME,opts:{measureUuid:e.measureUuid,value:e.value}}},iu={type:zs.default.NAME,getReverseAction:au};var $s=t(429240),Qs=t(975583);const nu=function(e){return{name:$s.default.NAME,opts:{measureUuid:e.measureUuid}}},ou={type:Qs.default.NAME,getReverseAction:nu},du=function(e){return{name:Qs.default.NAME,opts:{measureUuid:e.measureUuid,value:e.value}}},cu={type:$s.default.NAME,getReverseAction:du};var Ys=t(825341);function uu(e){return{name:Ys.default.NAME,opts:{}}}const vu={type:Ys.default.NAME,getReverseAction:uu},Zs=n.default.fromList([o,M,T,N,ks,qs,tr,rr,ir,or,cr,vr,lr,Ar,Pr,gr,Tr,Nr,Sr,Br,Wr,Gr,Vr,Xr,Jr,Zr,Qr,kr,qr,ra,ia,oa,ma,Pa,ha,Da,Ra,ga,Ta,Na,Sa,xa,La,ja,Fa,Ha,za,Qa,Za,ka,qa,ti,ri,ii,oi,ci,vi,li,Ei,hi,_i,pi,Oi,Ii,Ci,Bi,Wi,ji,Fi,Hi,zi,Yi,$i,bi,wi,en,sn,nn,un,dn,fn,mn,Mn,En,Un,Rn,gn,Tn,Nn,Sn,xn,Ln,Kn,Gn,Vn,Xn,Jn,Qn,Zn,kn,so,ao,no,vo,co,lo,Ao,Po,Uo,_o,po,yo,Oo,Io,Co,Bo,Wo,jo,Fo,Ho,zo,$o,Yo,qo,ko,rd,td,od,id,ru,iu,ou,cu,cd,vd,ld,Ad,Pd,hd,Dd,Rd,gd,Td,Nd,Sd,xd,Ld,Kd,Gd,Vd,Xd,Jd,Zd,kd,qd,tc,rc,ic,cc,oc,vc,lc,Ac,Pc,hc,Dc,Rc,gc,Tc,Sc,Nc,xc,Lc,Kc,Gc,Vc,Xc,Jc,Qc,Zc,kc,qc,tu,vu],e=>e.type),W={};W.canReverseRecord=function(e){return W.hasReverter(e.type)},W.hasReverter=function(e){return typeof Zs[e]!="undefined"},W.getReverseData=function(e){return W.getReverter(e.type).getReverseAction(e.opts)},W.getReverter=function(e){return Zs[e]};const bs=W,mu=function(e){let s=c.A.extractTrueActions(e);s=s.filter(bs.canReverseRecord);const a=s.map(bs.getReverseData);return a.reverse(),a}},514756:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(601868);const i=function(d){const v={},r={};(0,c.A)(v,d,r)}},534512:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(346735),n=t(104907);const d=function(v,r){const u=(0,c.A)(v,r);return n.default.hasTab(u)}},546835:(_,l,t)=>{"use strict";t.d(l,{default:()=>O});var c=t(297098),n=t(701387),i=t(123491),d=t(402315),v=t(726271),r=t(210052),u=t(330751),m=t(987237),o=t(793317),f=t(691309),E=t(519405),h=t(379668);const P=function(R,p,U){this.init(R,p,U)};P.NAME="composite.AddLyric";const M=P.prototype;M.name=P.NAME,M.initMeasureData=o.default,M.init=function(R,p,U){this.initMeasureData(R,p),this.cancelStack=U,this.opts=p,this.crossMeasure=new f.default(this.measureData,this.opts.voiceIdx,this.opts.noteIdx)},M.perform=function(){this.removeMmr(),this.removeMeasureRepeat(),this.removeLyric();const R=this.getSyllabicType();this.addLyric(R),this.updateSyllabicType(),this.updateMelismaType(),this.opts.hasRightConnection&&this.hasLyricAfter()&&this.updateNextSyllabicType()},M.removeMmr=function(){(0,h.A)(this.measureData,this.opts,this.cancelStack)},M.removeMeasureRepeat=function(){const p=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx),U=i.default.getStaffIdx(p),T=this.measureData.getMeasure();if(!n.default.hasMeasureRepeat(T,U))return;const y={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,staffIdx:U},S=this.measureData.getScoreData(),x=new v.default(S,y,this.cancelStack);(0,E.default)(x)},M.removeLyric=function(){const p=this.measureData.getVoice(this.opts.voiceIdx).getNote(this.opts.noteIdx);if(!i.default.hasLyricAtLevel(p,this.opts.level))return;const U={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level},T=new d.default(this.measureData,U,this.cancelStack);(0,E.default)(T)},M.getSyllabicType=function(){return this.opts.hasRightConnection?c.A.BEGIN:c.A.SINGLE},M.addLyric=function(R){const p={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level,lyric:this.opts.lyric,syllabicType:R};new m.A(this.measureData,p,this.cancelStack).perform()},M.updateSyllabicType=function(){const R={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level};new r.A(this.measureData,R,this.cancelStack).perform()},M.updateMelismaType=function(){const R={partIdx:this.opts.partIdx,measureIdx:this.opts.measureIdx,voiceIdx:this.opts.voiceIdx,noteIdx:this.opts.noteIdx,level:this.opts.level};new u.A(this.measureData,R,this.cancelStack).perform()},M.hasLyricAfter=function(){if(this.hasNoteAfter()){const R=this.getNoteAfter();return i.default.hasLyricAtLevel(R,this.opts.level)}else return!1},M.hasNoteAfter=function(){return this.crossMeasure.hasRightOverflow()?this.measureData.hasNextMeasure()?!!this.crossMeasure.hasRightVoice():!1:!0},M.getNoteAfter=function(){const R=this.crossMeasure.getRightVoice(),p=this.crossMeasure.getRightNoteIdx();return R.getNote(p)},M.updateNextSyllabicType=function(){const R=this.crossMeasure.getRightMeasureIdx(),p=this.crossMeasure.getRightMeasure(),U=this.crossMeasure.getRightNoteIdx(),T={partIdx:this.opts.partIdx,measureIdx:R,voiceIdx:this.opts.voiceIdx,noteIdx:U,level:this.opts.level};new r.A(p,T,this.cancelStack).perform()};const O=P},547985:(_,l,t)=>{"use strict";t.d(l,{default:()=>u});var c=t(31278),n=t(364596),i=t(701387),d=t(446921),v=t(365479),r=t(948507);class u{constructor(f,E,h){this.scoreData=f,this.cancelStack=h,this.opts=E}perform(){const f=this.findPartIdx();f!==null&&this.applyKeys(f)}findPartIdx(){const f=this.scoreData.getNbParts();for(let E=0;E<f;E++)if(E!==this.opts.partIdx&&!this.scoreData.isPartUnpitched(E))return E;return null}applyKeys(f){const E=this.getKeys(f),h=this.scoreData.getPartNbStaves(this.opts.partIdx);for(let P=0;P<h;P++)E.forEach(M=>{this.applyKey(P,M)})}getKeys(f){const h=this.scoreData.getPartContent(f),P=d.A.getMeasures(h),[M]=P,[O]=i.default.getTranspose(M),R=this.scoreData.getMeasure(this.opts.partIdx,0),[p]=i.default.getTranspose(R);let U=this.scoreData.getNbMeasures()-1;const T=[];for(let y=P.length-1;y>=0;y--){const S=P[y],x=i.default.getWrappedOwnKey(S);if(x.hasEntry(0)){let N=x.getEntry(0);N=n.default.transpose(N,O),N=n.default.reverseTranspose(N,p);const I={startMeasureIdx:y,stopMeasureIdx:U,key:N};U=y-1,T.push(I)}}return T}applyKey(f,E){const{key:h,startMeasureIdx:P,stopMeasureIdx:M}=E,O={partIdx:this.opts.partIdx,staffIdx:f,startMeasureIdx:P,stopMeasureIdx:M,key:h},R=new v.default(this.scoreData,O,this.cancelStack);(0,r.default)(R,m)}}function m(o){return o instanceof c.default}},555308:(_,l,t)=>{"use strict";t.d(l,{default:()=>r});var c=t(226804),n=t(856219);const i=function(u){return{score:u.map(d),MIDI:u.map(v)}},d=function(u){return c.default.create(u.name)},v=function(u){const m={};return n.default.setUnpitched(m,u.unpitched),n.default.setMIDIProgram(m,u.MIDIProgram),m},r=i},596888:(_,l,t)=>{"use strict";t.d(l,{default:()=>v});var c=t(601868);const n={},i=function(r){const u={};r.forEach(d,u)},d=function(r){const u=this;(0,c.A)(n,r,u)},v=i},612487:(_,l,t)=>{"use strict";t.d(l,{A:()=>v});var c=t(163266),n=t(514263),i=t(883325),d=t(832560);function v(r,u){const m=(0,c.A)(r,u),o=(0,n.A)(r,u),f=(0,i.A)(r,u),E=r.getMeasure(m,o);new d.A(E).getVoice(f).checkNoteIdx(u.noteIdx)}},640021:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});const n=function(i,d){typeof d.firstMeasureIdx!="undefined"&&(d.startMeasureIdx=d.firstMeasureIdx,delete d.firstMeasureIdx),typeof d.lastMeasureIdx!="undefined"&&(d.stopMeasureIdx=d.lastMeasureIdx,delete d.lastMeasureIdx)}},641239:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(264843),n=t(713360);const d=function(v,r,u){let m;if(r!==null&&v.hasPartByUuid(r))return m=(0,n.A)(v.getPartsHeaders(),r),m+1;if(u!==null&&v.hasPartByUuid(u))return(0,n.A)(v.getPartsHeaders(),u);if(r===null)return 0;if(u===null)return v.getNbParts();throw new c.A(r,u)}},655035:(_,l,t)=>{"use strict";t.d(l,{default:()=>v});var c=t(243183),n=t(383279),i=t(414787);const v=function(r,u,m){const f=(0,c.A)(r).getPartHeader(u),E=n.default.getUnpitchedMapping(f);return i.A.getDefaultMIDIHead(E,m)}},661e3:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(31278);function n(v){return`The ${v} provided is the same than the current one.`}class i extends c.default{constructor(r,u,m){const o=n(r);super(o),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentAttr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"newAttr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="SameAttrError",this.type=r,this.currentAttr=u,this.newAttr=m}}Object.defineProperty(i,"KEY",{enumerable:!0,configurable:!0,writable:!0,value:"key signature"}),Object.defineProperty(i,"TIME",{enumerable:!0,configurable:!0,writable:!0,value:"time signature"}),Object.defineProperty(i,"CLEF",{enumerable:!0,configurable:!0,writable:!0,value:"clef"}),Object.defineProperty(i,"TRANSPOSE",{enumerable:!0,configurable:!0,writable:!0,value:"transposition"});const d=i},677585:(_,l,t)=>{"use strict";t.d(l,{default:()=>u});var c=t(669038),n=t(157679),i=t(592999),d=t(210888);const v=function(m,o){if(!r(o.partUuid))throw new c.A(o.partUuid,c.A.INSERT);if(m.hasPartByUuid(o.partUuid))throw new n.A(o.partUuid);if(typeof o.previousUuid!="undefined"&&o.partUuid===o.previousUuid)throw new i.A(o.partUuid,i.A.PART);if(o.nextUuid!=="undeifned"&&o.partUuid===o.nextUuid)throw new i.A(o.partUuid,i.A.PART)},r=function(m){return typeof m=="string"&&d.default.isValid(m)},u=v},700068:(_,l,t)=>{"use strict";t.d(l,{default:()=>u});var c=t(474015),n=t(323161),i=t(843678);const d=function(m){const o={};m.forEach(v,o)},v=function(m){const o=this;i.default.forEach(m.voiceIdxToUuidMapping,r,o)},r=function(m,o){n.A.check(o);const f=this;if(typeof f[o]=="undefined")f[o]=!0;else throw new c.A(o)},u=d},701387:(_,l,t)=>{"use strict";t.d(l,{default:()=>A});var c=t(481337),n=t(664419),i=t(388848),d=t(939889),v=t(867657),r=t(514521),u=t(157526),m=t(616238),o=t(146068),f=t(422506),E=t(546573),h=t(339848),P=t(313347),M=t(971248),O=t(12956),R=t(379450),p=t(662422),U=Object.defineProperty,T=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(D,g,L)=>g in D?U(D,g,{enumerable:!0,configurable:!0,writable:!0,value:L}):D[g]=L,N=(D,g)=>{for(var L in g||(g={}))y.call(g,L)&&x(D,L,g[L]);if(T)for(var L of T(g))S.call(g,L)&&x(D,L,g[L]);return D};const A=N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N({},p.default),c.default),u.default),d.default),E.default),R.default),O.default),M.default),P.default),h.default),v.default),n.default),i.default),f.default),r.default),m.default),o.default)},714151:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(589037),n=t(126362),i=t(856219);function d(r){if(r.length===0)throw new c.A;const u={};return r.forEach(v,u),u}function v(r){const u=this,m=r.unpitched,o=r.MIDIProgram;if(i.default.checkMIDIProgram(o),typeof u[m]=="undefined"&&(u[m]={}),typeof u[m][o]!="undefined")throw new n.A(m,o);u[m][o]=!0}},714898:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(191524),n=t(139560);const d=function(v,r){if(!r.isConcertPitch)return;const u=(0,n.A)(r),m=v.getTranspose(u),o=r.pitch,f=r.accidental,E=(0,c.A)(o,f,m);r.pitch=E.pitch,r.accidental=E.accidental,r.isConcertPitch=!1}},752582:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(210888);const i=function(d){const v=d.voiceIdxToUuidMapping||{},r={};d.voicesData.voices.forEach(function(u){typeof v[u]!="undefined"?r[u]=v[u]:r[u]=c.default.generate()}),d.voiceIdxToUuidMapping=r}},766472:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(209175);const i=function(d){typeof d.timePos!="undefined"&&typeof d.timeModif=="undefined"&&(d.timeModif=c.default.createDefault())}},769944:(_,l,t)=>{"use strict";t.d(l,{A:()=>d});var c=t(607682);const n="NOT_SAME_MEASURE",i="The two position should be on the same measure column.";function d(v,r){if(v.measureUuid!==r.measureUuid)throw new c.default(i,n)}},781852:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(607682);class n extends c.default{constructor(d){super(`The lyric text [${d}] is invalid.`),Object.defineProperty(this,"lyricText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="BadLyricTextError",this.lyricText=d}}},799945:(_,l,t)=>{"use strict";t.d(l,{default:()=>n});var c=t(607682);class n extends c.default{constructor(d){const v=`The setting [${d}] is missing.`;super(v),Object.defineProperty(this,"settingName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="MissingSettingError",this.settingName=d}}},805578:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(737903),n=t(292681);const d=function(v){const r={};for(const u in v){const m=v[u],o=n.default.parse(u),f=n.default.stringify(o),E=(0,c.default)(m);r[f]=E}return r}},831121:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(99923);const i=function(d){if(!d.isUnpitched())throw new c.A}},863244:(_,l,t)=>{"use strict";t.d(l,{default:()=>i});var c=t(970445);const n={};n.checkPercu=function(d){if(!n.isValidPercu(d))throw new c.A(d)},n.isValidPercu=function(d){return d===1||d===3||d===5};const i=n},875777:(_,l,t)=>{"use strict";t.d(l,{default:()=>m});var c=t(248703);const n={},i=function(o){const E={seedVoiceIdx:0,optsVoicesSet:d(o)};return o=o.map(u,E),o},d=function(o){const f={};return o.forEach(v,f),f},v=function(o){if(o!==null){const f=this;o.voices.forEach(r,f)}},r=function(o){const f=this;f[o]=!0},u=function(o){if(o!==null)return o;{const f=this,E=(0,c.A)(n,f.optsVoicesSet,f.seedVoiceIdx);return f.seedVoiceIdx=E+1,o={mainVoiceIdx:E,voices:[E]},o}},m=i},883325:(_,l,t)=>{"use strict";t.d(l,{A:()=>i});var c=t(213489),n=t(163266);function i(d,v){const r=(0,n.A)(d,v),u=v.voiceUuid;if(d.hasPartVoiceUuid(r,u))return d.getPartVoiceIdxFromUuid(r,u);throw new c.default(u,c.default.GET)}},891921:(_,l,t)=>{"use strict";t.d(l,{A:()=>d});var c=t(364842),n=t(123491);const d=function(v,r,u){let m=0;const o=v.size();for(let E=0;E<o;E++){if(m===u)return E;const h=v.getNote(E),P=n.default.getDuration(h);if(m+=P*r,m>u)return E}const f=`There is no noteIdx for time position [${m}].`;throw new c.default("Unexpected",f)}},963202:(_,l,t)=>{"use strict";t.d(l,{A:()=>d});var c=t(163266),n=t(514263),i=t(832560);function d(v,r){const u=(0,c.A)(v,r),m=(0,n.A)(v,r),o=v.getMeasure(u,m);return new i.A(o)}},992035:(_,l,t)=>{"use strict";t.d(l,{default:()=>d});var c=t(123491),n=t(359932);const d=function(v){if(c.default.hasTechnical(v,n.default.FRET)&&c.default.hasTechnical(v,n.default.STRING))return{fret:c.default.getTechnicalContent(v,n.default.FRET),string:c.default.getTechnicalContent(v,n.default.STRING)}}}}]);})();


//# debugId=04fe2016-c082-585c-90fc-e617d0571fdd
